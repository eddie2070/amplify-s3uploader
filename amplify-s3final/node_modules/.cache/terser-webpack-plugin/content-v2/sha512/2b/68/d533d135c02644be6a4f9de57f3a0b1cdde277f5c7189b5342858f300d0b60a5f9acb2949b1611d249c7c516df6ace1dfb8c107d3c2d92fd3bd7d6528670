{"code":"(this[\"webpackJsonpamplify-s3final\"]=this[\"webpackJsonpamplify-s3final\"]||[]).push([[6],{603:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"amplify_confirm_sign_in\",(function(){return b})),n.d(t,\"amplify_confirm_sign_up\",(function(){return g})),n.d(t,\"amplify_forgot_password\",(function(){return F})),n.d(t,\"amplify_require_new_password\",(function(){return w})),n.d(t,\"amplify_sign_in\",(function(){return v})),n.d(t,\"amplify_sign_up\",(function(){return O})),n.d(t,\"amplify_verify_contact\",(function(){return _}));var r=n(10),i=n(6),a=n(28),s=n(22),o=n(25),u=n(46),l=n(5),h=n(16),c=n(81),d=n(654),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r},b=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.confirm(e)},this.headerText=l.a.CONFIRM_SMS_CODE,this.submitButtonText=l.a.CONFIRM,this.handleAuthStateChange=c.d,this.formFields=[{type:\"code\",required:!0,handleInputChange:function(e){return t.handleCodeChange(e)}}],this.mfaOption=o.c.SMS,this.loading=!1}return e.prototype.componentWillLoad=function(){this.setup()},e.prototype.userHandler=function(){this.setup()},e.prototype.setup=function(){this.user&&this.user.challengeName===o.b.SoftwareTokenMFA&&(this.mfaOption=o.c.TOTP,this.headerText===l.a.CONFIRM_SMS_CODE&&(this.headerText=l.a.CONFIRM_TOTP_CODE))},e.prototype.handleCodeChange=function(e){this.code=e.target.value},e.prototype.confirm=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),t=this.user.challengeName===o.b.SoftwareTokenMFA?o.b.SoftwareTokenMFA:null,!u.a||\"function\"!==typeof u.a.confirmSignIn)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,u.a.confirmSignIn(this.user,this.code,t)];case 2:return r.sent(),[4,Object(d.a)(this.user,this.handleAuthStateChange)];case 3:return r.sent(),[3,6];case 4:return n=r.sent(),Object(c.a)(n),[3,6];case 5:return this.loading=!1,[7];case 6:return[2]}}))}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,submitButtonText:i.a.get(this.submitButtonText),loading:this.loading,secondaryFooterContent:Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN)))},Object(r.i)(\"amplify-auth-fields\",{formFields:this.formFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),g=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.confirmSignUp(e)},this.headerText=l.a.CONFIRM_SIGN_UP_HEADER_TEXT,this.submitButtonText=l.a.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT,this.formFields=[],this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.loading=!1,this.newFormFields=[],this.phoneNumber={countryDialCodeValue:h.q,phoneNumberValue:null}}return e.prototype.componentWillLoad=function(){this.setup()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.userHandler=function(){this.setup()},e.prototype.setup=function(){this.userInput=this.user&&this.user.username,this._signUpAttrs=this.user&&this.user.signUpAttrs,Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.buildDefaultFormFields=function(){var e=this;this.newFormFields=[{type:\"\"+this.usernameAlias,required:!0,handleInputChange:this.handleFormFieldInputChange(\"\"+this.usernameAlias),value:this.userInput,disabled:!!this.userInput},{type:\"code\",label:i.a.get(l.a.CONFIRM_SIGN_UP_CODE_LABEL),placeholder:i.a.get(l.a.CONFIRM_SIGN_UP_CODE_PLACEHOLDER),required:!0,hint:Object(r.i)(\"div\",null,i.a.get(l.a.CONFIRM_SIGN_UP_LOST_CODE),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.resendConfirmCode()}},i.a.get(l.a.CONFIRM_SIGN_UP_RESEND_CODE))),handleInputChange:this.handleFormFieldInputChange(\"code\")}]},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var a=Object.assign({},n);\"code\"===a.type&&(a.hint=Object(c.h)(a)?Object(r.i)(\"div\",null,i.a.get(l.a.CONFIRM_SIGN_UP_LOST_CODE),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.resendConfirmCode()}},i.a.get(l.a.CONFIRM_SIGN_UP_RESEND_CODE))):a.hint),a.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},t.push(a)})),this.newFormFields=t}},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"code\":return function(e){return t.code=e.target.value};default:return}},e.prototype.setFieldValue=function(e){switch(e.type){case\"username\":case\"email\":void 0===e.value?this.userInput=\"\":this.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.resendConfirmCode=function(){return p(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:if(event&&event.preventDefault(),!u.a||\"function\"!==typeof u.a.resendSignUp)throw new Error(h.d);t.label=1;case 1:if(t.trys.push([1,3,,4]),!this.userInput)throw new Error(l.a.EMPTY_USERNAME);return this.userInput=this.userInput.trim(),[4,u.a.resendSignUp(this.userInput)];case 2:return t.sent(),this.handleAuthStateChange(o.a.ConfirmSignUp),[3,4];case 3:return e=t.sent(),Object(c.a)(e),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e){return p(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.confirmSignUp)throw new Error(h.d);switch(this.loading=!0,this.usernameAlias){case\"phone_number\":try{this.userInput=Object(c.b)(this.phoneNumber)}catch(r){Object(c.a)(r)}}n.label=1;case 1:if(n.trys.push([1,6,7,8]),!this.userInput)throw new Error(l.a.EMPTY_USERNAME);return this.userInput=this.userInput.trim(),[4,u.a.confirmSignUp(this.userInput,this.code)];case 2:if(!n.sent())throw new Error(i.a.get(l.a.CONFIRM_SIGN_UP_FAILED));return this._signUpAttrs&&this._signUpAttrs.password&&\"\"!==this._signUpAttrs.password?[4,Object(d.b)(this.userInput,this._signUpAttrs.password,this.handleAuthStateChange)]:[3,4];case 3:return n.sent(),[3,5];case 4:this.handleAuthStateChange(o.a.SignIn),n.label=5;case 5:return[3,8];case 6:return t=n.sent(),Object(c.a)(t),[3,8];case 7:return this.loading=!1,[7];case 8:return[2]}}))}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),submitButtonText:i.a.get(this.submitButtonText),handleSubmit:this.handleSubmit,loading:this.loading,secondaryFooterContent:Object(r.i)(\"div\",null,Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN))))},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"],user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),y=new a.a(\"ForgotPassword\"),F=function(){function e(e){var t=this;Object(r.k)(this,e),this.headerText=l.a.RESET_YOUR_PASSWORD,this.sendButtonText=l.a.SEND_CODE,this.submitButtonText=l.a.SUBMIT,this.formFields=[],this.handleSend=function(e){return t.send(e)},this.handleSubmit=function(e){return t.submit(e)},this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.delivery=null,this.loading=!1,this.phoneNumber={countryDialCodeValue:h.q,phoneNumberValue:null},this.newFormFields=[],this.forgotPasswordAttrs={userInput:\"\",password:\"\",code:\"\"}}return e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.buildFormFields=function(){var e=this;0===this.formFields.length?this.buildDefaultFormFields():this.formFields.forEach((function(t){var n=Object.assign({},t);n.handleInputChange=function(n){return e.handleFormFieldInputWithCallback(n,t)},e.newFormFields.push(n)}))},e.prototype.buildDefaultFormFields=function(){switch(this.usernameAlias){case\"email\":this.newFormFields=[{type:\"email\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"forgot-password-email-input\"}}];break;case\"phone_number\":this.newFormFields=[{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"forgot-password-phone-number-input\"}}];break;case\"username\":default:this.newFormFields=[{type:\"username\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"forgot-password-username-input\"}}]}},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.forgotPasswordAttrs.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"password\":case\"code\":return function(n){return t.forgotPasswordAttrs[e]=n.target.value};default:return}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":case\"email\":void 0===e.value?t.userInput=\"\":t.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;case\"password\":case\"code\":void 0===e.value?t[e.type]=\"\":t[e.type]=e.value}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.send=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.forgotPassword)throw new Error(h.d);switch(this.loading=!0,this.usernameAlias){case\"phone_number\":try{this.forgotPasswordAttrs.userInput=Object(c.b)(this.phoneNumber)}catch(a){Object(c.a)(a)}}r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u.a.forgotPassword(this.forgotPasswordAttrs.userInput.trim())];case 2:return t=r.sent(),y.debug(t),this.newFormFields=[{type:\"code\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"code\"),inputProps:{\"data-test\":\"forgot-password-code-input\"}},{type:\"password\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),label:i.a.get(l.a.NEW_PASSWORD_LABEL),placeholder:i.a.get(l.a.NEW_PASSWORD_PLACEHOLDER)}],this.delivery=t.CodeDeliveryDetails,[3,5];case 3:return n=r.sent(),Object(c.a)(n),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.submit=function(e){return p(this,void 0,void 0,(function(){var t,n,r,i,a,s;return f(this,(function(l){switch(l.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.forgotPasswordSubmit)throw new Error(h.d);this.loading=!0,l.label=1;case 1:return l.trys.push([1,3,4,5]),t=this.forgotPasswordAttrs,n=t.userInput,r=t.code,i=t.password,[4,u.a.forgotPasswordSubmit(n,r,i)];case 2:return a=l.sent(),y.debug(a),this.handleAuthStateChange(o.a.SignIn),this.delivery=null,[3,5];case 3:return s=l.sent(),Object(c.a)(s),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.render=function(){var e=this,t=this.delivery?function(t){return e.handleSubmit(t)}:function(t){return e.handleSend(t)},n=this.delivery?this.submitButtonText:this.sendButtonText;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:t,loading:this.loading,secondaryFooterContent:Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)},\"data-test\":\"forgot-password-back-to-sign-in-link\"},i.a.get(l.a.BACK_TO_SIGN_IN)),testDataPrefix:\"forgot-password\",submitButtonText:i.a.get(n)},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}(),C=new a.a(\"amplify-require-new-password\"),w=function(){function e(e){var t=this;Object(r.k)(this,e),this.headerText=l.a.CHANGE_PASSWORD,this.submitButtonText=l.a.CHANGE_PASSWORD_ACTION,this.handleSubmit=function(e){return t.completeNewPassword(e)},this.handleAuthStateChange=c.d,this.formFields=[{type:o.e.Password,required:!0,handleInputChange:function(e){return t.handlePasswordChange(e)},label:i.a.get(l.a.NEW_PASSWORD_LABEL),placeholder:i.a.get(l.a.NEW_PASSWORD_PLACEHOLDER),inputProps:{\"data-test\":\"require-new-password-password-input\"}}],this.loading=!1,this.requiredAttributes={},this.newFormFields=this.formFields}return e.prototype.userHandler=function(){this.setCurrentUser()},e.prototype.handleRequiredAttributeInputChange=function(e,t){this.requiredAttributes[e]=t.target.value},e.prototype.setCurrentUser=function(){return p(this,void 0,void 0,(function(){var e,t,n,r,i=this;return f(this,(function(a){switch(a.label){case 0:if(this.user)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.a.currentAuthenticatedUser()];case 2:return(e=a.sent())&&(this.currentUser=e),[3,4];case 3:return t=a.sent(),Object(c.a)(t),[3,4];case 4:return[3,6];case 5:this.currentUser=this.user,a.label=6;case 6:return this.currentUser&&this.currentUser.challengeParam&&this.currentUser.challengeParam.requiredAttributes&&(n=this.currentUser.challengeParam.requiredAttributes,r=Object(c.f)(),n.forEach((function(e){var t={type:e,required:!0,label:r[e].label,placeholder:r[e].placeholder,handleInputChange:function(t){return i.handleRequiredAttributeInputChange(e,t)},inputProps:{\"data-test\":\"require-new-password-\"+e+\"-input\"}};i.newFormFields=m(i.newFormFields,[t])}))),[2]}}))}))},e.prototype.componentWillLoad=function(){return this.setCurrentUser()},e.prototype.handlePasswordChange=function(e){this.password=e.target.value},e.prototype.completeNewPassword=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.completeNewPassword)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,8,9,10]),[4,u.a.completeNewPassword(this.currentUser,this.password,this.requiredAttributes)];case 2:switch(t=r.sent(),C.debug(\"complete new password\",t),t.challengeName){case o.b.SMSMFA:return[3,3];case o.b.MFASetup:return[3,4]}return[3,5];case 3:return this.handleAuthStateChange(o.a.ConfirmSignIn,t),[3,7];case 4:return C.debug(\"TOTP setup\",t.challengeParam),this.handleAuthStateChange(o.a.TOTPSetup,t),[3,7];case 5:return[4,Object(d.a)(t,this.handleAuthStateChange)];case 6:r.sent(),r.label=7;case 7:return[3,10];case 8:return n=r.sent(),Object(c.a)(n),[3,10];case 9:return this.loading=!1,[7];case 10:return[2]}}))}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,loading:this.loading,secondaryFooterContent:Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN)),submitButtonText:i.a.get(this.submitButtonText)},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),v=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.signIn(e)},this.headerText=l.a.SIGN_IN_HEADER_TEXT,this.submitButtonText=l.a.SIGN_IN_ACTION,this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.formFields=[],this.hideSignUp=!1,this.newFormFields=[],this.loading=!1,this.phoneNumber={countryDialCodeValue:h.q,phoneNumberValue:null},this.signInAttributes={userInput:\"\",password:\"\"}}return e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.signInAttributes.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"password\":return function(e){return t.signInAttributes.password=e.target.value}}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.signIn=function(e){return p(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:switch(e&&e.preventDefault(),this.loading=!0,this.usernameAlias){case\"phone_number\":try{this.signInAttributes.userInput=Object(c.b)(this.phoneNumber)}catch(r){Object(c.a)(r)}}return t=this.signInAttributes.userInput.trim(),[4,Object(d.b)(t,this.signInAttributes.password,this.handleAuthStateChange)];case 1:return n.sent(),this.loading=!1,[2]}}))}))},e.prototype.buildDefaultFormFields=function(){var e=this,t=[];switch(this.usernameAlias){case\"email\":t.push({type:\"email\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-in-email-input\"}});break;case\"phone_number\":t.push({type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-in-phone-number-input\"}});break;case\"username\":default:t.push({type:\"username\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"sign-in-username-input\"}})}t.push({type:\"password\",hint:Object(r.i)(\"div\",null,i.a.get(l.a.FORGOT_PASSWORD_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.ForgotPassword)},\"data-test\":\"sign-in-forgot-password-link\"},i.a.get(l.a.RESET_PASSWORD_TEXT))),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-in-password-input\"}}),this.newFormFields=m(t)},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var a=Object.assign({},n);\"password\"===a.type&&(a.hint=Object(c.h)(a)?Object(r.i)(\"div\",null,i.a.get(l.a.FORGOT_PASSWORD_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.ForgotPassword)},\"data-test\":\"sign-in-forgot-password-link\"},i.a.get(l.a.RESET_PASSWORD_TEXT))):a.hint),a.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},e.setFieldValue(a,e.signInAttributes),t.push(a)})),this.newFormFields=t}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":case\"email\":void 0===e.value?t.userInput=\"\":t.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;case\"password\":void 0===e.value?t.password=\"\":t.password=e.value}},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,testDataPrefix:\"sign-in\"},Object(r.i)(\"div\",{slot:\"subtitle\"},Object(r.i)(\"slot\",{name:\"header-subtitle\"})),Object(r.i)(\"slot\",{name:\"federated-buttons\"},Object(r.i)(\"amplify-federated-buttons\",{handleAuthStateChange:this.handleAuthStateChange,federated:this.federated})),!Object(s.d)(this.federated)&&Object(r.i)(\"amplify-strike\",null,\"or\"),Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields}),Object(r.i)(\"div\",{slot:\"amplify-form-section-footer\",class:\"sign-in-form-footer\"},Object(r.i)(\"slot\",{name:\"footer\"},Object(r.i)(\"slot\",{name:\"secondary-footer-content\"},this.hideSignUp?Object(r.i)(\"span\",null):Object(r.i)(\"span\",null,i.a.get(l.a.NO_ACCOUNT_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignUp)},\"data-test\":\"sign-in-create-account-link\"},i.a.get(l.a.CREATE_ACCOUNT_TEXT)))),Object(r.i)(\"slot\",{name:\"primary-footer-content\"},Object(r.i)(\"amplify-button\",{type:\"submit\",disabled:this.loading,\"data-test\":\"sign-in-sign-in-button\"},this.loading?Object(r.i)(\"amplify-loading-spinner\",null):Object(r.i)(\"span\",null,i.a.get(this.submitButtonText))))))))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}();v.style=\":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}\";var O=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.signUp(e)},this.headerText=l.a.SIGN_UP_HEADER_TEXT,this.submitButtonText=l.a.SIGN_UP_SUBMIT_BUTTON_TEXT,this.haveAccountText=l.a.SIGN_UP_HAVE_ACCOUNT_TEXT,this.signInText=l.a.SIGN_IN_TEXT,this.formFields=[],this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.newFormFields=[],this.phoneNumber={countryDialCodeValue:h.q,phoneNumberValue:null},this.loading=!1,this.signUpAttributes={username:\"\",password:\"\",attributes:{}}}return e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":return function(e){return t.signUpAttributes.username=e.target.value};case\"password\":return function(e){return t.signUpAttributes.password=e.target.value};case\"email\":return function(e){return t.signUpAttributes.attributes.email=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};default:return function(n){return t.signUpAttributes.attributes[e]=n.target.value}}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.signUp=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.signUp)throw new Error(h.d);if(this.loading=!0,this.phoneNumber.phoneNumberValue)try{this.signUpAttributes.attributes.phone_number=Object(c.b)(this.phoneNumber)}catch(a){Object(c.a)(a)}switch(this.usernameAlias){case\"email\":case\"phone_number\":this.signUpAttributes.username=this.signUpAttributes.attributes[this.usernameAlias]}i.label=1;case 1:if(i.trys.push([1,6,7,8]),!this.signUpAttributes.username)throw new Error(l.a.EMPTY_USERNAME);if(this.signUpAttributes.username.indexOf(\" \")>=0)throw new Error(l.a.USERNAME_REMOVE_WHITESPACE);if(this.signUpAttributes.password!==this.signUpAttributes.password.trim())throw new Error(l.a.PASSWORD_REMOVE_WHITESPACE);return[4,u.a.signUp(this.signUpAttributes)];case 2:if(!(t=i.sent()))throw new Error(l.a.SIGN_UP_FAILED);return t.userConfirmed?[4,Object(d.b)(this.signUpAttributes.username,this.signUpAttributes.password,this.handleAuthStateChange)]:[3,4];case 3:return i.sent(),[3,5];case 4:n=Object.assign({},this.signUpAttributes),this.handleAuthStateChange(o.a.ConfirmSignUp,Object.assign(Object.assign({},t.user),{signUpAttrs:n})),i.label=5;case 5:return[3,8];case 6:return r=i.sent(),Object(c.a)(r),[3,8];case 7:return this.loading=!1,[7];case 8:return[2]}}))}))},e.prototype.buildDefaultFormFields=function(){switch(this.usernameAlias){case\"email\":this.newFormFields=[{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\"}},{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\"}}];break;case\"phone_number\":this.newFormFields=[{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\"}},{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\"}}];break;case\"username\":default:this.newFormFields=[{type:\"username\",placeholder:i.a.get(l.a.SIGN_UP_USERNAME_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"sign-up-username-input\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\"}},{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\"}},{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\"}}]}},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var r=Object.assign({},n);r.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},e.setFieldValue(n,e.signUpAttributes),t.push(r)})),this.newFormFields=t}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":void 0===e.value?t.username=\"\":t.username=e.value;break;case\"password\":void 0===e.value?t.password=\"\":t.password=e.value;break;case\"email\":t.attributes.email=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;default:t.attributes[e.type]=e.value}},e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,testDataPrefix:\"sign-up\"},Object(r.i)(\"div\",{slot:\"subtitle\"},Object(r.i)(\"slot\",{name:\"header-subtitle\"})),Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields}),Object(r.i)(\"div\",{class:\"sign-up-form-footer\",slot:\"amplify-form-section-footer\"},Object(r.i)(\"slot\",{name:\"footer\"},Object(r.i)(\"slot\",{name:\"secondary-footer-content\"},Object(r.i)(\"span\",null,i.a.get(this.haveAccountText),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)},\"data-test\":\"sign-up-sign-in-link\"},i.a.get(this.signInText)))),Object(r.i)(\"slot\",{name:\"primary-footer-content\"},Object(r.i)(\"amplify-button\",{type:\"submit\",\"data-test\":\"sign-up-create-account-button\"},this.loading?Object(r.i)(\"amplify-loading-spinner\",null):Object(r.i)(\"span\",null,i.a.get(this.submitButtonText))))))))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}();O.style=\":host{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";var I=new a.a(\"AmplifyVerifyContact\"),_=function(){function e(e){Object(r.k)(this,e),this.handleAuthStateChange=c.d,this.loading=!1}return e.prototype.handleSubmit=function(e){e.preventDefault(),this.verifyAttr?this.submit(this.code):this.verify(this.contact)},e.prototype.submit=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:if(t=this.verifyAttr,!u.a||\"function\"!==typeof u.a.verifyCurrentUserAttributeSubmit)throw new Error(h.d);this.loading=!0,i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,u.a.verifyCurrentUserAttributeSubmit(t,e)];case 2:return n=i.sent(),I.debug(n),this.handleAuthStateChange(o.a.SignedIn,this.user),this.verifyAttr=null,[3,5];case 3:return r=i.sent(),Object(c.a)(r),I.error(r),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.verify=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(!e)return I.error(\"Neither Email nor Phone Number selected\"),[2];if(!u.a||\"function\"!==typeof u.a.verifyCurrentUserAttribute)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u.a.verifyCurrentUserAttribute(e)];case 2:return t=r.sent(),I.debug(t),this.verifyAttr=e,[3,5];case 3:return n=r.sent(),Object(c.a)(n),I.error(n),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.handleInputChange=function(e){var t=e.target.name;\"code\"===t?this.code=e.target.value:\"contact\"===t&&(this.contact=e.target.value)},e.prototype.renderSubmit=function(){var e=this;return Object(r.i)(\"div\",null,Object(r.i)(\"amplify-input\",{inputProps:{autocomplete:\"off\",\"data-test\":\"verify-contact-code-input\"},name:\"code\",placeholder:i.a.get(l.a.CODE_PLACEHOLDER),handleInputChange:function(t){return e.handleInputChange(t)}}))},e.prototype.renderVerify=function(){var e=this,t=this.user;if(!t)return I.debug(\"No user to verify\"),null;var n=t.unverified;if(!n)return I.debug(\"Unverified variable does not exist on user\"),null;var a=n.email,s=n.phone_number;return Object(r.i)(\"div\",null,a&&Object(r.i)(\"amplify-radio-button\",{label:i.a.get(l.a.VERIFY_CONTACT_EMAIL_LABEL),key:\"email\",name:\"contact\",value:\"email\",handleInputChange:function(t){return e.handleInputChange(t)},inputProps:{\"data-test\":\"verify-contact-email-radio\"}}),s&&Object(r.i)(\"amplify-radio-button\",{label:i.a.get(l.a.VERIFY_CONTACT_PHONE_LABEL),key:\"phone_number\",name:\"contact\",value:\"phone_number\",handleInputChange:function(t){return e.handleInputChange(t)},inputProps:{\"data-test\":\"verify-contact-phone-number-radio\"}}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{handleSubmit:function(t){return e.handleSubmit(t)},headerText:i.a.get(l.a.VERIFY_CONTACT_HEADER_TEXT),loading:this.loading,secondaryFooterContent:Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignedIn,e.user)},\"data-test\":\"verify-contact-skip-link\"},\"Skip\")),submitButtonText:this.verifyAttr?i.a.get(l.a.VERIFY_CONTACT_SUBMIT_LABEL):i.a.get(l.a.VERIFY_CONTACT_VERIFY_LABEL)},this.verifyAttr?this.renderSubmit():this.renderVerify()))},e}()},654:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f})),n.d(t,\"b\",(function(){return m}));var r=n(28),i=n(22),a=n(25),s=n(46),o=n(14),u=n(5),l=n(16),h=n(81),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},p=new r.a(\"auth-helpers\");function f(e,t){return c(this,void 0,void 0,(function(){var n,r,o;return d(this,(function(u){switch(u.label){case 0:if(!s.a||\"function\"!==typeof s.a.verifiedContact)throw new Error(l.d);if(!b(e))return t(a.a.SignedIn,e),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,s.a.verifiedContact(e)];case 2:return n=u.sent(),!Object(i.d)(n.verified)||Object(i.d)(n.unverified)?t(a.a.SignedIn,e):(r=Object.assign(e,n),t(a.a.VerifyContact,r)),[3,4];case 3:return o=u.sent(),Object(h.a)(o),[3,4];case 4:return[2]}}))}))}var m=function(e,t,n){return c(void 0,void 0,void 0,(function(){var r,i;return d(this,(function(o){switch(o.label){case 0:if(!s.a||\"function\"!==typeof s.a.signIn)throw new Error(l.d);o.label=1;case 1:return o.trys.push([1,9,,10]),[4,s.a.signIn(e,t)];case 2:return r=o.sent(),p.debug(r),r.challengeName!==a.b.SMSMFA&&r.challengeName!==a.b.SoftwareTokenMFA?[3,3]:(p.debug(\"confirm user with \"+r.challengeName),n(a.a.ConfirmSignIn,r),[3,8]);case 3:return r.challengeName!==a.b.NewPasswordRequired?[3,4]:(p.debug(\"require new password\",r.challengeParam),n(a.a.ResetPassword,r),[3,8]);case 4:return r.challengeName!==a.b.MFASetup?[3,5]:(p.debug(\"TOTP setup\",r.challengeParam),n(a.a.TOTPSetup,r),[3,8]);case 5:return r.challengeName===a.b.CustomChallenge&&r.challengeParam&&\"true\"===r.challengeParam.trigger?(p.debug(\"custom challenge\",r.challengeParam),n(a.a.CustomConfirmSignIn,r),[3,8]):[3,6];case 6:return[4,f(r,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:return\"UserNotConfirmedException\"===(i=o.sent()).code?(p.debug(\"the user is not confirmed\"),n(a.a.ConfirmSignUp,{username:e})):\"PasswordResetRequiredException\"===i.code?(p.debug(\"the user requires a new password\"),n(a.a.ForgotPassword,{username:e})):\"InvalidParameterException\"===i.code&&\"\"===t&&(p.debug(\"Password cannot be empty\"),i.message=u.a.EMPTY_PASSWORD),Object(h.a)(i),[3,10];case 10:return[2]}}))}))},b=function(e){return e instanceof o.e}}}]);","name":"static/js/6.e11ec37f.chunk.js","map":{"version":3,"sources":["static/js/6.e11ec37f.chunk.js"],"names":["this","push","603","module","__webpack_exports__","__webpack_require__","r","d","AmplifyConfirmSignIn","AmplifyConfirmSignUp","AmplifyForgotPassword","AmplifyRequireNewPassword","AmplifySignIn","AmplifySignUp","AmplifyVerifyContact","_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__","_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__","_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__","_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","__spreadArrays","s","i","il","arguments","Array","k","a","j","jl","class_1","hostRef","_this","Object","handleSubmit","event","confirm","headerText","CONFIRM_SMS_CODE","submitButtonText","CONFIRM","handleAuthStateChange","formFields","type","required","handleInputChange","handleCodeChange","mfaOption","SMS","loading","prototype","componentWillLoad","setup","userHandler","user","SoftwareTokenMFA","TOTP","CONFIRM_TOTP_CODE","code","target","mfaType","error_1","_a","preventDefault","confirmSignIn","Error","render","get","secondaryFooterContent","variant","onClick","SignIn","BACK_TO_SIGN_IN","defineProperty","enumerable","configurable","class_2","confirmSignUp","CONFIRM_SIGN_UP_HEADER_TEXT","CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT","usernameAlias","newFormFields","phoneNumber","countryDialCodeValue","phoneNumberValue","formFieldsHandler","buildFormFields","userInput","username","_signUpAttrs","signUpAttrs","buildDefaultFormFields","handleFormFieldInputChange","disabled","CONFIRM_SIGN_UP_CODE_LABEL","placeholder","CONFIRM_SIGN_UP_CODE_PLACEHOLDER","hint","CONFIRM_SIGN_UP_LOST_CODE","resendConfirmCode","CONFIRM_SIGN_UP_RESEND_CODE","newFields_1","forEach","field","newField","assign","handleFormFieldInputWithCallback","fieldType","setFieldValue","undefined","dialCode","cb","bind","error_2","resendSignUp","EMPTY_USERNAME","trim","ConfirmSignUp","error_3","error","CONFIRM_SIGN_UP_FAILED","password","logger","class_3","RESET_YOUR_PASSWORD","sendButtonText","SEND_CODE","SUBMIT","handleSend","send","submit","delivery","forgotPasswordAttrs","inputProps","data-test","formAttributes","data","error_4","forgotPassword","debug","NEW_PASSWORD_LABEL","NEW_PASSWORD_PLACEHOLDER","CodeDeliveryDetails","error_5","_b","forgotPasswordSubmit","submitFn","testDataPrefix","logger$1","class_4","CHANGE_PASSWORD","CHANGE_PASSWORD_ACTION","completeNewPassword","Password","handlePasswordChange","requiredAttributes","setCurrentUser","handleRequiredAttributeInputChange","attribute","error_6","userRequiredAttributes","requiredAttributesMap_1","currentAuthenticatedUser","currentUser","challengeParam","formField","error_7","challengeName","SMSMFA","MFASetup","ConfirmSignIn","TOTPSetup","class_5","signIn","SIGN_IN_HEADER_TEXT","SIGN_IN_ACTION","hideSignUp","signInAttributes","formFieldInputs","FORGOT_PASSWORD_TEXT","ForgotPassword","RESET_PASSWORD_TEXT","newFields_2","slot","name","federated","class","NO_ACCOUNT_TEXT","SignUp","CREATE_ACCOUNT_TEXT","style","class_6","signUp","SIGN_UP_HEADER_TEXT","SIGN_UP_SUBMIT_BUTTON_TEXT","haveAccountText","SIGN_UP_HAVE_ACCOUNT_TEXT","signInText","SIGN_IN_TEXT","signUpAttributes","attributes","email","error_8","phone_number","indexOf","USERNAME_REMOVE_WHITESPACE","PASSWORD_REMOVE_WHITESPACE","SIGN_UP_FAILED","userConfirmed","SIGN_UP_EMAIL_PLACEHOLDER","SIGN_UP_PASSWORD_PLACEHOLDER","SIGN_UP_USERNAME_PLACEHOLDER","newFields_3","logger$2","class_7","verifyAttr","verify","contact","attr","error_9","verifyCurrentUserAttributeSubmit","SignedIn","error_10","verifyCurrentUserAttribute","inputName","renderSubmit","autocomplete","CODE_PLACEHOLDER","renderVerify","unverified","VERIFY_CONTACT_EMAIL_LABEL","key","VERIFY_CONTACT_PHONE_LABEL","VERIFY_CONTACT_HEADER_TEXT","VERIFY_CONTACT_SUBMIT_LABEL","VERIFY_CONTACT_VERIFY_LABEL","654","checkContact","handleSignIn","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__","_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__","_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_7__","newUser","verifiedContact","isCognitoUser","verified","VerifyContact","NewPasswordRequired","ResetPassword","CustomChallenge","trigger","CustomConfirmSignIn","message","EMPTY_PASSWORD"],"mappings":"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"},"input":"(this[\"webpackJsonpamplify-s3final\"] = this[\"webpackJsonpamplify-s3final\"] || []).push([[6],{\n\n/***/ 603:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_confirm_sign_in\", function() { return AmplifyConfirmSignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_confirm_sign_up\", function() { return AmplifyConfirmSignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_forgot_password\", function() { return AmplifyForgotPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_require_new_password\", function() { return AmplifyRequireNewPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_sign_in\", function() { return AmplifySignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_sign_up\", function() { return AmplifySignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_verify_contact\", function() { return AmplifyVerifyContact; });\n/* harmony import */ var _index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(25);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(46);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5);\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16);\n/* harmony import */ var _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(81);\n/* harmony import */ var _auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(654);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = undefined && undefined.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\n\n\n\n\n\n\n\n\n\nvar AmplifyConfirmSignIn =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when confirm sign in form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.confirm(event);\n    };\n    /** Used for header text in confirm sign in component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SMS_CODE;\n    /** Used for the submit button text in confirm sign in component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM;\n    /** Auth state change handler for this component */\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [{\n      type: 'code',\n      required: true,\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleCodeChange(event);\n      }\n    }];\n    /** The MFA option to confirm with */\n\n    this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* M */ \"c\"].SMS;\n    /* Whether or not the confirm-sign-in component is loading */\n\n    this.loading = false;\n  }\n\n  class_1.prototype.componentWillLoad = function () {\n    this.setup();\n  };\n\n  class_1.prototype.userHandler = function () {\n    this.setup();\n  };\n\n  class_1.prototype.setup = function () {\n    if (this.user && this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA) {\n      this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* M */ \"c\"].TOTP; // If header text is using default use TOTP string\n\n      if (this.headerText === _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SMS_CODE) {\n        this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_TOTP_CODE;\n      }\n    }\n  };\n\n  class_1.prototype.handleCodeChange = function (event) {\n    this.code = event.target.value;\n  };\n\n  class_1.prototype.confirm = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var mfaType, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            mfaType = this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA ? _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA : null;\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignIn !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 4, 5, 6]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignIn(this.user, this.code, mfaType)];\n\n          case 2:\n            _a.sent();\n\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__[/* c */ \"a\"])(this.user, this.handleAuthStateChange)];\n\n          case 3:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 4:\n            error_1 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_1);\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 6:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText),\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)))\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.formFields\n    })));\n  };\n\n  Object.defineProperty(class_1, \"watchers\", {\n    get: function get() {\n      return {\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_1;\n}();\n\nvar AmplifyConfirmSignUp =\n/** @class */\nfunction () {\n  function class_2(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign up form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.confirmSignUp(event);\n    };\n    /** Used for header text in confirm sign up component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_HEADER_TEXT;\n    /** Used for the submit button text in confirm sign up component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT;\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Auth state change handler for this components\n     * e.g. SignIn -> 'Create Account' link -> SignUp\n     */\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    this.loading = false;\n    this.newFormFields = [];\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"q\"],\n      phoneNumberValue: null\n    };\n  }\n\n  class_2.prototype.componentWillLoad = function () {\n    this.setup();\n  };\n\n  class_2.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_2.prototype.userHandler = function () {\n    this.setup();\n  };\n\n  class_2.prototype.setup = function () {\n    // TODO: Use optional chaining instead\n    this.userInput = this.user && this.user.username;\n    this._signUpAttrs = this.user && this.user.signUpAttrs;\n    Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_2.prototype.buildDefaultFormFields = function () {\n    var _this = this;\n\n    this.newFormFields = [{\n      type: \"\" + this.usernameAlias,\n      required: true,\n      handleInputChange: this.handleFormFieldInputChange(\"\" + this.usernameAlias),\n      value: this.userInput,\n      disabled: this.userInput ? true : false\n    }, {\n      type: 'code',\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_CODE_LABEL),\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_CODE_PLACEHOLDER),\n      required: true,\n      hint: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_LOST_CODE), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.resendConfirmCode();\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_RESEND_CODE))),\n      handleInputChange: this.handleFormFieldInputChange('code')\n    }];\n  };\n\n  class_2.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_1 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        if (newField.type === 'code') {\n          newField['hint'] = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* i */ \"h\"])(newField) ? Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_LOST_CODE), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n            variant: \"anchor\",\n            onClick: function onClick() {\n              return _this.resendConfirmCode();\n            }\n          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_RESEND_CODE))) : newField['hint'];\n        }\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        newFields_1.push(newField);\n      });\n      this.newFormFields = newFields_1;\n    }\n  };\n\n  class_2.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'code':\n        return function (event) {\n          return _this.code = event.target.value;\n        };\n\n      default:\n        return;\n    }\n  };\n\n  class_2.prototype.setFieldValue = function (field) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          this.userInput = '';\n        } else {\n          this.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n    }\n  };\n\n  class_2.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_2.prototype.resendConfirmCode = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].resendSignUp !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            if (!this.userInput) throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n            this.userInput = this.userInput.trim();\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].resendSignUp(this.userInput)];\n\n          case 2:\n            _a.sent();\n\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ConfirmSignUp);\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_2 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_2);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }; // TODO: Add validation\n  // TODO: Prefix\n\n\n  class_2.prototype.confirmSignUp = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var confirmSignUpResult, error_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignUp !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n\n            switch (this.usernameAlias) {\n              case 'phone_number':\n                try {\n                  this.userInput = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n                } catch (error) {\n                  Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n                }\n\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 6, 7, 8]);\n\n            if (!this.userInput) throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n            this.userInput = this.userInput.trim();\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignUp(this.userInput, this.code)];\n\n          case 2:\n            confirmSignUpResult = _a.sent();\n\n            if (!confirmSignUpResult) {\n              throw new Error(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_FAILED));\n            }\n\n            if (!(this._signUpAttrs && this._signUpAttrs.password && this._signUpAttrs.password !== '')) return [3\n            /*break*/\n            , 4]; // Auto sign in user if password is available from previous workflow\n\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(this.userInput, this._signUpAttrs.password, this.handleAuthStateChange)];\n\n          case 3:\n            // Auto sign in user if password is available from previous workflow\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n            _a.label = 5;\n\n          case 5:\n            return [3\n            /*break*/\n            , 8];\n\n          case 6:\n            error_3 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_3);\n            return [3\n            /*break*/\n            , 8];\n\n          case 7:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 8:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_2.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText),\n      handleSubmit: this.handleSubmit,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN))))\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_2, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"],\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_2;\n}();\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('ForgotPassword');\n\nvar AmplifyForgotPassword =\n/** @class */\nfunction () {\n  function class_3(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** The header text of the forgot password section */\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_YOUR_PASSWORD;\n    /** The text displayed inside of the send code button for the form */\n\n    this.sendButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SEND_CODE;\n    /** The text displayed inside of the submit button for the form */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SUBMIT;\n    /** The form fields displayed inside of the forgot password form */\n\n    this.formFields = [];\n    /** The function called when making a request to reset password */\n\n    this.handleSend = function (event) {\n      return _this.send(event);\n    };\n    /** The function called when submitting a new password */\n\n\n    this.handleSubmit = function (event) {\n      return _this.submit(event);\n    };\n    /** Auth state change handler for this component */\n\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    this.delivery = null;\n    this.loading = false;\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"q\"],\n      phoneNumberValue: null\n    };\n    this.newFormFields = [];\n    this.forgotPasswordAttrs = {\n      userInput: '',\n      password: '',\n      code: ''\n    };\n  }\n\n  class_3.prototype.componentWillLoad = function () {\n    Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_3.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_3.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        _this.newFormFields.push(newField);\n      });\n    }\n  };\n\n  class_3.prototype.buildDefaultFormFields = function () {\n    switch (this.usernameAlias) {\n      case 'email':\n        this.newFormFields = [{\n          type: 'email',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'forgot-password-email-input'\n          }\n        }];\n        break;\n\n      case 'phone_number':\n        this.newFormFields = [{\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'forgot-password-phone-number-input'\n          }\n        }];\n        break;\n\n      case 'username':\n      default:\n        this.newFormFields = [{\n          type: 'username',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'forgot-password-username-input'\n          }\n        }];\n        break;\n    }\n  };\n\n  class_3.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.forgotPasswordAttrs.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'password':\n      case 'code':\n        return function (event) {\n          return _this.forgotPasswordAttrs[fieldType] = event.target.value;\n        };\n\n      default:\n        return;\n    }\n  };\n\n  class_3.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          formAttributes.userInput = '';\n        } else {\n          formAttributes.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      case 'password':\n      case 'code':\n        if (field.value === undefined) {\n          formAttributes[field.type] = '';\n        } else {\n          formAttributes[field.type] = field.value;\n        }\n\n        break;\n    }\n  };\n\n  class_3.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_3.prototype.send = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, error_4;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPassword !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n\n            switch (this.usernameAlias) {\n              case 'phone_number':\n                try {\n                  this.forgotPasswordAttrs.userInput = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n                } catch (error) {\n                  Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n                }\n\n                break;\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPassword(this.forgotPasswordAttrs.userInput.trim())];\n\n          case 2:\n            data = _a.sent();\n            logger.debug(data);\n            this.newFormFields = [{\n              type: 'code',\n              required: true,\n              handleInputChange: this.handleFormFieldInputChange('code'),\n              inputProps: {\n                'data-test': 'forgot-password-code-input'\n              }\n            }, {\n              type: 'password',\n              required: true,\n              handleInputChange: this.handleFormFieldInputChange('password'),\n              label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_LABEL),\n              placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_PLACEHOLDER)\n            }];\n            this.delivery = data.CodeDeliveryDetails;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_4 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_4);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_3.prototype.submit = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, userInput, code, password, data, error_5;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPasswordSubmit !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 3, 4, 5]);\n\n            _a = this.forgotPasswordAttrs, userInput = _a.userInput, code = _a.code, password = _a.password;\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPasswordSubmit(userInput, code, password)];\n\n          case 2:\n            data = _b.sent();\n            logger.debug(data);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n            this.delivery = null;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_5 = _b.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_5);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_3.prototype.render = function () {\n    var _this = this;\n\n    var submitFn = this.delivery ? function (event) {\n      return _this.handleSubmit(event);\n    } : function (event) {\n      return _this.handleSend(event);\n    };\n    var submitButtonText = this.delivery ? this.submitButtonText : this.sendButtonText;\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: submitFn,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        },\n        \"data-test\": \"forgot-password-back-to-sign-in-link\"\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)),\n      testDataPrefix: 'forgot-password',\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(submitButtonText)\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_3, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_3;\n}();\n\nvar logger$1 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('amplify-require-new-password');\n\nvar AmplifyRequireNewPassword =\n/** @class */\nfunction () {\n  function class_4(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** The header text of the forgot password section */\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CHANGE_PASSWORD;\n    /** The text displayed inside of the submit button for the form */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CHANGE_PASSWORD_ACTION;\n    /** The function called when submitting a new password */\n\n    this.handleSubmit = function (event) {\n      return _this.completeNewPassword(event);\n    };\n    /** Auth state change handler for this component */\n\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** The form fields displayed inside of the forgot password form */\n\n    this.formFields = [{\n      type: _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* a */ \"e\"].Password,\n      required: true,\n      handleInputChange: function handleInputChange(event) {\n        return _this.handlePasswordChange(event);\n      },\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_LABEL),\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_PLACEHOLDER),\n      inputProps: {\n        'data-test': 'require-new-password-password-input'\n      }\n    }];\n    this.loading = false;\n    this.requiredAttributes = {};\n    this.newFormFields = this.formFields;\n  }\n\n  class_4.prototype.userHandler = function () {\n    this.setCurrentUser();\n  };\n\n  class_4.prototype.handleRequiredAttributeInputChange = function (attribute, event) {\n    this.requiredAttributes[attribute] = event.target.value;\n  };\n\n  class_4.prototype.setCurrentUser = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, error_6, userRequiredAttributes, requiredAttributesMap_1;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!!this.user) return [3\n            /*break*/\n            , 5];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].currentAuthenticatedUser()];\n\n          case 2:\n            user = _a.sent();\n            if (user) this.currentUser = user;\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_6 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_6);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            this.currentUser = this.user;\n            _a.label = 6;\n\n          case 6:\n            if (this.currentUser && this.currentUser.challengeParam && this.currentUser.challengeParam.requiredAttributes) {\n              userRequiredAttributes = this.currentUser.challengeParam.requiredAttributes;\n              requiredAttributesMap_1 = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* g */ \"f\"])();\n              userRequiredAttributes.forEach(function (attribute) {\n                var formField = {\n                  type: attribute,\n                  required: true,\n                  label: requiredAttributesMap_1[attribute].label,\n                  placeholder: requiredAttributesMap_1[attribute].placeholder,\n                  handleInputChange: function handleInputChange(event) {\n                    return _this.handleRequiredAttributeInputChange(attribute, event);\n                  },\n                  inputProps: {\n                    'data-test': \"require-new-password-\" + attribute + \"-input\"\n                  }\n                };\n                _this.newFormFields = __spreadArrays(_this.newFormFields, [formField]);\n              });\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_4.prototype.componentWillLoad = function () {\n    return this.setCurrentUser();\n  };\n\n  class_4.prototype.handlePasswordChange = function (event) {\n    this.password = event.target.value;\n  };\n\n  class_4.prototype.completeNewPassword = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, _a, error_7;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].completeNewPassword !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 8, 9, 10]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].completeNewPassword(this.currentUser, this.password, this.requiredAttributes)];\n\n          case 2:\n            user = _b.sent();\n            logger$1.debug('complete new password', user);\n            _a = user.challengeName;\n\n            switch (_a) {\n              case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SMSMFA:\n                return [3\n                /*break*/\n                , 3];\n\n              case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].MFASetup:\n                return [3\n                /*break*/\n                , 4];\n            }\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ConfirmSignIn, user);\n            return [3\n            /*break*/\n            , 7];\n\n          case 4:\n            logger$1.debug('TOTP setup', user.challengeParam);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].TOTPSetup, user);\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__[/* c */ \"a\"])(user, this.handleAuthStateChange)];\n\n          case 6:\n            _b.sent();\n\n            _b.label = 7;\n\n          case 7:\n            return [3\n            /*break*/\n            , 10];\n\n          case 8:\n            error_7 = _b.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_7);\n            return [3\n            /*break*/\n            , 10];\n\n          case 9:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 10:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_4.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)),\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText)\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_4, \"watchers\", {\n    get: function get() {\n      return {\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_4;\n}();\n\nvar amplifySignInCss = \":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}\";\n\nvar AmplifySignIn =\n/** @class */\nfunction () {\n  function class_5(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign in form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.signIn(event);\n    };\n    /** Used for header text in sign in component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_HEADER_TEXT;\n    /** Used for the submit button text in sign in component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_ACTION;\n    /** Auth state change handler for this component */\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Hides the sign up link */\n\n    this.hideSignUp = false;\n    this.newFormFields = [];\n    /* Whether or not the sign-in component is loading */\n\n    this.loading = false;\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"q\"],\n      phoneNumberValue: null\n    };\n    this.signInAttributes = {\n      userInput: '',\n      password: ''\n    };\n  }\n\n  class_5.prototype.componentWillLoad = function () {\n    Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_5.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_5.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.signInAttributes.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'password':\n        return function (event) {\n          return _this.signInAttributes.password = event.target.value;\n        };\n    }\n  };\n\n  class_5.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_5.prototype.signIn = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var username;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // avoid submitting the form\n            if (event) {\n              event.preventDefault();\n            }\n\n            this.loading = true;\n\n            switch (this.usernameAlias) {\n              case 'phone_number':\n                try {\n                  this.signInAttributes.userInput = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n                } catch (error) {\n                  Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n                }\n\n            }\n\n            username = this.signInAttributes.userInput.trim();\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(username, this.signInAttributes.password, this.handleAuthStateChange)];\n\n          case 1:\n            _a.sent();\n\n            this.loading = false;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_5.prototype.buildDefaultFormFields = function () {\n    var _this = this;\n\n    var formFieldInputs = [];\n\n    switch (this.usernameAlias) {\n      case 'email':\n        formFieldInputs.push({\n          type: 'email',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-in-email-input'\n          }\n        });\n        break;\n\n      case 'phone_number':\n        formFieldInputs.push({\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-in-phone-number-input'\n          }\n        });\n        break;\n\n      case 'username':\n      default:\n        formFieldInputs.push({\n          type: 'username',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'sign-in-username-input'\n          }\n        });\n        break;\n    }\n\n    formFieldInputs.push({\n      type: 'password',\n      hint: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].FORGOT_PASSWORD_TEXT), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ForgotPassword);\n        },\n        \"data-test\": \"sign-in-forgot-password-link\"\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_PASSWORD_TEXT))),\n      required: true,\n      handleInputChange: this.handleFormFieldInputChange('password'),\n      inputProps: {\n        'data-test': 'sign-in-password-input'\n      }\n    });\n    this.newFormFields = __spreadArrays(formFieldInputs);\n  };\n\n  class_5.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_2 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field); // TODO: handle hint better\n\n        if (newField.type === 'password') {\n          newField['hint'] = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* i */ \"h\"])(newField) ? Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].FORGOT_PASSWORD_TEXT), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n            variant: \"anchor\",\n            onClick: function onClick() {\n              return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ForgotPassword);\n            },\n            \"data-test\": \"sign-in-forgot-password-link\"\n          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_PASSWORD_TEXT))) : newField['hint'];\n        }\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        _this.setFieldValue(newField, _this.signInAttributes);\n\n        newFields_2.push(newField);\n      });\n      this.newFormFields = newFields_2;\n    }\n  };\n\n  class_5.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          formAttributes.userInput = '';\n        } else {\n          formAttributes.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      case 'password':\n        if (field.value === undefined) {\n          formAttributes.password = '';\n        } else {\n          formAttributes.password = field.value;\n        }\n\n        break;\n    }\n  };\n\n  class_5.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      testDataPrefix: 'sign-in'\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"subtitle\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"header-subtitle\"\n    })), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"federated-buttons\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-federated-buttons\", {\n      handleAuthStateChange: this.handleAuthStateChange,\n      federated: this.federated\n    })), !Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__[/* isEmpty */ \"d\"])(this.federated) && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-strike\", null, \"or\"), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    }), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"amplify-form-section-footer\",\n      class: \"sign-in-form-footer\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"footer\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"secondary-footer-content\"\n    }, !this.hideSignUp ? Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NO_ACCOUNT_TEXT), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      variant: \"anchor\",\n      onClick: function onClick() {\n        return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignUp);\n      },\n      \"data-test\": \"sign-in-create-account-link\"\n    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CREATE_ACCOUNT_TEXT))) : Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null)), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"primary-footer-content\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      type: \"submit\",\n      disabled: this.loading,\n      \"data-test\": \"sign-in-sign-in-button\"\n    }, this.loading ? Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-loading-spinner\", null) : Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText))))))));\n  };\n\n  Object.defineProperty(class_5, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_5;\n}();\n\nAmplifySignIn.style = amplifySignInCss;\nvar amplifySignUpCss = \":host{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";\n\nvar AmplifySignUp =\n/** @class */\nfunction () {\n  function class_6(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign up form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.signUp(event);\n    };\n    /** Used for header text in sign up component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_HEADER_TEXT;\n    /** Used for the submit button text in sign up component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_SUBMIT_BUTTON_TEXT;\n    /** Used for the submit button text in sign up component */\n\n    this.haveAccountText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_HAVE_ACCOUNT_TEXT;\n    /** Text used for the sign in hyperlink */\n\n    this.signInText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_TEXT;\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Auth state change handler for this component\n     * e.g. SignIn -> 'Create Account' link -> SignUp\n     */\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username'; // private userInput: string | PhoneNumberInterface;\n\n    this.newFormFields = [];\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"q\"],\n      phoneNumberValue: null\n    };\n    this.loading = false;\n    this.signUpAttributes = {\n      username: '',\n      password: '',\n      attributes: {}\n    };\n  }\n\n  class_6.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n        return function (event) {\n          return _this.signUpAttributes.username = event.target.value;\n        };\n\n      case 'password':\n        return function (event) {\n          return _this.signUpAttributes.password = event.target.value;\n        };\n\n      case 'email':\n        return function (event) {\n          return _this.signUpAttributes.attributes.email = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      default:\n        return function (event) {\n          return _this.signUpAttributes.attributes[fieldType] = event.target.value;\n        };\n    }\n  };\n\n  class_6.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  }; // TODO: Add validation\n  // TODO: Prefix\n\n\n  class_6.prototype.signUp = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, signUpAttrs, error_8;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].signUp !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n\n            if (this.phoneNumber.phoneNumberValue) {\n              try {\n                this.signUpAttributes.attributes.phone_number = Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n              } catch (error) {\n                Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n              }\n            }\n\n            switch (this.usernameAlias) {\n              case 'email':\n              case 'phone_number':\n                this.signUpAttributes.username = this.signUpAttributes.attributes[this.usernameAlias];\n                break;\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 6, 7, 8]);\n\n            if (!this.signUpAttributes.username) {\n              throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n            }\n\n            if (this.signUpAttributes.username.indexOf(' ') >= 0) {\n              throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].USERNAME_REMOVE_WHITESPACE);\n            }\n\n            if (this.signUpAttributes.password !== this.signUpAttributes.password.trim()) {\n              throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].PASSWORD_REMOVE_WHITESPACE);\n            }\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].signUp(this.signUpAttributes)];\n\n          case 2:\n            data = _a.sent();\n\n            if (!data) {\n              throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_FAILED);\n            }\n\n            if (!data.userConfirmed) return [3\n            /*break*/\n            , 4];\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_99c6a1db_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(this.signUpAttributes.username, this.signUpAttributes.password, this.handleAuthStateChange)];\n\n          case 3:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            signUpAttrs = Object.assign({}, this.signUpAttributes);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ConfirmSignUp, Object.assign(Object.assign({}, data.user), {\n              signUpAttrs: signUpAttrs\n            }));\n            _a.label = 5;\n\n          case 5:\n            return [3\n            /*break*/\n            , 8];\n\n          case 6:\n            error_8 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_8);\n            return [3\n            /*break*/\n            , 8];\n\n          case 7:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 8:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_6.prototype.buildDefaultFormFields = function () {\n    switch (this.usernameAlias) {\n      case 'email':\n        this.newFormFields = [{\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input'\n          }\n        }, {\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input'\n          }\n        }];\n        break;\n\n      case 'phone_number':\n        this.newFormFields = [{\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input'\n          }\n        }, {\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input'\n          }\n        }];\n        break;\n\n      case 'username':\n      default:\n        this.newFormFields = [{\n          type: 'username',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_USERNAME_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'sign-up-username-input'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input'\n          }\n        }, {\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input'\n          }\n        }, {\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input'\n          }\n        }];\n        break;\n    }\n  };\n\n  class_6.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_3 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        _this.setFieldValue(field, _this.signUpAttributes);\n\n        newFields_3.push(newField);\n      });\n      this.newFormFields = newFields_3;\n    }\n  };\n\n  class_6.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n        if (field.value === undefined) {\n          formAttributes.username = '';\n        } else {\n          formAttributes.username = field.value;\n        }\n\n        break;\n\n      case 'password':\n        if (field.value === undefined) {\n          formAttributes.password = '';\n        } else {\n          formAttributes.password = field.value;\n        }\n\n        break;\n\n      case 'email':\n        formAttributes.attributes.email = field.value;\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      default:\n        formAttributes.attributes[field.type] = field.value;\n        break;\n    }\n  };\n\n  class_6.prototype.componentWillLoad = function () {\n    Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_6.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_6.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      testDataPrefix: 'sign-up'\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"subtitle\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"header-subtitle\"\n    })), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    }), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"sign-up-form-footer\",\n      slot: \"amplify-form-section-footer\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"footer\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"secondary-footer-content\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.haveAccountText), ' ', Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      variant: \"anchor\",\n      onClick: function onClick() {\n        return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n      },\n      \"data-test\": \"sign-up-sign-in-link\"\n    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.signInText)))), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"primary-footer-content\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      type: \"submit\",\n      \"data-test\": \"sign-up-create-account-button\"\n    }, this.loading ? Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-loading-spinner\", null) : Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText))))))));\n  };\n\n  Object.defineProperty(class_6, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_6;\n}();\n\nAmplifySignUp.style = amplifySignUpCss;\nvar logger$2 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('AmplifyVerifyContact');\n\nvar AmplifyVerifyContact =\n/** @class */\nfunction () {\n  function class_7(hostRef) {\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Authentication state handler */\n\n    this.handleAuthStateChange = _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    this.loading = false;\n  }\n\n  class_7.prototype.handleSubmit = function (event) {\n    event.preventDefault();\n    this.verifyAttr ? this.submit(this.code) : this.verify(this.contact);\n  };\n\n  class_7.prototype.submit = function (code) {\n    return __awaiter(this, void 0, void 0, function () {\n      var attr, data, error_9;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            attr = this.verifyAttr;\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttributeSubmit !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttributeSubmit(attr, code)];\n\n          case 2:\n            data = _a.sent();\n            logger$2.debug(data);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignedIn, this.user);\n            this.verifyAttr = null;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_9 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_9);\n            logger$2.error(error_9);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_7.prototype.verify = function (contact) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, error_10;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!contact) {\n              logger$2.error('Neither Email nor Phone Number selected');\n              return [2\n              /*return*/\n              ];\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttribute !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttribute(contact)];\n\n          case 2:\n            data = _a.sent();\n            logger$2.debug(data);\n            this.verifyAttr = contact;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_10 = _a.sent();\n            Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_10);\n            logger$2.error(error_10);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_7.prototype.handleInputChange = function (event) {\n    var inputName = event.target.name;\n\n    if (inputName === 'code') {\n      this.code = event.target.value;\n    } else if (inputName === 'contact') {\n      this.contact = event.target.value;\n    }\n  };\n\n  class_7.prototype.renderSubmit = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-input\", {\n      inputProps: {\n        autocomplete: 'off',\n        'data-test': 'verify-contact-code-input'\n      },\n      name: \"code\",\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CODE_PLACEHOLDER),\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      }\n    }));\n  };\n\n  class_7.prototype.renderVerify = function () {\n    var _this = this;\n\n    var user = this.user;\n\n    if (!user) {\n      logger$2.debug('No user to verify');\n      return null;\n    }\n\n    var unverified = user.unverified;\n\n    if (!unverified) {\n      logger$2.debug('Unverified variable does not exist on user');\n      return null;\n    }\n\n    var email = unverified.email,\n        phone_number = unverified.phone_number;\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, email && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-radio-button\", {\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_EMAIL_LABEL),\n      key: \"email\",\n      name: \"contact\",\n      value: \"email\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      },\n      inputProps: {\n        'data-test': 'verify-contact-email-radio'\n      }\n    }), phone_number && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-radio-button\", {\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_PHONE_LABEL),\n      key: \"phone_number\",\n      name: \"contact\",\n      value: \"phone_number\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      },\n      inputProps: {\n        'data-test': 'verify-contact-phone-number-radio'\n      }\n    }));\n  };\n\n  class_7.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      handleSubmit: function handleSubmit(event) {\n        return _this.handleSubmit(event);\n      },\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_HEADER_TEXT),\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignedIn, _this.user);\n        },\n        \"data-test\": \"verify-contact-skip-link\"\n      }, \"Skip\")),\n      submitButtonText: this.verifyAttr ? _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_SUBMIT_LABEL) : _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_VERIFY_LABEL)\n    }, this.verifyAttr ? this.renderSubmit() : this.renderVerify()));\n  };\n\n  return class_7;\n}();\n\n\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return checkContact; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return handleSignIn; });\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(5);\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16);\n/* harmony import */ var _helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\n\n\n\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__[/* ConsoleLogger */ \"a\"]('auth-helpers');\n\nfunction checkContact(user, handleAuthStateChange) {\n  return __awaiter(this, void 0, void 0, function () {\n    var data, newUser, error_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact !== 'function') {\n            throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          } // If `user` is a federated user, we shouldn't call `verifiedContact`\n          // since `user` isn't `CognitoUser`\n\n\n          if (!isCognitoUser(user)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact(user)];\n\n        case 2:\n          data = _a.sent();\n\n          if (!Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.verified) || Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.unverified)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n          } else {\n            newUser = Object.assign(user, data);\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].VerifyContact, newUser);\n          }\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          error_1 = _a.sent();\n          Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_1);\n          return [3\n          /*break*/\n          , 4];\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nvar handleSignIn = function handleSignIn(username, password, handleAuthStateChange) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn !== 'function') {\n            throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 9,, 10]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn(username, password)];\n\n        case 2:\n          user = _a.sent();\n          logger.debug(user);\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SMSMFA || user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SoftwareTokenMFA)) return [3\n          /*break*/\n          , 3];\n          logger.debug('confirm user with ' + user.challengeName);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].NewPasswordRequired)) return [3\n          /*break*/\n          , 4];\n          logger.debug('require new password', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ResetPassword, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 4:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].MFASetup)) return [3\n          /*break*/\n          , 5];\n          logger.debug('TOTP setup', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].TOTPSetup, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 5:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].CustomChallenge && user.challengeParam && user.challengeParam.trigger === 'true')) return [3\n          /*break*/\n          , 6];\n          logger.debug('custom challenge', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].CustomConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 6:\n          return [4\n          /*yield*/\n          , checkContact(user, handleAuthStateChange)];\n\n        case 7:\n          _a.sent();\n\n          _a.label = 8;\n\n        case 8:\n          return [3\n          /*break*/\n          , 10];\n\n        case 9:\n          error_2 = _a.sent();\n\n          if (error_2.code === 'UserNotConfirmedException') {\n            logger.debug('the user is not confirmed');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignUp, {\n              username: username\n            });\n          } else if (error_2.code === 'PasswordResetRequiredException') {\n            logger.debug('the user requires a new password');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ForgotPassword, {\n              username: username\n            });\n          } else if (error_2.code === 'InvalidParameterException' && password === '') {\n            logger.debug('Password cannot be empty');\n            error_2.message = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_PASSWORD;\n          }\n\n          Object(_helpers_4afef5ab_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_2);\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar isCognitoUser = function isCognitoUser(user) {\n  return user instanceof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* CognitoUser */ \"e\"];\n};\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/kedouard/Documents/SA/Labs/sbd-team-s3-bucket/amplify-s3final/node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-confirm-sign-in_7.entry.js","/Users/kedouard/Documents/SA/Labs/sbd-team-s3-bucket/amplify-s3final/node_modules/@aws-amplify/ui-components/dist/esm-es5/auth-helpers-99c6a1db.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","AmplifyConfirmSignIn","class_1","hostRef","_this","registerInstance","handleSubmit","event","confirm","headerText","Translations","CONFIRM_SMS_CODE","submitButtonText","CONFIRM","handleAuthStateChange","dispatchAuthStateChangeEvent","formFields","type","required","handleInputChange","handleCodeChange","mfaOption","MfaOption","SMS","loading","prototype","componentWillLoad","setup","userHandler","user","ChallengeName","SoftwareTokenMFA","TOTP","CONFIRM_TOTP_CODE","code","target","mfaType","error_1","_a","preventDefault","Auth","confirmSignIn","Error","NO_AUTH_MODULE_FOUND","checkContact","dispatchToastHubEvent","render","h","Host","I18n","get","secondaryFooterContent","variant","onClick","AuthState","SignIn","BACK_TO_SIGN_IN","Object","defineProperty","enumerable","configurable","AmplifyConfirmSignUp","class_2","confirmSignUp","CONFIRM_SIGN_UP_HEADER_TEXT","CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT","usernameAlias","newFormFields","phoneNumber","countryDialCodeValue","COUNTRY_DIAL_CODE_DEFAULT","phoneNumberValue","formFieldsHandler","buildFormFields","userInput","username","_signUpAttrs","signUpAttrs","checkUsernameAlias","buildDefaultFormFields","handleFormFieldInputChange","disabled","CONFIRM_SIGN_UP_CODE_LABEL","placeholder","CONFIRM_SIGN_UP_CODE_PLACEHOLDER","hint","CONFIRM_SIGN_UP_LOST_CODE","resendConfirmCode","CONFIRM_SIGN_UP_RESEND_CODE","newFields_1","forEach","field","newField","assign","isHintValid","handleFormFieldInputWithCallback","fieldType","handlePhoneNumberChange","setFieldValue","undefined","dialCode","fnToCall","cb","callback","bind","error_2","resendSignUp","EMPTY_USERNAME","trim","ConfirmSignUp","confirmSignUpResult","error_3","composePhoneNumberInput","error","CONFIRM_SIGN_UP_FAILED","password","handleSignIn","logger","Logger","AmplifyForgotPassword","class_3","RESET_YOUR_PASSWORD","sendButtonText","SEND_CODE","SUBMIT","handleSend","send","submit","delivery","forgotPasswordAttrs","inputProps","formAttributes","data","error_4","forgotPassword","debug","NEW_PASSWORD_LABEL","NEW_PASSWORD_PLACEHOLDER","CodeDeliveryDetails","error_5","_b","forgotPasswordSubmit","submitFn","testDataPrefix","logger$1","ConsoleLogger","AmplifyRequireNewPassword","class_4","CHANGE_PASSWORD","CHANGE_PASSWORD_ACTION","completeNewPassword","AuthFormField","Password","handlePasswordChange","requiredAttributes","setCurrentUser","handleRequiredAttributeInputChange","attribute","error_6","userRequiredAttributes","requiredAttributesMap_1","currentAuthenticatedUser","currentUser","challengeParam","getRequiredAttributesMap","formField","error_7","challengeName","SMSMFA","MFASetup","ConfirmSignIn","TOTPSetup","amplifySignInCss","AmplifySignIn","class_5","signIn","SIGN_IN_HEADER_TEXT","SIGN_IN_ACTION","hideSignUp","signInAttributes","formFieldInputs","FORGOT_PASSWORD_TEXT","ForgotPassword","RESET_PASSWORD_TEXT","newFields_2","slot","name","federated","isEmpty","class","NO_ACCOUNT_TEXT","SignUp","CREATE_ACCOUNT_TEXT","style","amplifySignUpCss","AmplifySignUp","class_6","signUp","SIGN_UP_HEADER_TEXT","SIGN_UP_SUBMIT_BUTTON_TEXT","haveAccountText","SIGN_UP_HAVE_ACCOUNT_TEXT","signInText","SIGN_IN_TEXT","signUpAttributes","attributes","email","error_8","phone_number","indexOf","USERNAME_REMOVE_WHITESPACE","PASSWORD_REMOVE_WHITESPACE","SIGN_UP_FAILED","userConfirmed","SIGN_UP_EMAIL_PLACEHOLDER","SIGN_UP_PASSWORD_PLACEHOLDER","SIGN_UP_USERNAME_PLACEHOLDER","newFields_3","logger$2","AmplifyVerifyContact","class_7","verifyAttr","verify","contact","attr","error_9","verifyCurrentUserAttributeSubmit","SignedIn","error_10","verifyCurrentUserAttribute","inputName","renderSubmit","autocomplete","CODE_PLACEHOLDER","renderVerify","unverified","VERIFY_CONTACT_EMAIL_LABEL","key","VERIFY_CONTACT_PHONE_LABEL","VERIFY_CONTACT_HEADER_TEXT","VERIFY_CONTACT_SUBMIT_LABEL","VERIFY_CONTACT_VERIFY_LABEL","newUser","verifiedContact","isCognitoUser","verified","VerifyContact","NewPasswordRequired","ResetPassword","CustomChallenge","trigger","CustomConfirmSignIn","message","EMPTY_PASSWORD","CognitoUser"],"mappings":"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","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, H as Host } from './index-3fb5c139.js';\nimport { I18n, Logger, ConsoleLogger, isEmpty } from '@aws-amplify/core';\nimport { M as MfaOption, C as ChallengeName, A as AuthState, a as AuthFormField } from './auth-types-78df304e.js';\nimport { Auth } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND, h as COUNTRY_DIAL_CODE_DEFAULT } from './constants-d1abe7de.js';\nimport { d as dispatchAuthStateChangeEvent, a as dispatchToastHubEvent, c as checkUsernameAlias, i as isHintValid, h as handlePhoneNumberChange, b as composePhoneNumberInput, g as getRequiredAttributesMap } from './helpers-4afef5ab.js';\nimport { c as checkContact, h as handleSignIn } from './auth-helpers-99c6a1db.js';\nvar AmplifyConfirmSignIn = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when confirm sign in form is submitted */\n        this.handleSubmit = function (event) { return _this.confirm(event); };\n        /** Used for header text in confirm sign in component */\n        this.headerText = Translations.CONFIRM_SMS_CODE;\n        /** Used for the submit button text in confirm sign in component */\n        this.submitButtonText = Translations.CONFIRM;\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [\n            {\n                type: 'code',\n                required: true,\n                handleInputChange: function (event) { return _this.handleCodeChange(event); },\n            },\n        ];\n        /** The MFA option to confirm with */\n        this.mfaOption = MfaOption.SMS;\n        /* Whether or not the confirm-sign-in component is loading */\n        this.loading = false;\n    }\n    class_1.prototype.componentWillLoad = function () {\n        this.setup();\n    };\n    class_1.prototype.userHandler = function () {\n        this.setup();\n    };\n    class_1.prototype.setup = function () {\n        if (this.user && this.user['challengeName'] === ChallengeName.SoftwareTokenMFA) {\n            this.mfaOption = MfaOption.TOTP;\n            // If header text is using default use TOTP string\n            if (this.headerText === Translations.CONFIRM_SMS_CODE) {\n                this.headerText = Translations.CONFIRM_TOTP_CODE;\n            }\n        }\n    };\n    class_1.prototype.handleCodeChange = function (event) {\n        this.code = event.target.value;\n    };\n    class_1.prototype.confirm = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var mfaType, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        mfaType = this.user['challengeName'] === ChallengeName.SoftwareTokenMFA ? ChallengeName.SoftwareTokenMFA : null;\n                        if (!Auth || typeof Auth.confirmSignIn !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, 5, 6]);\n                        return [4 /*yield*/, Auth.confirmSignIn(this.user, this.code, mfaType)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, checkContact(this.user, this.handleAuthStateChange)];\n                    case 3:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 4:\n                        error_1 = _a.sent();\n                        dispatchToastHubEvent(error_1);\n                        return [3 /*break*/, 6];\n                    case 5:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, submitButtonText: I18n.get(this.submitButtonText), loading: this.loading, secondaryFooterContent: h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN))) }, h(\"amplify-auth-fields\", { formFields: this.formFields }))));\n    };\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nvar AmplifyConfirmSignUp = /** @class */ (function () {\n    function class_2(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign up form is submitted */\n        this.handleSubmit = function (event) { return _this.confirmSignUp(event); };\n        /** Used for header text in confirm sign up component */\n        this.headerText = Translations.CONFIRM_SIGN_UP_HEADER_TEXT;\n        /** Used for the submit button text in confirm sign up component */\n        this.submitButtonText = Translations.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT;\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Auth state change handler for this components\n         * e.g. SignIn -> 'Create Account' link -> SignUp\n         */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        this.loading = false;\n        this.newFormFields = [];\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n    }\n    class_2.prototype.componentWillLoad = function () {\n        this.setup();\n    };\n    class_2.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_2.prototype.userHandler = function () {\n        this.setup();\n    };\n    class_2.prototype.setup = function () {\n        // TODO: Use optional chaining instead\n        this.userInput = this.user && this.user.username;\n        this._signUpAttrs = this.user && this.user.signUpAttrs;\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_2.prototype.buildDefaultFormFields = function () {\n        var _this = this;\n        this.newFormFields = [\n            {\n                type: \"\" + this.usernameAlias,\n                required: true,\n                handleInputChange: this.handleFormFieldInputChange(\"\" + this.usernameAlias),\n                value: this.userInput,\n                disabled: this.userInput ? true : false,\n            },\n            {\n                type: 'code',\n                label: I18n.get(Translations.CONFIRM_SIGN_UP_CODE_LABEL),\n                placeholder: I18n.get(Translations.CONFIRM_SIGN_UP_CODE_PLACEHOLDER),\n                required: true,\n                hint: (h(\"div\", null, I18n.get(Translations.CONFIRM_SIGN_UP_LOST_CODE), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.resendConfirmCode(); } }, I18n.get(Translations.CONFIRM_SIGN_UP_RESEND_CODE)))),\n                handleInputChange: this.handleFormFieldInputChange('code'),\n            },\n        ];\n    };\n    class_2.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_1 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                if (newField.type === 'code') {\n                    newField['hint'] = isHintValid(newField) ? (h(\"div\", null, I18n.get(Translations.CONFIRM_SIGN_UP_LOST_CODE), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.resendConfirmCode(); } }, I18n.get(Translations.CONFIRM_SIGN_UP_RESEND_CODE)))) : (newField['hint']);\n                }\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                newFields_1.push(newField);\n            });\n            this.newFormFields = newFields_1;\n        }\n    };\n    class_2.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'code':\n                return function (event) { return (_this.code = event.target.value); };\n            default:\n                return;\n        }\n    };\n    class_2.prototype.setFieldValue = function (field) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    this.userInput = '';\n                }\n                else {\n                    this.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n        }\n    };\n    class_2.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_2.prototype.resendConfirmCode = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.resendSignUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        if (!this.userInput)\n                            throw new Error(Translations.EMPTY_USERNAME);\n                        this.userInput = this.userInput.trim();\n                        return [4 /*yield*/, Auth.resendSignUp(this.userInput)];\n                    case 2:\n                        _a.sent();\n                        this.handleAuthStateChange(AuthState.ConfirmSignUp);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_2 = _a.sent();\n                        dispatchToastHubEvent(error_2);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // TODO: Add validation\n    // TODO: Prefix\n    class_2.prototype.confirmSignUp = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var confirmSignUpResult, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.confirmSignUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        switch (this.usernameAlias) {\n                            case 'phone_number':\n                                try {\n                                    this.userInput = composePhoneNumberInput(this.phoneNumber);\n                                }\n                                catch (error) {\n                                    dispatchToastHubEvent(error);\n                                }\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 6, 7, 8]);\n                        if (!this.userInput)\n                            throw new Error(Translations.EMPTY_USERNAME);\n                        this.userInput = this.userInput.trim();\n                        return [4 /*yield*/, Auth.confirmSignUp(this.userInput, this.code)];\n                    case 2:\n                        confirmSignUpResult = _a.sent();\n                        if (!confirmSignUpResult) {\n                            throw new Error(I18n.get(Translations.CONFIRM_SIGN_UP_FAILED));\n                        }\n                        if (!(this._signUpAttrs && this._signUpAttrs.password && this._signUpAttrs.password !== '')) return [3 /*break*/, 4];\n                        // Auto sign in user if password is available from previous workflow\n                        return [4 /*yield*/, handleSignIn(this.userInput, this._signUpAttrs.password, this.handleAuthStateChange)];\n                    case 3:\n                        // Auto sign in user if password is available from previous workflow\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.handleAuthStateChange(AuthState.SignIn);\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        error_3 = _a.sent();\n                        dispatchToastHubEvent(error_3);\n                        return [3 /*break*/, 8];\n                    case 7:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), submitButtonText: I18n.get(this.submitButtonText), handleSubmit: this.handleSubmit, loading: this.loading, secondaryFooterContent: h(\"div\", null, h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN)))) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_2, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"],\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_2;\n}());\nvar logger = new Logger('ForgotPassword');\nvar AmplifyForgotPassword = /** @class */ (function () {\n    function class_3(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** The header text of the forgot password section */\n        this.headerText = Translations.RESET_YOUR_PASSWORD;\n        /** The text displayed inside of the send code button for the form */\n        this.sendButtonText = Translations.SEND_CODE;\n        /** The text displayed inside of the submit button for the form */\n        this.submitButtonText = Translations.SUBMIT;\n        /** The form fields displayed inside of the forgot password form */\n        this.formFields = [];\n        /** The function called when making a request to reset password */\n        this.handleSend = function (event) { return _this.send(event); };\n        /** The function called when submitting a new password */\n        this.handleSubmit = function (event) { return _this.submit(event); };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        this.delivery = null;\n        this.loading = false;\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.newFormFields = [];\n        this.forgotPasswordAttrs = {\n            userInput: '',\n            password: '',\n            code: '',\n        };\n    }\n    class_3.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_3.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_3.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                _this.newFormFields.push(newField);\n            });\n        }\n    };\n    class_3.prototype.buildDefaultFormFields = function () {\n        switch (this.usernameAlias) {\n            case 'email':\n                this.newFormFields = [\n                    {\n                        type: 'email',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'forgot-password-email-input',\n                        },\n                    },\n                ];\n                break;\n            case 'phone_number':\n                this.newFormFields = [\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'forgot-password-phone-number-input',\n                        },\n                    },\n                ];\n                break;\n            case 'username':\n            default:\n                this.newFormFields = [\n                    {\n                        type: 'username',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('username'),\n                        inputProps: {\n                            'data-test': 'forgot-password-username-input',\n                        },\n                    },\n                ];\n                break;\n        }\n    };\n    class_3.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.forgotPasswordAttrs.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'password':\n            case 'code':\n                return function (event) { return (_this.forgotPasswordAttrs[fieldType] = event.target.value); };\n            default:\n                return;\n        }\n    };\n    class_3.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    formAttributes.userInput = '';\n                }\n                else {\n                    formAttributes.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            case 'password':\n            case 'code':\n                if (field.value === undefined) {\n                    formAttributes[field.type] = '';\n                }\n                else {\n                    formAttributes[field.type] = field.value;\n                }\n                break;\n        }\n    };\n    class_3.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_3.prototype.send = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.forgotPassword !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        switch (this.usernameAlias) {\n                            case 'phone_number':\n                                try {\n                                    this.forgotPasswordAttrs.userInput = composePhoneNumberInput(this.phoneNumber);\n                                }\n                                catch (error) {\n                                    dispatchToastHubEvent(error);\n                                }\n                                break;\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.forgotPassword(this.forgotPasswordAttrs.userInput.trim())];\n                    case 2:\n                        data = _a.sent();\n                        logger.debug(data);\n                        this.newFormFields = [\n                            {\n                                type: 'code',\n                                required: true,\n                                handleInputChange: this.handleFormFieldInputChange('code'),\n                                inputProps: {\n                                    'data-test': 'forgot-password-code-input',\n                                },\n                            },\n                            {\n                                type: 'password',\n                                required: true,\n                                handleInputChange: this.handleFormFieldInputChange('password'),\n                                label: I18n.get(Translations.NEW_PASSWORD_LABEL),\n                                placeholder: I18n.get(Translations.NEW_PASSWORD_PLACEHOLDER),\n                            },\n                        ];\n                        this.delivery = data.CodeDeliveryDetails;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_4 = _a.sent();\n                        dispatchToastHubEvent(error_4);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.submit = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, userInput, code, password, data, error_5;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.forgotPasswordSubmit !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, 4, 5]);\n                        _a = this.forgotPasswordAttrs, userInput = _a.userInput, code = _a.code, password = _a.password;\n                        return [4 /*yield*/, Auth.forgotPasswordSubmit(userInput, code, password)];\n                    case 2:\n                        data = _b.sent();\n                        logger.debug(data);\n                        this.handleAuthStateChange(AuthState.SignIn);\n                        this.delivery = null;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_5 = _b.sent();\n                        dispatchToastHubEvent(error_5);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.render = function () {\n        var _this = this;\n        var submitFn = this.delivery ? function (event) { return _this.handleSubmit(event); } : function (event) { return _this.handleSend(event); };\n        var submitButtonText = this.delivery ? this.submitButtonText : this.sendButtonText;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: submitFn, loading: this.loading, secondaryFooterContent: h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); }, \"data-test\": \"forgot-password-back-to-sign-in-link\" }, I18n.get(Translations.BACK_TO_SIGN_IN)), testDataPrefix: 'forgot-password', submitButtonText: I18n.get(submitButtonText) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_3, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_3;\n}());\nvar logger$1 = new ConsoleLogger('amplify-require-new-password');\nvar AmplifyRequireNewPassword = /** @class */ (function () {\n    function class_4(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** The header text of the forgot password section */\n        this.headerText = Translations.CHANGE_PASSWORD;\n        /** The text displayed inside of the submit button for the form */\n        this.submitButtonText = Translations.CHANGE_PASSWORD_ACTION;\n        /** The function called when submitting a new password */\n        this.handleSubmit = function (event) { return _this.completeNewPassword(event); };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** The form fields displayed inside of the forgot password form */\n        this.formFields = [\n            {\n                type: AuthFormField.Password,\n                required: true,\n                handleInputChange: function (event) { return _this.handlePasswordChange(event); },\n                label: I18n.get(Translations.NEW_PASSWORD_LABEL),\n                placeholder: I18n.get(Translations.NEW_PASSWORD_PLACEHOLDER),\n                inputProps: {\n                    'data-test': 'require-new-password-password-input',\n                },\n            },\n        ];\n        this.loading = false;\n        this.requiredAttributes = {};\n        this.newFormFields = this.formFields;\n    }\n    class_4.prototype.userHandler = function () {\n        this.setCurrentUser();\n    };\n    class_4.prototype.handleRequiredAttributeInputChange = function (attribute, event) {\n        this.requiredAttributes[attribute] = event.target.value;\n    };\n    class_4.prototype.setCurrentUser = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, error_6, userRequiredAttributes, requiredAttributesMap_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.user) return [3 /*break*/, 5];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Auth.currentAuthenticatedUser()];\n                    case 2:\n                        user = _a.sent();\n                        if (user)\n                            this.currentUser = user;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _a.sent();\n                        dispatchToastHubEvent(error_6);\n                        return [3 /*break*/, 4];\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        this.currentUser = this.user;\n                        _a.label = 6;\n                    case 6:\n                        if (this.currentUser && this.currentUser.challengeParam && this.currentUser.challengeParam.requiredAttributes) {\n                            userRequiredAttributes = this.currentUser.challengeParam.requiredAttributes;\n                            requiredAttributesMap_1 = getRequiredAttributesMap();\n                            userRequiredAttributes.forEach(function (attribute) {\n                                var formField = {\n                                    type: attribute,\n                                    required: true,\n                                    label: requiredAttributesMap_1[attribute].label,\n                                    placeholder: requiredAttributesMap_1[attribute].placeholder,\n                                    handleInputChange: function (event) { return _this.handleRequiredAttributeInputChange(attribute, event); },\n                                    inputProps: {\n                                        'data-test': \"require-new-password-\" + attribute + \"-input\",\n                                    },\n                                };\n                                _this.newFormFields = __spreadArrays(_this.newFormFields, [formField]);\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_4.prototype.componentWillLoad = function () {\n        return this.setCurrentUser();\n    };\n    class_4.prototype.handlePasswordChange = function (event) {\n        this.password = event.target.value;\n    };\n    class_4.prototype.completeNewPassword = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, _a, error_7;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.completeNewPassword !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 10]);\n                        return [4 /*yield*/, Auth.completeNewPassword(this.currentUser, this.password, this.requiredAttributes)];\n                    case 2:\n                        user = _b.sent();\n                        logger$1.debug('complete new password', user);\n                        _a = user.challengeName;\n                        switch (_a) {\n                            case ChallengeName.SMSMFA: return [3 /*break*/, 3];\n                            case ChallengeName.MFASetup: return [3 /*break*/, 4];\n                        }\n                        return [3 /*break*/, 5];\n                    case 3:\n                        this.handleAuthStateChange(AuthState.ConfirmSignIn, user);\n                        return [3 /*break*/, 7];\n                    case 4:\n                        logger$1.debug('TOTP setup', user.challengeParam);\n                        this.handleAuthStateChange(AuthState.TOTPSetup, user);\n                        return [3 /*break*/, 7];\n                    case 5: return [4 /*yield*/, checkContact(user, this.handleAuthStateChange)];\n                    case 6:\n                        _b.sent();\n                        _b.label = 7;\n                    case 7: return [3 /*break*/, 10];\n                    case 8:\n                        error_7 = _b.sent();\n                        dispatchToastHubEvent(error_7);\n                        return [3 /*break*/, 10];\n                    case 9:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 10: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_4.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, loading: this.loading, secondaryFooterContent: h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN)), submitButtonText: I18n.get(this.submitButtonText) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_4, \"watchers\", {\n        get: function () {\n            return {\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_4;\n}());\nvar amplifySignInCss = \":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}\";\nvar AmplifySignIn = /** @class */ (function () {\n    function class_5(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign in form is submitted */\n        this.handleSubmit = function (event) { return _this.signIn(event); };\n        /** Used for header text in sign in component */\n        this.headerText = Translations.SIGN_IN_HEADER_TEXT;\n        /** Used for the submit button text in sign in component */\n        this.submitButtonText = Translations.SIGN_IN_ACTION;\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Hides the sign up link */\n        this.hideSignUp = false;\n        this.newFormFields = [];\n        /* Whether or not the sign-in component is loading */\n        this.loading = false;\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.signInAttributes = {\n            userInput: '',\n            password: '',\n        };\n    }\n    class_5.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_5.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_5.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.signInAttributes.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'password':\n                return function (event) { return (_this.signInAttributes.password = event.target.value); };\n        }\n    };\n    class_5.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_5.prototype.signIn = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var username;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // avoid submitting the form\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        this.loading = true;\n                        switch (this.usernameAlias) {\n                            case 'phone_number':\n                                try {\n                                    this.signInAttributes.userInput = composePhoneNumberInput(this.phoneNumber);\n                                }\n                                catch (error) {\n                                    dispatchToastHubEvent(error);\n                                }\n                        }\n                        username = this.signInAttributes.userInput.trim();\n                        return [4 /*yield*/, handleSignIn(username, this.signInAttributes.password, this.handleAuthStateChange)];\n                    case 1:\n                        _a.sent();\n                        this.loading = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_5.prototype.buildDefaultFormFields = function () {\n        var _this = this;\n        var formFieldInputs = [];\n        switch (this.usernameAlias) {\n            case 'email':\n                formFieldInputs.push({\n                    type: 'email',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('email'),\n                    inputProps: {\n                        'data-test': 'sign-in-email-input',\n                    },\n                });\n                break;\n            case 'phone_number':\n                formFieldInputs.push({\n                    type: 'phone_number',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                    inputProps: {\n                        'data-test': 'sign-in-phone-number-input',\n                    },\n                });\n                break;\n            case 'username':\n            default:\n                formFieldInputs.push({\n                    type: 'username',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('username'),\n                    inputProps: {\n                        'data-test': 'sign-in-username-input',\n                    },\n                });\n                break;\n        }\n        formFieldInputs.push({\n            type: 'password',\n            hint: (h(\"div\", null, I18n.get(Translations.FORGOT_PASSWORD_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.ForgotPassword); }, \"data-test\": \"sign-in-forgot-password-link\" }, I18n.get(Translations.RESET_PASSWORD_TEXT)))),\n            required: true,\n            handleInputChange: this.handleFormFieldInputChange('password'),\n            inputProps: {\n                'data-test': 'sign-in-password-input',\n            },\n        });\n        this.newFormFields = __spreadArrays(formFieldInputs);\n    };\n    class_5.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_2 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                // TODO: handle hint better\n                if (newField.type === 'password') {\n                    newField['hint'] = isHintValid(newField) ? (h(\"div\", null, I18n.get(Translations.FORGOT_PASSWORD_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.ForgotPassword); }, \"data-test\": \"sign-in-forgot-password-link\" }, I18n.get(Translations.RESET_PASSWORD_TEXT)))) : (newField['hint']);\n                }\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                _this.setFieldValue(newField, _this.signInAttributes);\n                newFields_2.push(newField);\n            });\n            this.newFormFields = newFields_2;\n        }\n    };\n    class_5.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    formAttributes.userInput = '';\n                }\n                else {\n                    formAttributes.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            case 'password':\n                if (field.value === undefined) {\n                    formAttributes.password = '';\n                }\n                else {\n                    formAttributes.password = field.value;\n                }\n                break;\n        }\n    };\n    class_5.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, testDataPrefix: 'sign-in' }, h(\"div\", { slot: \"subtitle\" }, h(\"slot\", { name: \"header-subtitle\" })), h(\"slot\", { name: \"federated-buttons\" }, h(\"amplify-federated-buttons\", { handleAuthStateChange: this.handleAuthStateChange, federated: this.federated })), !isEmpty(this.federated) && h(\"amplify-strike\", null, \"or\"), h(\"amplify-auth-fields\", { formFields: this.newFormFields }), h(\"div\", { slot: \"amplify-form-section-footer\", class: \"sign-in-form-footer\" }, h(\"slot\", { name: \"footer\" }, h(\"slot\", { name: \"secondary-footer-content\" }, !this.hideSignUp ? (h(\"span\", null, I18n.get(Translations.NO_ACCOUNT_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignUp); }, \"data-test\": \"sign-in-create-account-link\" }, I18n.get(Translations.CREATE_ACCOUNT_TEXT)))) : (h(\"span\", null))), h(\"slot\", { name: \"primary-footer-content\" }, h(\"amplify-button\", { type: \"submit\", disabled: this.loading, \"data-test\": \"sign-in-sign-in-button\" }, this.loading ? h(\"amplify-loading-spinner\", null) : h(\"span\", null, I18n.get(this.submitButtonText)))))))));\n    };\n    Object.defineProperty(class_5, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_5;\n}());\nAmplifySignIn.style = amplifySignInCss;\nvar amplifySignUpCss = \":host{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";\nvar AmplifySignUp = /** @class */ (function () {\n    function class_6(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign up form is submitted */\n        this.handleSubmit = function (event) { return _this.signUp(event); };\n        /** Used for header text in sign up component */\n        this.headerText = Translations.SIGN_UP_HEADER_TEXT;\n        /** Used for the submit button text in sign up component */\n        this.submitButtonText = Translations.SIGN_UP_SUBMIT_BUTTON_TEXT;\n        /** Used for the submit button text in sign up component */\n        this.haveAccountText = Translations.SIGN_UP_HAVE_ACCOUNT_TEXT;\n        /** Text used for the sign in hyperlink */\n        this.signInText = Translations.SIGN_IN_TEXT;\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Auth state change handler for this component\n         * e.g. SignIn -> 'Create Account' link -> SignUp\n         */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        // private userInput: string | PhoneNumberInterface;\n        this.newFormFields = [];\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.loading = false;\n        this.signUpAttributes = {\n            username: '',\n            password: '',\n            attributes: {},\n        };\n    }\n    class_6.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n                return function (event) { return (_this.signUpAttributes.username = event.target.value); };\n            case 'password':\n                return function (event) { return (_this.signUpAttributes.password = event.target.value); };\n            case 'email':\n                return function (event) { return (_this.signUpAttributes.attributes.email = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            default:\n                return function (event) { return (_this.signUpAttributes.attributes[fieldType] = event.target.value); };\n        }\n    };\n    class_6.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    // TODO: Add validation\n    // TODO: Prefix\n    class_6.prototype.signUp = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, signUpAttrs, error_8;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.signUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        if (this.phoneNumber.phoneNumberValue) {\n                            try {\n                                this.signUpAttributes.attributes.phone_number = composePhoneNumberInput(this.phoneNumber);\n                            }\n                            catch (error) {\n                                dispatchToastHubEvent(error);\n                            }\n                        }\n                        switch (this.usernameAlias) {\n                            case 'email':\n                            case 'phone_number':\n                                this.signUpAttributes.username = this.signUpAttributes.attributes[this.usernameAlias];\n                                break;\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 6, 7, 8]);\n                        if (!this.signUpAttributes.username) {\n                            throw new Error(Translations.EMPTY_USERNAME);\n                        }\n                        if (this.signUpAttributes.username.indexOf(' ') >= 0) {\n                            throw new Error(Translations.USERNAME_REMOVE_WHITESPACE);\n                        }\n                        if (this.signUpAttributes.password !== this.signUpAttributes.password.trim()) {\n                            throw new Error(Translations.PASSWORD_REMOVE_WHITESPACE);\n                        }\n                        return [4 /*yield*/, Auth.signUp(this.signUpAttributes)];\n                    case 2:\n                        data = _a.sent();\n                        if (!data) {\n                            throw new Error(Translations.SIGN_UP_FAILED);\n                        }\n                        if (!data.userConfirmed) return [3 /*break*/, 4];\n                        return [4 /*yield*/, handleSignIn(this.signUpAttributes.username, this.signUpAttributes.password, this.handleAuthStateChange)];\n                    case 3:\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        signUpAttrs = Object.assign({}, this.signUpAttributes);\n                        this.handleAuthStateChange(AuthState.ConfirmSignUp, Object.assign(Object.assign({}, data.user), { signUpAttrs: signUpAttrs }));\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        error_8 = _a.sent();\n                        dispatchToastHubEvent(error_8);\n                        return [3 /*break*/, 8];\n                    case 7:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_6.prototype.buildDefaultFormFields = function () {\n        switch (this.usernameAlias) {\n            case 'email':\n                this.newFormFields = [\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                        },\n                    },\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                        },\n                    },\n                ];\n                break;\n            case 'phone_number':\n                this.newFormFields = [\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                        },\n                    },\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                        },\n                    },\n                ];\n                break;\n            case 'username':\n            default:\n                this.newFormFields = [\n                    {\n                        type: 'username',\n                        placeholder: I18n.get(Translations.SIGN_UP_USERNAME_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('username'),\n                        inputProps: {\n                            'data-test': 'sign-up-username-input',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                        },\n                    },\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                        },\n                    },\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                        },\n                    },\n                ];\n                break;\n        }\n    };\n    class_6.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_3 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                _this.setFieldValue(field, _this.signUpAttributes);\n                newFields_3.push(newField);\n            });\n            this.newFormFields = newFields_3;\n        }\n    };\n    class_6.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n                if (field.value === undefined) {\n                    formAttributes.username = '';\n                }\n                else {\n                    formAttributes.username = field.value;\n                }\n                break;\n            case 'password':\n                if (field.value === undefined) {\n                    formAttributes.password = '';\n                }\n                else {\n                    formAttributes.password = field.value;\n                }\n                break;\n            case 'email':\n                formAttributes.attributes.email = field.value;\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            default:\n                formAttributes.attributes[field.type] = field.value;\n                break;\n        }\n    };\n    class_6.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_6.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_6.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, testDataPrefix: 'sign-up' }, h(\"div\", { slot: \"subtitle\" }, h(\"slot\", { name: \"header-subtitle\" })), h(\"amplify-auth-fields\", { formFields: this.newFormFields }), h(\"div\", { class: \"sign-up-form-footer\", slot: \"amplify-form-section-footer\" }, h(\"slot\", { name: \"footer\" }, h(\"slot\", { name: \"secondary-footer-content\" }, h(\"span\", null, I18n.get(this.haveAccountText), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); }, \"data-test\": \"sign-up-sign-in-link\" }, I18n.get(this.signInText)))), h(\"slot\", { name: \"primary-footer-content\" }, h(\"amplify-button\", { type: \"submit\", \"data-test\": \"sign-up-create-account-button\" }, this.loading ? h(\"amplify-loading-spinner\", null) : h(\"span\", null, I18n.get(this.submitButtonText)))))))));\n    };\n    Object.defineProperty(class_6, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_6;\n}());\nAmplifySignUp.style = amplifySignUpCss;\nvar logger$2 = new Logger('AmplifyVerifyContact');\nvar AmplifyVerifyContact = /** @class */ (function () {\n    function class_7(hostRef) {\n        registerInstance(this, hostRef);\n        /** Authentication state handler */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        this.loading = false;\n    }\n    class_7.prototype.handleSubmit = function (event) {\n        event.preventDefault();\n        this.verifyAttr ? this.submit(this.code) : this.verify(this.contact);\n    };\n    class_7.prototype.submit = function (code) {\n        return __awaiter(this, void 0, void 0, function () {\n            var attr, data, error_9;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attr = this.verifyAttr;\n                        if (!Auth || typeof Auth.verifyCurrentUserAttributeSubmit !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.verifyCurrentUserAttributeSubmit(attr, code)];\n                    case 2:\n                        data = _a.sent();\n                        logger$2.debug(data);\n                        this.handleAuthStateChange(AuthState.SignedIn, this.user);\n                        this.verifyAttr = null;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_9 = _a.sent();\n                        dispatchToastHubEvent(error_9);\n                        logger$2.error(error_9);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_7.prototype.verify = function (contact) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_10;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!contact) {\n                            logger$2.error('Neither Email nor Phone Number selected');\n                            return [2 /*return*/];\n                        }\n                        if (!Auth || typeof Auth.verifyCurrentUserAttribute !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.verifyCurrentUserAttribute(contact)];\n                    case 2:\n                        data = _a.sent();\n                        logger$2.debug(data);\n                        this.verifyAttr = contact;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_10 = _a.sent();\n                        dispatchToastHubEvent(error_10);\n                        logger$2.error(error_10);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_7.prototype.handleInputChange = function (event) {\n        var inputName = event.target.name;\n        if (inputName === 'code') {\n            this.code = event.target.value;\n        }\n        else if (inputName === 'contact') {\n            this.contact = event.target.value;\n        }\n    };\n    class_7.prototype.renderSubmit = function () {\n        var _this = this;\n        return (h(\"div\", null, h(\"amplify-input\", { inputProps: {\n                autocomplete: 'off',\n                'data-test': 'verify-contact-code-input',\n            }, name: \"code\", placeholder: I18n.get(Translations.CODE_PLACEHOLDER), handleInputChange: function (event) { return _this.handleInputChange(event); } })));\n    };\n    class_7.prototype.renderVerify = function () {\n        var _this = this;\n        var user = this.user;\n        if (!user) {\n            logger$2.debug('No user to verify');\n            return null;\n        }\n        var unverified = user.unverified;\n        if (!unverified) {\n            logger$2.debug('Unverified variable does not exist on user');\n            return null;\n        }\n        var email = unverified.email, phone_number = unverified.phone_number;\n        return (h(\"div\", null, email && (h(\"amplify-radio-button\", { label: I18n.get(Translations.VERIFY_CONTACT_EMAIL_LABEL), key: \"email\", name: \"contact\", value: \"email\", handleInputChange: function (event) { return _this.handleInputChange(event); }, inputProps: {\n                'data-test': 'verify-contact-email-radio',\n            } })), phone_number && (h(\"amplify-radio-button\", { label: I18n.get(Translations.VERIFY_CONTACT_PHONE_LABEL), key: \"phone_number\", name: \"contact\", value: \"phone_number\", handleInputChange: function (event) { return _this.handleInputChange(event); }, inputProps: {\n                'data-test': 'verify-contact-phone-number-radio',\n            } }))));\n    };\n    class_7.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { handleSubmit: function (event) { return _this.handleSubmit(event); }, headerText: I18n.get(Translations.VERIFY_CONTACT_HEADER_TEXT), loading: this.loading, secondaryFooterContent: h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignedIn, _this.user); }, \"data-test\": \"verify-contact-skip-link\" }, \"Skip\")), submitButtonText: this.verifyAttr\n                ? I18n.get(Translations.VERIFY_CONTACT_SUBMIT_LABEL)\n                : I18n.get(Translations.VERIFY_CONTACT_VERIFY_LABEL) }, this.verifyAttr ? this.renderSubmit() : this.renderVerify())));\n    };\n    return class_7;\n}());\nexport { AmplifyConfirmSignIn as amplify_confirm_sign_in, AmplifyConfirmSignUp as amplify_confirm_sign_up, AmplifyForgotPassword as amplify_forgot_password, AmplifyRequireNewPassword as amplify_require_new_password, AmplifySignIn as amplify_sign_in, AmplifySignUp as amplify_sign_up, AmplifyVerifyContact as amplify_verify_contact };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Logger, isEmpty } from '@aws-amplify/core';\nimport { A as AuthState, C as ChallengeName } from './auth-types-78df304e.js';\nimport { Auth, CognitoUser } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { a as dispatchToastHubEvent } from './helpers-4afef5ab.js';\nvar logger = new Logger('auth-helpers');\nfunction checkContact(user, handleAuthStateChange) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, newUser, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!Auth || typeof Auth.verifiedContact !== 'function') {\n                        throw new Error(NO_AUTH_MODULE_FOUND);\n                    }\n                    // If `user` is a federated user, we shouldn't call `verifiedContact`\n                    // since `user` isn't `CognitoUser`\n                    if (!isCognitoUser(user)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, Auth.verifiedContact(user)];\n                case 2:\n                    data = _a.sent();\n                    if (!isEmpty(data.verified) || isEmpty(data.unverified)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                    }\n                    else {\n                        newUser = Object.assign(user, data);\n                        handleAuthStateChange(AuthState.VerifyContact, newUser);\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    dispatchToastHubEvent(error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar handleSignIn = function (username, password, handleAuthStateChange) { return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!Auth || typeof Auth.signIn !== 'function') {\n                    throw new Error(NO_AUTH_MODULE_FOUND);\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 9, , 10]);\n                return [4 /*yield*/, Auth.signIn(username, password)];\n            case 2:\n                user = _a.sent();\n                logger.debug(user);\n                if (!(user.challengeName === ChallengeName.SMSMFA || user.challengeName === ChallengeName.SoftwareTokenMFA)) return [3 /*break*/, 3];\n                logger.debug('confirm user with ' + user.challengeName);\n                handleAuthStateChange(AuthState.ConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 3:\n                if (!(user.challengeName === ChallengeName.NewPasswordRequired)) return [3 /*break*/, 4];\n                logger.debug('require new password', user.challengeParam);\n                handleAuthStateChange(AuthState.ResetPassword, user);\n                return [3 /*break*/, 8];\n            case 4:\n                if (!(user.challengeName === ChallengeName.MFASetup)) return [3 /*break*/, 5];\n                logger.debug('TOTP setup', user.challengeParam);\n                handleAuthStateChange(AuthState.TOTPSetup, user);\n                return [3 /*break*/, 8];\n            case 5:\n                if (!(user.challengeName === ChallengeName.CustomChallenge &&\n                    user.challengeParam &&\n                    user.challengeParam.trigger === 'true')) return [3 /*break*/, 6];\n                logger.debug('custom challenge', user.challengeParam);\n                handleAuthStateChange(AuthState.CustomConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 6: return [4 /*yield*/, checkContact(user, handleAuthStateChange)];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8: return [3 /*break*/, 10];\n            case 9:\n                error_2 = _a.sent();\n                if (error_2.code === 'UserNotConfirmedException') {\n                    logger.debug('the user is not confirmed');\n                    handleAuthStateChange(AuthState.ConfirmSignUp, { username: username });\n                }\n                else if (error_2.code === 'PasswordResetRequiredException') {\n                    logger.debug('the user requires a new password');\n                    handleAuthStateChange(AuthState.ForgotPassword, { username: username });\n                }\n                else if (error_2.code === 'InvalidParameterException' && password === '') {\n                    logger.debug('Password cannot be empty');\n                    error_2.message = Translations.EMPTY_PASSWORD;\n                }\n                dispatchToastHubEvent(error_2);\n                return [3 /*break*/, 10];\n            case 10: return [2 /*return*/];\n        }\n    });\n}); };\nvar isCognitoUser = function (user) {\n    return user instanceof CognitoUser;\n};\nexport { checkContact as c, handleSignIn as h };\n"]}}