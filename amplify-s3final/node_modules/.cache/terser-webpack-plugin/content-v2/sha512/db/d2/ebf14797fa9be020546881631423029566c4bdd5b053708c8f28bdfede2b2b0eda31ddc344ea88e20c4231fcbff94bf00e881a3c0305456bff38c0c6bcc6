{"code":"(this[\"webpackJsonpamplify-s3final\"]=this[\"webpackJsonpamplify-s3final\"]||[]).push([[4],{601:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"amplify_chatbot\",(function(){return w}));var i,o,r,a=n(10),s=n(28),c=n(22),u=n(6),l=n(5),d=n(16),m=n(625),p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},f=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},v=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},b=function(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))},h=function(e,t){var n=2*e.length,i=8+n,o=new ArrayBuffer(36+i),r=new DataView(o);return b(r,0,\"RIFF\"),r.setUint32(4,24+i,!0),b(r,8,\"WAVE\"),b(r,12,\"fmt \"),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,1,!0),r.setUint32(24,t,!0),r.setUint32(28,2*t,!0),r.setUint16(32,2,!0),r.setUint16(34,16,!0),b(r,36,\"data\"),r.setUint32(40,n,!0),function(e,t,n){for(var i=t,o=0;o<n.length;o++,i+=2){var r=Math.max(-1,Math.min(1,n[o]));e.setInt16(i,r<0?32768*r:32767*r,!0)}}(r,44,e),r},g=function(e,t,n,i){var o=function(e,t,n){if(n===t)return e;for(var i=t/n,o=Math.round(e.length/i),r=new Float32Array(o),a=0,s=0;a<r.length;){for(var c=Math.round((a+1)*i),u=0,l=0,d=s;d<c&&d<e.length;d++)u+=e[d],l++;r[a]=u/l,a++,s=c}return r}(function(e,t){for(var n=new Float32Array(t),i=0,o=0;o<e.length;o++)n.set(e[o],i),i+=e[o].length;return n}(e,t),n,i),r=h(o,i);return new Blob([r],{type:\"application/octet-stream\"})},y=new s.a(\"AudioRecorder\"),x=function(){function e(e){this.streamBuffer=[],this.streamBufferLength=0,this.recording=!1,this.options=e}return e.prototype.init=function(){return p(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){switch(t.label){case 0:return Object(c.b)().isBrowser?(window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=new AudioContext,[4,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.audioSupported=!0,e.setupAudioNodes(t)})).catch((function(){return e.audioSupported=!1,Promise.reject(\"Audio is not supported\")}))]):[3,2];case 1:return t.sent(),[3,3];case 2:return this.audioSupported=!1,[2,Promise.reject(\"Audio is not supported\")];case 3:return[2]}}))}))},e.prototype.setupAudioNodes=function(e){return p(this,void 0,void 0,(function(){var t,n,i,o,r=this;return f(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.audioContext.resume()];case 1:return a.sent(),[3,3];case 2:return t=a.sent(),y.error(t),[3,3];case 3:return n=this.audioContext.createMediaStreamSource(e),(i=this.audioContext.createScriptProcessor(4096,1,1)).onaudioprocess=function(e){if(r.recording){var t=e.inputBuffer.getChannelData(0);r.streamBuffer.push(new Float32Array(t)),r.streamBufferLength+=t.length,r.analyse()}},(o=this.audioContext.createAnalyser()).minDecibels=-90,o.maxDecibels=-10,o.smoothingTimeConstant=.85,n.connect(o),o.connect(i),i.connect(n.context.destination),this.analyserNode=o,[2]}}))}))},e.prototype.startRecording=function(e,t){return p(this,void 0,void 0,(function(){var n,i;return f(this,(function(o){switch(o.label){case 0:if(this.recording||!this.audioSupported)return[2];this.onSilence=e||function(){},this.visualizer=t||function(){},n=this.audioContext,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.resume()];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),y.error(i),[3,4];case 4:return this.start=Date.now(),this.recording=!0,[2]}}))}))},e.prototype.stopRecording=function(){this.audioSupported&&(this.recording=!1)},e.prototype.clear=function(){this.stopRecording(),this.streamBufferLength=0,this.streamBuffer=[]},e.prototype.play=function(e){var t=this;if(e&&this.audioSupported){var n=new Blob([e]);return new Promise((function(e,i){var o=new FileReader;o.onload=function(){t.playbackSource&&t.playbackSource.disconnect(),t.playbackSource=t.audioContext.createBufferSource();t.audioContext.decodeAudioData(o.result,(function(n){t.playbackSource.buffer=n,t.playbackSource.connect(t.audioContext.destination),t.playbackSource.onended=function(){return e()},t.playbackSource.start(0)}),(function(e){return i(e)}))},o.onerror=function(){return i()},o.readAsArrayBuffer(n)}))}},e.prototype.stop=function(){this.playbackSource&&this.playbackSource.stop()},e.prototype.analyse=function(){if(this.audioSupported){var e=this.analyserNode;e.fftSize=2048;var t=e.fftSize,n=new Uint8Array(t),i=this.options.amplitude,o=this.options.time;e.getByteTimeDomainData(n),this.visualizer(n,t);for(var r=0;r<t;r++){var a=n[r]/128-1;(a>i||a<-1*i)&&(this.start=Date.now())}Date.now()-this.start>o&&this.onSilence()}},e.prototype.exportWAV=function(e){return void 0===e&&(e=16e3),p(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){return this.audioSupported?(t=this.audioContext.sampleRate,n=g(this.streamBuffer,this.streamBufferLength,t,e),this.clear(),[2,n]):[2]}))}))},e}();!function(e){e[e.Initial=0]=\"Initial\",e[e.Listening=1]=\"Listening\",e[e.SendingText=2]=\"SendingText\",e[e.SendingVoice=3]=\"SendingVoice\",e[e.Error=4]=\"Error\"}(i||(i={})),function(e){e.Bot=\"bot\",e.User=\"user\"}(o||(o={})),function(e){e[e.Recoverable=0]=\"Recoverable\",e[e.Unrecoverable=1]=\"Unrecoverable\"}(r||(r={}));var w=function(){function e(e){var t=this;Object(a.k)(this,e),this.clearOnComplete=!1,this.conversationModeOn=!1,this.botTitle=l.a.CHATBOT_TITLE,this.voiceEnabled=!1,this.textEnabled=!0,this.silenceTime=1500,this.silenceThreshold=.2,this.messages=[],this.text=\"\",this.chatState=i.Initial,this.messageJSX=function(e){var n=e.map((function(e){return Object(a.i)(\"div\",{class:\"bubble \"+e.from},e.content)}));if(t.chatState===i.SendingText||t.chatState===i.SendingVoice){var r=t.chatState===i.SendingText?o.Bot:o.User;n.push(Object(a.i)(\"div\",{class:\"bubble \"+r},Object(a.i)(\"div\",{class:\"dot-flashing \"+r},Object(a.i)(\"span\",{class:\"dot left\"}),Object(a.i)(\"span\",{class:\"dot middle\"}),Object(a.i)(\"span\",{class:\"dot right\"}))))}return n},this.chatCompleted=Object(a.f)(this,\"chatCompleted\",7)}return e.prototype.submitHandler=function(e){this.sendTextMessage()},e.prototype.componentWillLoad=function(){if(!m.a||\"function\"!==typeof m.a.onComplete)throw new Error(d.m);this.validateProps()},e.prototype.componentDidRender=function(){var e=this.element.shadowRoot.querySelector(\".body\");e.scrollTop=e.scrollHeight},e.prototype.validateProps=function(){var e=this;if(this.voiceEnabled||this.textEnabled)if(this.botName){this.welcomeMessage&&this.appendToChat(this.welcomeMessage,o.Bot),this.voiceEnabled&&(this.audioRecorder=new x({time:this.silenceTime,amplitude:this.silenceThreshold}),this.audioRecorder.init().catch((function(t){e.setError(t,r.Recoverable)})));try{m.a.onComplete(this.botName,(function(t,n){e.chatCompleted.emit({data:n,err:t}),e.clearOnComplete?e.reset():e.chatState=i.Initial}))}catch(t){this.setError(t,r.Unrecoverable)}}else this.setError(l.a.NO_BOT_NAME_ERROR,r.Unrecoverable);else this.setError(l.a.CHAT_DISABLED_ERROR,r.Unrecoverable)},e.prototype.handleMicButton=function(){var e=this;this.chatState===i.Initial&&(this.audioRecorder.stop(),this.chatState=i.Listening,this.audioRecorder.startRecording((function(){return e.handleSilence()}),(function(t,n){return e.visualizer(t,n)})))},e.prototype.handleSilence=function(){var e=this;this.chatState=i.SendingVoice,this.audioRecorder.stopRecording(),this.audioRecorder.exportWAV().then((function(t){e.sendVoiceMessage(t)}))},e.prototype.handleTextChange=function(e){var t=e.target;this.text=t.value},e.prototype.handleCancelButton=function(){this.audioRecorder.clear(),this.chatState=i.Initial},e.prototype.handleToastClose=function(e){this.error=void 0,e===r.Recoverable&&(this.chatState=i.Initial)},e.prototype.visualizer=function(e,t){!function(e,t,n){if(n){if(!Object(c.b)().isBrowser)throw new Error(\"Visualization is not supported on non-browsers.\");var i=n.getBoundingClientRect(),o=i.width,r=i.height;n.width=o,n.height=r;var a=n.getContext(\"2d\");a.fillStyle=\"white\",a.clearRect(0,0,o,r),requestAnimationFrame((function(){a.fillRect(0,0,o,r),a.lineWidth=1;var i=getComputedStyle(document.documentElement).getPropertyValue(\"--amplify-primary-color\");a.strokeStyle=i&&\"\"!==i?i:\"#ff9900\",a.beginPath();for(var s=1*o/t,c=0,u=0;u<t||u%3===0;u++){var l=e[u]/128*r/2;0===u?a.moveTo(c,l):a.lineTo(c,l),c+=s}a.lineTo(n.width,n.height/2),a.stroke()}))}}(e,t,this.element.shadowRoot.querySelector(\"canvas\"))},e.prototype.sendTextMessage=function(){return p(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(a){switch(a.label){case 0:if(0===this.text.length||this.chatState!==i.Initial)return[2];e=this.text,this.text=\"\",this.appendToChat(e,o.User),this.chatState=i.SendingText,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m.a.send(this.botName,e)];case 2:return t=a.sent(),[3,4];case 3:return n=a.sent(),this.setError(n,r.Recoverable),[2];case 4:return t.message&&this.appendToChat(t.message,o.Bot),this.chatState=i.Initial,[2]}}))}))},e.prototype.sendVoiceMessage=function(e){return p(this,void 0,void 0,(function(){var t,n,a,s,c=this;return f(this,(function(u){switch(u.label){case 0:t={content:e,options:{messageType:\"voice\"}},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,m.a.send(this.botName,t)];case 2:return n=u.sent(),[3,4];case 3:return a=u.sent(),this.setError(a,r.Recoverable),[2];case 4:return this.chatState=i.Initial,s=n.dialogState,n.inputTranscript&&this.appendToChat(n.inputTranscript,o.User),this.appendToChat(n.message,o.Bot),[4,this.audioRecorder.play(n.audioStream).then((function(){c.conversationModeOn&&\"Fulfilled\"!==s&&\"Failed\"!==s&&c.chatState===i.Initial&&c.handleMicButton()})).catch((function(e){return c.setError(e,r.Recoverable)}))];case 5:return u.sent(),[2]}}))}))},e.prototype.appendToChat=function(e,t){this.messages=v(this.messages,[{content:e,from:t}])},e.prototype.setError=function(e,t){var n=\"string\"===typeof e?e:e.message;this.chatState=i.Error,this.error={message:n,errorType:t}},e.prototype.reset=function(){this.chatState=i.Initial,this.text=\"\",this.error=void 0,this.messages=[],this.welcomeMessage&&this.appendToChat(this.welcomeMessage,o.Bot),this.audioRecorder&&this.audioRecorder.clear()},e.prototype.listeningFooterJSX=function(){var e=this;return[Object(a.i)(\"canvas\",{height:\"50\"}),Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-cancel-button\",handleButtonClick:function(){return e.handleCancelButton()},class:\"icon-button\",variant:\"icon\",icon:\"ban\"})]},e.prototype.footerJSX=function(){var e=this;if(this.chatState===i.Listening)return this.listeningFooterJSX();var t=this.textEnabled?l.a.TEXT_INPUT_PLACEHOLDER:l.a.VOICE_INPUT_PLACEHOLDER;return[Object(a.i)(\"amplify-input\",{placeholder:u.a.get(t),description:\"text\",handleInputChange:function(t){return e.handleTextChange(t)},value:this.text,disabled:this.chatState===i.Error||!this.textEnabled}),this.voiceEnabled&&Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-mic-button\",handleButtonClick:function(){return e.handleMicButton()},class:\"icon-button\",variant:\"icon\",icon:\"microphone\",disabled:this.chatState===i.Error||this.chatState!==i.Initial}),this.textEnabled&&Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-send-button\",class:\"icon-button\",variant:\"icon\",icon:\"send\",handleButtonClick:function(){return e.sendTextMessage()},disabled:this.chatState===i.Error||this.chatState!==i.Initial})]},e.prototype.errorToast=function(){var e=this;if(this.error){var t=this.error,n=t.message,i=t.errorType;return Object(a.i)(\"amplify-toast\",{message:u.a.get(n),handleClose:function(){return e.handleToastClose(i)}})}},e.prototype.render=function(){return Object(a.i)(a.b,null,Object(a.i)(\"div\",{class:\"amplify-chatbot\"},Object(a.i)(\"slot\",{name:\"header\"},Object(a.i)(\"div\",{class:\"header\",\"data-test\":\"chatbot-header\"},u.a.get(this.botTitle))),Object(a.i)(\"div\",{class:\"body\",\"data-test\":\"chatbot-body\"},this.messageJSX(this.messages)),Object(a.i)(\"div\",{class:\"footer\",\"data-test\":\"chatbot-footer\"},this.footerJSX()),this.errorToast()))},Object.defineProperty(e.prototype,\"element\",{get:function(){return Object(a.h)(this)},enumerable:!1,configurable:!0}),e}();w.style=\".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}\"},625:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return _e}));var i,o,r,a,s,c,u,l,d,m,p,f,v,b,h,g,y,x,w,O,S,j,E,T,C,L,I,A,k,N,z,_,P,R,F,B,M,U=n(28),D=n(20),$=function(){return($=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=new U.a(\"AbstractInteractionsProvider\"),V=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=$($({},this._config),e),q.debug(\"configure \"+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return\"Interactions\"},Object.defineProperty(e.prototype,\"options\",{get:function(){return $({},this._config)},enumerable:!0,configurable:!0}),e}(),H=n(0),W=n(657),J=n(56),G=n(32),X=n(60),Y=n(26),K=n(31),Q=n(57),Z=n(63),ee=n(23),te=\"runtime.lex.{region}.amazonaws.com\",ne=new Set([\"af-south-1\",\"ap-east-1\",\"ap-northeast-1\",\"ap-northeast-2\",\"ap-south-1\",\"ap-southeast-1\",\"ap-southeast-2\",\"ca-central-1\",\"eu-central-1\",\"eu-north-1\",\"eu-south-1\",\"eu-west-1\",\"eu-west-2\",\"eu-west-3\",\"me-south-1\",\"sa-east-1\",\"us-east-1\",\"us-east-2\",\"us-west-1\",\"us-west-2\"]),ie=new Set([\"cn-north-1\",\"cn-northwest-1\"]),oe=new Set([\"us-iso-east-1\"]),re=new Set([\"us-isob-east-1\"]),ae=new Set([\"us-gov-east-1\",\"us-gov-west-1\"]),se={apiVersion:\"2016-11-28\",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case\"ap-northeast-1\":n={hostname:\"runtime.lex.ap-northeast-1.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"ap-southeast-1\":n={hostname:\"runtime.lex.ap-southeast-1.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"ap-southeast-2\":n={hostname:\"runtime.lex.ap-southeast-2.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"eu-central-1\":n={hostname:\"runtime.lex.eu-central-1.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"eu-west-1\":n={hostname:\"runtime.lex.eu-west-1.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"eu-west-2\":n={hostname:\"runtime.lex.eu-west-2.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"us-east-1\":n={hostname:\"runtime.lex.us-east-1.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;case\"us-west-2\":n={hostname:\"runtime.lex.us-west-2.amazonaws.com\",partition:\"aws\",signingService:\"lex\"};break;default:ne.has(e)&&(n={hostname:te.replace(\"{region}\",e),partition:\"aws\",signingService:\"lex\"}),ie.has(e)&&(n={hostname:\"runtime.lex.{region}.amazonaws.com.cn\".replace(\"{region}\",e),partition:\"aws-cn\"}),oe.has(e)&&(n={hostname:\"runtime.lex.{region}.c2s.ic.gov\".replace(\"{region}\",e),partition:\"aws-iso\"}),re.has(e)&&(n={hostname:\"runtime.lex.{region}.sc2s.sgov.gov\".replace(\"{region}\",e),partition:\"aws-iso-b\"}),ae.has(e)&&(n={hostname:\"runtime.lex.{region}.amazonaws.com\".replace(\"{region}\",e),partition:\"aws-us-gov\"}),void 0===n&&(n={hostname:te.replace(\"{region}\",e),partition:\"aws\",signingService:\"lex\"})}return Promise.resolve(Object(H.a)({signingService:\"lex\"},n))},serviceId:\"Lex Runtime Service\",urlParser:n(61).a},ce=Object(H.a)(Object(H.a)({},se),{runtime:\"browser\",base64Decoder:K.a,base64Encoder:K.b,bodyLengthChecker:Q.a,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error(\"Credential is missing\"))}},defaultUserAgentProvider:Object(Z.a)({serviceId:se.serviceId,clientVersion:W.version}),maxAttempts:Y.a,region:Object(X.a)(\"Region is missing\"),requestHandler:new G.a,sha256:J.Sha256,streamCollector:G.b,utf8Decoder:ee.fromUtf8,utf8Encoder:ee.toUtf8}),ue=n(37),le=n(62),de=n(38),me=n(59),pe=n(47),fe=n(36),ve=n(1),be=function(e){function t(t){var n=this,i=Object(H.a)(Object(H.a)({},ce),t),o=Object(ue.b)(i),r=Object(ue.a)(o),a=Object(pe.b)(r),s=Object(Y.c)(a),c=Object(de.b)(s),u=Object(fe.b)(c);return(n=e.call(this,u)||this).config=u,n.middlewareStack.use(Object(pe.a)(n.config)),n.middlewareStack.use(Object(Y.b)(n.config)),n.middlewareStack.use(Object(le.a)(n.config)),n.middlewareStack.use(Object(de.a)(n.config)),n.middlewareStack.use(Object(me.a)(n.config)),n.middlewareStack.use(Object(fe.a)(n.config)),n}return Object(H.c)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(ve.a);(i||(i={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(o||(o={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)({},e),e.parameters&&{parameters:ve.d})},(r||(r={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(a||(a={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(s||(s={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(c||(c={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(u||(u={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(l||(l={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(d||(d={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(m||(m={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},function(e){e.FAILED=\"Failed\",e.FULFILLED=\"Fulfilled\",e.READY_FOR_FULFILLMENT=\"ReadyForFulfillment\"}(p||(p={})),function(e){e.COMPOSITE=\"Composite\",e.CUSTOM_PAYLOAD=\"CustomPayload\",e.PLAIN_TEXT=\"PlainText\",e.SSML=\"SSML\"}(f||(f={})),function(e){e.CLOSE=\"Close\",e.CONFIRM_INTENT=\"ConfirmIntent\",e.DELEGATE=\"Delegate\",e.ELICIT_INTENT=\"ElicitIntent\",e.ELICIT_SLOT=\"ElicitSlot\"}(v||(v={})),(b||(b={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)({},e),e.slots&&{slots:ve.d}),e.message&&{message:ve.d})},function(e){e.CONFIRMED=\"Confirmed\",e.DENIED=\"Denied\",e.NONE=\"None\"}(h||(h={})),(g||(g={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)({},e),e.slots&&{slots:ve.d})},(y||(y={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)({},e),e.recentIntentSummaryView&&{recentIntentSummaryView:e.recentIntentSummaryView.map((function(e){return g.filterSensitiveLog(e)}))}),e.sessionAttributes&&{sessionAttributes:ve.d}),e.dialogAction&&{dialogAction:b.filterSensitiveLog(e.dialogAction)}),e.activeContexts&&{activeContexts:ve.d})},(x||(x={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(w||(w={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(O||(O={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(S||(S={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(j||(j={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)({},e),e.sessionAttributes&&{sessionAttributes:ve.d}),e.requestAttributes&&{requestAttributes:ve.d}),e.activeContexts&&{activeContexts:ve.d})},function(e){e.CONFIRM_INTENT=\"ConfirmIntent\",e.ELICIT_INTENT=\"ElicitIntent\",e.ELICIT_SLOT=\"ElicitSlot\",e.FAILED=\"Failed\",e.FULFILLED=\"Fulfilled\",e.READY_FOR_FULFILLMENT=\"ReadyForFulfillment\"}(E||(E={})),(T||(T={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)({},e),e.message&&{message:ve.d}),e.activeContexts&&{activeContexts:ve.d})},(C||(C={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(L||(L={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(I||(I={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)({},e),e.sessionAttributes&&{sessionAttributes:ve.d}),e.requestAttributes&&{requestAttributes:ve.d}),e.inputText&&{inputText:ve.d}),e.activeContexts&&{activeContexts:ve.d})},(A||(A={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(k||(k={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)({},e),e.slots&&{slots:ve.d})},function(e){e.GENERIC=\"application/vnd.amazonaws.card.generic\"}(N||(N={})),(z||(z={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(_||(_={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(P||(P={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(R||(R={})).filterSensitiveLog=function(e){return Object(H.a)({},e)},(F||(F={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)({},e),e.alternativeIntents&&{alternativeIntents:e.alternativeIntents.map((function(e){return k.filterSensitiveLog(e)}))}),e.slots&&{slots:ve.d}),e.sessionAttributes&&{sessionAttributes:ve.d}),e.message&&{message:ve.d}),e.activeContexts&&{activeContexts:ve.d})},(B||(B={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)(Object(H.a)({},e),e.sessionAttributes&&{sessionAttributes:ve.d}),e.dialogAction&&{dialogAction:b.filterSensitiveLog(e.dialogAction)}),e.recentIntentSummaryView&&{recentIntentSummaryView:e.recentIntentSummaryView.map((function(e){return g.filterSensitiveLog(e)}))}),e.activeContexts&&{activeContexts:ve.d})},(M||(M={})).filterSensitiveLog=function(e){return Object(H.a)(Object(H.a)(Object(H.a)({},e),e.message&&{message:ve.d}),e.activeContexts&&{activeContexts:ve.d})};var he=n(656),ge=n(11),ye=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(H.c)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(ge.a)(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:\"LexRuntimeServiceClient\",commandName:\"PostTextCommand\",inputFilterSensitiveLog:I.filterSensitiveLog,outputFilterSensitiveLog:F.filterSensitiveLog},r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return Object(he.d)(e,t)},t.prototype.deserialize=function(e,t){return Object(he.b)(e,t)},t}(ve.b),xe=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(H.c)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(ge.a)(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:\"LexRuntimeServiceClient\",commandName:\"PostContentCommand\",inputFilterSensitiveLog:j.filterSensitiveLog,outputFilterSensitiveLog:T.filterSensitiveLog},r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return Object(he.c)(e,t)},t.prototype.deserialize=function(e,t){return Object(he.a)(e,t)},t}(ve.b),we=n(651),Oe=n(67),Se=function(e){if(e instanceof Blob||e instanceof ReadableStream)return new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}));throw new Error(\"Readable is not supported.\")},je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Te=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Ce=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Le=new U.a(\"AWSLexProvider\"),Ie=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return je(t,e),t.prototype.getProviderName=function(){return\"AWSLexProvider\"},t.prototype.reportBotStatus=function(e,t){var n=this;Le.debug(\"postContent state\",e.dialogState),\"ReadyForFulfillment\"!==e.dialogState&&\"Fulfilled\"!==e.dialogState||(\"function\"===typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,{slots:e.slots})}),0),this._config&&\"function\"===typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,{slots:e.slots})}),0)),\"Failed\"===e.dialogState&&(\"function\"===typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](\"Bot conversation failed\")}),0),this._config&&\"function\"===typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(\"Bot conversation failed\")}),0))},t.prototype.sendMessage=function(e,t){return Te(this,void 0,void 0,(function(){var n,i,o,r,a,s,c,u,l,d;return Ce(this,(function(m){switch(m.label){case 0:return this._config[e]?[4,we.a.get()]:[2,Promise.reject(\"Bot \"+e+\" does not exist\")];case 1:if(!(n=m.sent()))return[2,Promise.reject(\"No credentials\")];if(this.lexRuntimeServiceClient=new be({region:this._config[e].region,credentials:n,customUserAgent:Object(Oe.b)()}),\"string\"!==typeof t)return[3,6];i={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},Le.debug(\"postText to lex\",t),m.label=2;case 2:return m.trys.push([2,4,,5]),o=new ye(i),[4,this.lexRuntimeServiceClient.send(o)];case 3:return u=m.sent(),this.reportBotStatus(u,e),[2,u];case 4:return r=m.sent(),[2,Promise.reject(r)];case 5:return[3,11];case 6:a=t.content,s=t.options.messageType,i=\"voice\"===s?{botAlias:this._config[e].alias,botName:e,contentType:\"audio/x-l16; sample-rate=16000\",inputStream:a,userId:n.identityId,accept:\"audio/mpeg\"}:{botAlias:this._config[e].alias,botName:e,contentType:\"text/plain; charset=utf-8\",inputStream:a,userId:n.identityId,accept:\"audio/mpeg\"},Le.debug(\"postContent to lex\",t),m.label=7;case 7:return m.trys.push([7,10,,11]),c=new xe(i),[4,this.lexRuntimeServiceClient.send(c)];case 8:return u=m.sent(),[4,Se(u.audioStream)];case 9:return l=m.sent(),this.reportBotStatus(u,e),[2,Ee(Ee({},u),{audioStream:l})];case 10:return d=m.sent(),[2,Promise.reject(d)];case 11:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new ErrorEvent(\"Bot \"+e+\" does not exist\");this._botsCompleteCallback[e]=t},t}(V),Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ke=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Ne=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},ze=new U.a(\"Interactions\"),_e=new(function(){function e(e){this._options=e,ze.debug(\"Interactions Options\",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return\"Interactions\"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};ze.debug(\"configure Interactions\",{opt:n}),this._options=Ae(Ae({bots:{}},n),n.Interactions);var i=this._options.aws_bots_config,o=this._options.bots;return!Object.keys(o).length&&i&&Array.isArray(i)&&i.forEach((function(e){t._options.bots[e.name]=e})),!this._pluggables.AWSLexProvider&&o&&Object.keys(o).map((function(e){return o[e]})).find((function(e){return!e.providerName||\"AWSLexProvider\"===e.providerName}))&&(this._pluggables.AWSLexProvider=new Ie),Object.keys(this._pluggables).map((function(e){t._pluggables[e].configure(t._options.bots)})),this._options},e.prototype.addPluggable=function(e){if(e&&\"Interactions\"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error(\"Bot \"+e.getProviderName()+\" already plugged\");return e.configure(this._options.bots),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return ke(this,void 0,void 0,(function(){var n;return Ne(this,(function(i){switch(i.label){case 0:if(!this._options.bots||!this._options.bots[e])throw new Error(\"Bot \"+e+\" does not exist\");if(n=this._options.bots[e].providerName||\"AWSLexProvider\",!this._pluggables[n])throw new Error(\"Bot \"+n+\" does not have valid pluggin did you try addPluggable first?\");return[4,this._pluggables[n].sendMessage(e,t)];case 1:return[2,i.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error(\"Bot \"+e+\" does not exist\");var n=this._options.bots[e].providerName||\"AWSLexProvider\";if(!this._pluggables[n])throw new Error(\"Bot \"+n+\" does not have valid pluggin did you try addPluggable first?\");this._pluggables[n].onComplete(e,t)},e}())(null);D.a.register(_e)},656:function(e,t,n){\"use strict\";(function(e){n.d(t,\"c\",(function(){return a})),n.d(t,\"d\",(function(){return s})),n.d(t,\"a\",(function(){return c})),n.d(t,\"b\",(function(){return l}));var i=n(0),o=n(3),r=n(1),a=function(t,n){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s,c,u,l,d,m,p,f;return Object(i.d)(this,(function(v){switch(v.label){case 0:if(a=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({\"content-type\":\"application/octet-stream\",\"x-amz-content-sha256\":\"UNSIGNED-PAYLOAD\"},U(t.sessionAttributes)&&{\"x-amz-lex-session-attributes\":e.from(r.c.fromObject(t.sessionAttributes)).toString(\"base64\")}),U(t.requestAttributes)&&{\"x-amz-lex-request-attributes\":e.from(r.c.fromObject(t.requestAttributes)).toString(\"base64\")}),U(t.contentType)&&{\"content-type\":t.contentType}),U(t.accept)&&{accept:t.accept}),U(t.activeContexts)&&{\"x-amz-lex-active-contexts\":e.from(r.c.fromObject(t.activeContexts)).toString(\"base64\")}),s=\"/bot/{botName}/alias/{botAlias}/user/{userId}/content\",void 0===t.botName)throw new Error(\"No value provided for input HTTP label: botName.\");if((c=t.botName).length<=0)throw new Error(\"Empty value provided for input HTTP label: botName.\");if(s=s.replace(\"{botName}\",Object(r.f)(c)),void 0===t.botAlias)throw new Error(\"No value provided for input HTTP label: botAlias.\");if((c=t.botAlias).length<=0)throw new Error(\"Empty value provided for input HTTP label: botAlias.\");if(s=s.replace(\"{botAlias}\",Object(r.f)(c)),void 0===t.userId)throw new Error(\"No value provided for input HTTP label: userId.\");if((c=t.userId).length<=0)throw new Error(\"Empty value provided for input HTTP label: userId.\");return s=s.replace(\"{userId}\",Object(r.f)(c)),void 0!==t.inputStream&&(u=t.inputStream),[4,n.endpoint()];case 1:return l=v.sent(),d=l.hostname,m=l.protocol,p=void 0===m?\"https\":m,f=l.port,[2,new o.a({protocol:p,hostname:d,port:f,method:\"POST\",headers:a,path:s,body:u})]}}))}))},s=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var n,a,s,c,u,l,d,m,p;return Object(i.d)(this,(function(f){switch(f.label){case 0:if(n={\"content-type\":\"application/json\"},a=\"/bot/{botName}/alias/{botAlias}/user/{userId}/text\",void 0===e.botName)throw new Error(\"No value provided for input HTTP label: botName.\");if((s=e.botName).length<=0)throw new Error(\"Empty value provided for input HTTP label: botName.\");if(a=a.replace(\"{botName}\",Object(r.f)(s)),void 0===e.botAlias)throw new Error(\"No value provided for input HTTP label: botAlias.\");if((s=e.botAlias).length<=0)throw new Error(\"Empty value provided for input HTTP label: botAlias.\");if(a=a.replace(\"{botAlias}\",Object(r.f)(s)),void 0===e.userId)throw new Error(\"No value provided for input HTTP label: userId.\");if((s=e.userId).length<=0)throw new Error(\"Empty value provided for input HTTP label: userId.\");return a=a.replace(\"{userId}\",Object(r.f)(s)),c=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},void 0!==e.activeContexts&&null!==e.activeContexts&&{activeContexts:j(e.activeContexts,t)}),void 0!==e.inputText&&null!==e.inputText&&{inputText:e.inputText}),void 0!==e.requestAttributes&&null!==e.requestAttributes&&{requestAttributes:T(e.requestAttributes,t)}),void 0!==e.sessionAttributes&&null!==e.sessionAttributes&&{sessionAttributes:T(e.sessionAttributes,t)})),[4,t.endpoint()];case 1:return u=f.sent(),l=u.hostname,d=u.protocol,m=void 0===d?\"https\":d,p=u.port,[2,new o.a({protocol:m,hostname:l,port:p,method:\"POST\",headers:n,path:a,body:c})]}}))}))},c=function(t,n){return Object(i.b)(void 0,void 0,void 0,(function(){var o,a;return Object(i.d)(this,(function(i){return 200!==t.statusCode&&t.statusCode>=300?[2,u(t,n)]:(o={$metadata:B(t),activeContexts:void 0,alternativeIntents:void 0,audioStream:void 0,botVersion:void 0,contentType:void 0,dialogState:void 0,inputTranscript:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},void 0!==t.headers[\"content-type\"]&&(o.contentType=t.headers[\"content-type\"]),void 0!==t.headers[\"x-amz-lex-intent-name\"]&&(o.intentName=t.headers[\"x-amz-lex-intent-name\"]),void 0!==t.headers[\"x-amz-lex-nlu-intent-confidence\"]&&(o.nluIntentConfidence=new r.c(e.from(t.headers[\"x-amz-lex-nlu-intent-confidence\"],\"base64\").toString(\"ascii\"))),void 0!==t.headers[\"x-amz-lex-alternative-intents\"]&&(o.alternativeIntents=new r.c(e.from(t.headers[\"x-amz-lex-alternative-intents\"],\"base64\").toString(\"ascii\"))),void 0!==t.headers[\"x-amz-lex-slots\"]&&(o.slots=new r.c(e.from(t.headers[\"x-amz-lex-slots\"],\"base64\").toString(\"ascii\"))),void 0!==t.headers[\"x-amz-lex-session-attributes\"]&&(o.sessionAttributes=new r.c(e.from(t.headers[\"x-amz-lex-session-attributes\"],\"base64\").toString(\"ascii\"))),void 0!==t.headers[\"x-amz-lex-sentiment\"]&&(o.sentimentResponse=t.headers[\"x-amz-lex-sentiment\"]),void 0!==t.headers[\"x-amz-lex-message\"]&&(o.message=t.headers[\"x-amz-lex-message\"]),void 0!==t.headers[\"x-amz-lex-message-format\"]&&(o.messageFormat=t.headers[\"x-amz-lex-message-format\"]),void 0!==t.headers[\"x-amz-lex-dialog-state\"]&&(o.dialogState=t.headers[\"x-amz-lex-dialog-state\"]),void 0!==t.headers[\"x-amz-lex-slot-to-elicit\"]&&(o.slotToElicit=t.headers[\"x-amz-lex-slot-to-elicit\"]),void 0!==t.headers[\"x-amz-lex-input-transcript\"]&&(o.inputTranscript=t.headers[\"x-amz-lex-input-transcript\"]),void 0!==t.headers[\"x-amz-lex-bot-version\"]&&(o.botVersion=t.headers[\"x-amz-lex-bot-version\"]),void 0!==t.headers[\"x-amz-lex-session-id\"]&&(o.sessionId=t.headers[\"x-amz-lex-session-id\"]),void 0!==t.headers[\"x-amz-lex-active-contexts\"]&&(o.activeContexts=new r.c(e.from(t.headers[\"x-amz-lex-active-contexts\"],\"base64\").toString(\"ascii\"))),a=t.body,o.audioStream=a,[2,Promise.resolve(o)])}))}))},u=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var n,o,r,a,s,c,u,l,d,S,j,E,T,C,L,I,A,k;return Object(i.d)(this,(function(N){switch(N.label){case 0:return o=[Object(i.a)({},e)],k={},[4,D(e.body,t)];case 1:switch(n=i.a.apply(void 0,o.concat([(k.body=N.sent(),k)])),a=\"UnknownError\",a=$(e,n.body),a){case\"BadGatewayException\":case\"com.amazonaws.lexruntimeservice#BadGatewayException\":return[3,2];case\"BadRequestException\":case\"com.amazonaws.lexruntimeservice#BadRequestException\":return[3,4];case\"ConflictException\":case\"com.amazonaws.lexruntimeservice#ConflictException\":return[3,6];case\"DependencyFailedException\":case\"com.amazonaws.lexruntimeservice#DependencyFailedException\":return[3,8];case\"InternalFailureException\":case\"com.amazonaws.lexruntimeservice#InternalFailureException\":return[3,10];case\"LimitExceededException\":case\"com.amazonaws.lexruntimeservice#LimitExceededException\":return[3,12];case\"LoopDetectedException\":case\"com.amazonaws.lexruntimeservice#LoopDetectedException\":return[3,14];case\"NotAcceptableException\":case\"com.amazonaws.lexruntimeservice#NotAcceptableException\":return[3,16];case\"NotFoundException\":case\"com.amazonaws.lexruntimeservice#NotFoundException\":return[3,18];case\"RequestTimeoutException\":case\"com.amazonaws.lexruntimeservice#RequestTimeoutException\":return[3,20];case\"UnsupportedMediaTypeException\":case\"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException\":return[3,22]}return[3,24];case 2:return s=[{}],[4,m(n,t)];case 3:return r=i.a.apply(void 0,[i.a.apply(void 0,s.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 4:return c=[{}],[4,p(n,t)];case 5:return r=i.a.apply(void 0,[i.a.apply(void 0,c.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 6:return u=[{}],[4,f(n,t)];case 7:return r=i.a.apply(void 0,[i.a.apply(void 0,u.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 8:return l=[{}],[4,v(n,t)];case 9:return r=i.a.apply(void 0,[i.a.apply(void 0,l.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 10:return d=[{}],[4,b(n,t)];case 11:return r=i.a.apply(void 0,[i.a.apply(void 0,d.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 12:return S=[{}],[4,h(n,t)];case 13:return r=i.a.apply(void 0,[i.a.apply(void 0,S.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 14:return j=[{}],[4,g(n,t)];case 15:return r=i.a.apply(void 0,[i.a.apply(void 0,j.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 16:return E=[{}],[4,y(n,t)];case 17:return r=i.a.apply(void 0,[i.a.apply(void 0,E.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 18:return T=[{}],[4,x(n,t)];case 19:return r=i.a.apply(void 0,[i.a.apply(void 0,T.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 20:return C=[{}],[4,w(n,t)];case 21:return r=i.a.apply(void 0,[i.a.apply(void 0,C.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 22:return L=[{}],[4,O(n,t)];case 23:return r=i.a.apply(void 0,[i.a.apply(void 0,L.concat([N.sent()])),{name:a,$metadata:B(e)}]),[3,25];case 24:I=n.body,a=I.code||I.Code||a,r=Object(i.a)(Object(i.a)({},I),{name:\"\"+a,message:I.message||I.Message||a,$fault:\"client\",$metadata:B(e)}),N.label=25;case 25:return A=r.message||r.Message||a,r.message=A,delete r.Message,[2,Promise.reject(Object.assign(new Error(A),r))]}}))}))},l=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var n,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,d(e,t)]:(n={$metadata:B(e),activeContexts:void 0,alternativeIntents:void 0,botVersion:void 0,dialogState:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,responseCard:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},[4,D(e.body,t)]);case 1:return void 0!==(o=i.sent()).activeContexts&&null!==o.activeContexts&&(n.activeContexts=L(o.activeContexts,t)),void 0!==o.alternativeIntents&&null!==o.alternativeIntents&&(n.alternativeIntents=N(o.alternativeIntents,t)),void 0!==o.botVersion&&null!==o.botVersion&&(n.botVersion=o.botVersion),void 0!==o.dialogState&&null!==o.dialogState&&(n.dialogState=o.dialogState),void 0!==o.intentName&&null!==o.intentName&&(n.intentName=o.intentName),void 0!==o.message&&null!==o.message&&(n.message=o.message),void 0!==o.messageFormat&&null!==o.messageFormat&&(n.messageFormat=o.messageFormat),void 0!==o.nluIntentConfidence&&null!==o.nluIntentConfidence&&(n.nluIntentConfidence=k(o.nluIntentConfidence,t)),void 0!==o.responseCard&&null!==o.responseCard&&(n.responseCard=P(o.responseCard,t)),void 0!==o.sentimentResponse&&null!==o.sentimentResponse&&(n.sentimentResponse=R(o.sentimentResponse,t)),void 0!==o.sessionAttributes&&null!==o.sessionAttributes&&(n.sessionAttributes=F(o.sessionAttributes,t)),void 0!==o.sessionId&&null!==o.sessionId&&(n.sessionId=o.sessionId),void 0!==o.slotToElicit&&null!==o.slotToElicit&&(n.slotToElicit=o.slotToElicit),void 0!==o.slots&&null!==o.slots&&(n.slots=F(o.slots,t)),[2,Promise.resolve(n)]}}))}))},d=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var n,o,r,a,s,c,u,l,d,y,w,O,S,j,E;return Object(i.d)(this,(function(T){switch(T.label){case 0:return o=[Object(i.a)({},e)],E={},[4,D(e.body,t)];case 1:switch(n=i.a.apply(void 0,o.concat([(E.body=T.sent(),E)])),a=\"UnknownError\",a=$(e,n.body),a){case\"BadGatewayException\":case\"com.amazonaws.lexruntimeservice#BadGatewayException\":return[3,2];case\"BadRequestException\":case\"com.amazonaws.lexruntimeservice#BadRequestException\":return[3,4];case\"ConflictException\":case\"com.amazonaws.lexruntimeservice#ConflictException\":return[3,6];case\"DependencyFailedException\":case\"com.amazonaws.lexruntimeservice#DependencyFailedException\":return[3,8];case\"InternalFailureException\":case\"com.amazonaws.lexruntimeservice#InternalFailureException\":return[3,10];case\"LimitExceededException\":case\"com.amazonaws.lexruntimeservice#LimitExceededException\":return[3,12];case\"LoopDetectedException\":case\"com.amazonaws.lexruntimeservice#LoopDetectedException\":return[3,14];case\"NotFoundException\":case\"com.amazonaws.lexruntimeservice#NotFoundException\":return[3,16]}return[3,18];case 2:return s=[{}],[4,m(n,t)];case 3:return r=i.a.apply(void 0,[i.a.apply(void 0,s.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 4:return c=[{}],[4,p(n,t)];case 5:return r=i.a.apply(void 0,[i.a.apply(void 0,c.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 6:return u=[{}],[4,f(n,t)];case 7:return r=i.a.apply(void 0,[i.a.apply(void 0,u.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 8:return l=[{}],[4,v(n,t)];case 9:return r=i.a.apply(void 0,[i.a.apply(void 0,l.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 10:return d=[{}],[4,b(n,t)];case 11:return r=i.a.apply(void 0,[i.a.apply(void 0,d.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 12:return y=[{}],[4,h(n,t)];case 13:return r=i.a.apply(void 0,[i.a.apply(void 0,y.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 14:return w=[{}],[4,g(n,t)];case 15:return r=i.a.apply(void 0,[i.a.apply(void 0,w.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 16:return O=[{}],[4,x(n,t)];case 17:return r=i.a.apply(void 0,[i.a.apply(void 0,O.concat([T.sent()])),{name:a,$metadata:B(e)}]),[3,19];case 18:S=n.body,a=S.code||S.Code||a,r=Object(i.a)(Object(i.a)({},S),{name:\"\"+a,message:S.message||S.Message||a,$fault:\"client\",$metadata:B(e)}),T.label=19;case 19:return j=r.message||r.Message||a,r.message=j,delete r.Message,[2,Promise.reject(Object.assign(new Error(j),r))]}}))}))},m=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"BadGatewayException\",$fault:\"server\",$metadata:B(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},p=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"BadRequestException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},f=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"ConflictException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},v=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"DependencyFailedException\",$fault:\"client\",$metadata:B(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},b=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"InternalFailureException\",$fault:\"server\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},h=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"LimitExceededException\",$fault:\"client\",$metadata:B(e),message:void 0,retryAfterSeconds:void 0},void 0!==e.headers[\"retry-after\"]&&(t.retryAfterSeconds=e.headers[\"retry-after\"]),void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},g=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"LoopDetectedException\",$fault:\"server\",$metadata:B(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},y=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"NotAcceptableException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},x=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"NotFoundException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},w=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"RequestTimeoutException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},O=function(e,t){return Object(i.b)(void 0,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(i){return t={name:\"UnsupportedMediaTypeException\",$fault:\"client\",$metadata:B(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},S=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(i.e)(t,2),r=o[0],a=o[1];return null===a?e:Object(i.a)(Object(i.a)({},e),((n={})[r]=a,n))}),{})},j=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)({},void 0!==e.name&&null!==e.name&&{name:e.name}),void 0!==e.parameters&&null!==e.parameters&&{parameters:S(e.parameters,t)}),void 0!==e.timeToLive&&null!==e.timeToLive&&{timeToLive:E(e.timeToLive,t)})}(e,t)}))},E=function(e,t){return Object(i.a)(Object(i.a)({},void 0!==e.timeToLiveInSeconds&&null!==e.timeToLiveInSeconds&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),void 0!==e.turnsToLive&&null!==e.turnsToLive&&{turnsToLive:e.turnsToLive})},T=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(i.e)(t,2),r=o[0],a=o[1];return null===a?e:Object(i.a)(Object(i.a)({},e),((n={})[r]=a,n))}),{})},C=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(i.e)(t,2),r=o[0],a=o[1];return null===a?e:Object(i.a)(Object(i.a)({},e),((n={})[r]=a,n))}),{})},L=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:void 0!==e.name&&null!==e.name?e.name:void 0,parameters:void 0!==e.parameters&&null!==e.parameters?C(e.parameters,t):void 0,timeToLive:void 0!==e.timeToLive&&null!==e.timeToLive?I(e.timeToLive,t):void 0}}(e,t)}))},I=function(e,t){return{timeToLiveInSeconds:void 0!==e.timeToLiveInSeconds&&null!==e.timeToLiveInSeconds?e.timeToLiveInSeconds:void 0,turnsToLive:void 0!==e.turnsToLive&&null!==e.turnsToLive?e.turnsToLive:void 0}},A=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{attachmentLinkUrl:void 0!==e.attachmentLinkUrl&&null!==e.attachmentLinkUrl?e.attachmentLinkUrl:void 0,buttons:void 0!==e.buttons&&null!==e.buttons?z(e.buttons,t):void 0,imageUrl:void 0!==e.imageUrl&&null!==e.imageUrl?e.imageUrl:void 0,subTitle:void 0!==e.subTitle&&null!==e.subTitle?e.subTitle:void 0,title:void 0!==e.title&&null!==e.title?e.title:void 0}}(e,t)}))},k=function(e,t){return{score:void 0!==e.score&&null!==e.score?e.score:void 0}},N=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:_(e,t)}))},z=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{text:void 0!==e.text&&null!==e.text?e.text:void 0,value:void 0!==e.value&&null!==e.value?e.value:void 0}}(e)}))},_=function(e,t){return{intentName:void 0!==e.intentName&&null!==e.intentName?e.intentName:void 0,nluIntentConfidence:void 0!==e.nluIntentConfidence&&null!==e.nluIntentConfidence?k(e.nluIntentConfidence,t):void 0,slots:void 0!==e.slots&&null!==e.slots?F(e.slots,t):void 0}},P=function(e,t){return{contentType:void 0!==e.contentType&&null!==e.contentType?e.contentType:void 0,genericAttachments:void 0!==e.genericAttachments&&null!==e.genericAttachments?A(e.genericAttachments,t):void 0,version:void 0!==e.version&&null!==e.version?e.version:void 0}},R=function(e,t){return{sentimentLabel:void 0!==e.sentimentLabel&&null!==e.sentimentLabel?e.sentimentLabel:void 0,sentimentScore:void 0!==e.sentimentScore&&null!==e.sentimentScore?e.sentimentScore:void 0}},F=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(i.e)(t,2),r=o[0],a=o[1];return null===a?e:Object(i.a)(Object(i.a)({},e),((n={})[r]=a,n))}),{})},B=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers[\"x-amzn-requestid\"])&&void 0!==t?t:e.headers[\"x-amzn-request-id\"],extendedRequestId:e.headers[\"x-amz-id-2\"],cfId:e.headers[\"x-amz-cf-id\"]}},M=function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},U=function(e){return void 0!==e&&null!==e&&\"\"!==e&&(!Object.getOwnPropertyNames(e).includes(\"length\")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes(\"size\")||0!=e.size)},D=function(e,t){return M(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},$=function(e,t){var n,i,o=function(e){var t=e;return t.indexOf(\":\")>=0&&(t=t.split(\":\")[0]),t.indexOf(\"#\")>=0&&(t=t.split(\"#\")[1]),t},r=(n=e.headers,i=\"x-amzn-errortype\",Object.keys(n).find((function(e){return e.toLowerCase()===i.toLowerCase()})));return void 0!==r?o(e.headers[r]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):\"\"}}).call(this,n(7).Buffer)},657:function(e){e.exports=JSON.parse('{\"name\":\"@aws-sdk/client-lex-runtime-service\",\"description\":\"AWS SDK for JavaScript Lex Runtime Service Client for Node.js, Browser and React Native\",\"version\":\"3.6.1\",\"scripts\":{\"clean\":\"yarn remove-definitions && yarn remove-dist && yarn remove-documentation\",\"build-documentation\":\"yarn remove-documentation && typedoc ./\",\"prepublishOnly\":\"yarn build\",\"pretest\":\"yarn build:cjs\",\"remove-definitions\":\"rimraf ./types\",\"remove-dist\":\"rimraf ./dist\",\"remove-documentation\":\"rimraf ./docs\",\"test:unit\":\"mocha **/cjs/**/*.spec.js\",\"test\":\"yarn test:unit\",\"build:cjs\":\"tsc -p tsconfig.json\",\"build:es\":\"tsc -p tsconfig.es.json\",\"build\":\"yarn build:cjs && yarn build:es\",\"postbuild\":\"downlevel-dts types types/ts3.4\"},\"main\":\"./dist/cjs/index.js\",\"types\":\"./types/index.d.ts\",\"module\":\"./dist/es/index.js\",\"browser\":{\"./runtimeConfig\":\"./runtimeConfig.browser\"},\"react-native\":{\"./runtimeConfig\":\"./runtimeConfig.native\"},\"sideEffects\":false,\"dependencies\":{\"@aws-crypto/sha256-browser\":\"^1.0.0\",\"@aws-crypto/sha256-js\":\"^1.0.0\",\"@aws-sdk/config-resolver\":\"3.6.1\",\"@aws-sdk/credential-provider-node\":\"3.6.1\",\"@aws-sdk/fetch-http-handler\":\"3.6.1\",\"@aws-sdk/hash-node\":\"3.6.1\",\"@aws-sdk/invalid-dependency\":\"3.6.1\",\"@aws-sdk/middleware-content-length\":\"3.6.1\",\"@aws-sdk/middleware-host-header\":\"3.6.1\",\"@aws-sdk/middleware-logger\":\"3.6.1\",\"@aws-sdk/middleware-retry\":\"3.6.1\",\"@aws-sdk/middleware-serde\":\"3.6.1\",\"@aws-sdk/middleware-signing\":\"3.6.1\",\"@aws-sdk/middleware-stack\":\"3.6.1\",\"@aws-sdk/middleware-user-agent\":\"3.6.1\",\"@aws-sdk/node-config-provider\":\"3.6.1\",\"@aws-sdk/node-http-handler\":\"3.6.1\",\"@aws-sdk/protocol-http\":\"3.6.1\",\"@aws-sdk/smithy-client\":\"3.6.1\",\"@aws-sdk/types\":\"3.6.1\",\"@aws-sdk/url-parser\":\"3.6.1\",\"@aws-sdk/url-parser-native\":\"3.6.1\",\"@aws-sdk/util-base64-browser\":\"3.6.1\",\"@aws-sdk/util-base64-node\":\"3.6.1\",\"@aws-sdk/util-body-length-browser\":\"3.6.1\",\"@aws-sdk/util-body-length-node\":\"3.6.1\",\"@aws-sdk/util-user-agent-browser\":\"3.6.1\",\"@aws-sdk/util-user-agent-node\":\"3.6.1\",\"@aws-sdk/util-utf8-browser\":\"3.6.1\",\"@aws-sdk/util-utf8-node\":\"3.6.1\",\"tslib\":\"^2.0.0\"},\"devDependencies\":{\"@aws-sdk/client-documentation-generator\":\"3.6.1\",\"@types/chai\":\"^4.2.11\",\"@types/mocha\":\"^8.0.4\",\"@types/node\":\"^12.7.5\",\"downlevel-dts\":\"0.7.0\",\"jest\":\"^26.1.0\",\"rimraf\":\"^3.0.0\",\"typedoc\":\"^0.19.2\",\"typescript\":\"~4.1.2\"},\"engines\":{\"node\":\">=10.0.0\"},\"typesVersions\":{\"<4.0\":{\"types/*\":[\"types/ts3.4/*\"]}},\"author\":{\"name\":\"AWS SDK for JavaScript Team\",\"url\":\"https://aws.amazon.com/javascript/\"},\"license\":\"Apache-2.0\",\"homepage\":\"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-lex-runtime-service\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/aws/aws-sdk-js-v3.git\",\"directory\":\"clients/client-lex-runtime-service\"}}')}}]);","name":"static/js/4.57bbb6b2.chunk.js","map":{"version":3,"sources":["static/js/4.57bbb6b2.chunk.js"],"names":["this","push","601","module","__webpack_exports__","__webpack_require__","r","d","AmplifyChatbot","ChatState","MessageFrom","ChatErrorType","_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__","_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_5__","_aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","__spreadArrays","s","i","il","arguments","Array","k","a","j","jl","writeString","view","offset","string","setUint8","charCodeAt","encodeWAV","samples","exportSampleRate","audioSize","dataSize","buffer","ArrayBuffer","DataView","setUint32","fmtSize","setUint16","output","input","byteOffset","Math","max","min","setInt16","floatTo16BitPCM","exportBuffer","recBuffer","recLength","recordSampleRate","downsampledBuffer","sampleRateRatio","newLength","round","Float32Array","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","downsampleBuffer","bufferArray","set","mergeBuffers","encodedWav","Blob","type","logger","AudioRecorder","options","streamBuffer","streamBufferLength","recording","prototype","init","_this","_a","Object","isBrowser","window","AudioContext","webkitAudioContext","audioContext","navigator","mediaDevices","getUserMedia","audio","stream","audioSupported","setupAudioNodes","catch","err_1","sourceNode","processorNode","analyserNode","resume","error","createMediaStreamSource","createScriptProcessor","onaudioprocess","audioProcessingEvent","inputBuffer","getChannelData","analyse","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","connect","context","destination","startRecording","onSilence","visualizer","err_2","start","Date","now","stopRecording","clear","play","myBlob","res","rej","fileReader","FileReader","onload","playbackSource","disconnect","createBufferSource","decodeAudioData","buf","onended","err","onerror","readAsArrayBuffer","stop","analyser","fftSize","bufferLength","dataArray","Uint8Array","amplitude","time","getByteTimeDomainData","curr_value_time","exportWAV","blob","sampleRate","class_1","hostRef","clearOnComplete","conversationModeOn","botTitle","CHATBOT_TITLE","voiceEnabled","textEnabled","silenceTime","silenceThreshold","messages","text","chatState","Initial","messageJSX","messageList","map","message","class","from","content","SendingText","SendingVoice","client","Bot","User","chatCompleted","submitHandler","_event","sendTextMessage","componentWillLoad","onComplete","Error","validateProps","componentDidRender","element","shadowRoot","querySelector","scrollTop","scrollHeight","botName","welcomeMessage","appendToChat","audioRecorder","setError","Recoverable","data","emit","reset","Unrecoverable","NO_BOT_NAME_ERROR","CHAT_DISABLED_ERROR","handleMicButton","Listening","handleSilence","sendVoiceMessage","handleTextChange","event","target","handleCancelButton","handleToastClose","errorType","undefined","canvas","getBoundingClientRect","width","height","canvasCtx","getContext","fillStyle","clearRect","requestAnimationFrame","fillRect","lineWidth","color","getComputedStyle","document","documentElement","getPropertyValue","strokeStyle","beginPath","sliceWidth","x","moveTo","lineTo","stroke","visualize","response","err_3","send","audioInput","interactionsMessage","err_4","dialogState","messageType","inputTranscript","audioStream","listeningFooterJSX","data-test","handleButtonClick","variant","icon","footerJSX","inputPlaceholder","TEXT_INPUT_PLACEHOLDER","VOICE_INPUT_PLACEHOLDER","placeholder","get","description","handleInputChange","evt","disabled","errorToast","handleClose","render","name","defineProperty","enumerable","configurable","style","625","Interactions","models_0_ActiveContextTimeToLive","models_0_ActiveContext","models_0_BadRequestException","models_0_ConflictException","models_0_DeleteSessionRequest","models_0_DeleteSessionResponse","models_0_InternalFailureException","models_0_LimitExceededException","models_0_NotFoundException","models_0_GetSessionRequest","FulfillmentState","MessageFormatType","DialogActionType","models_0_DialogAction","ConfirmationStatus","models_0_IntentSummary","models_0_GetSessionResponse","models_0_BadGatewayException","models_0_DependencyFailedException","models_0_LoopDetectedException","models_0_NotAcceptableException","models_0_PostContentRequest","DialogState","models_0_PostContentResponse","models_0_RequestTimeoutException","models_0_UnsupportedMediaTypeException","models_0_PostTextRequest","models_0_IntentConfidence","models_0_PredictedIntent","ContentType","models_0_Button","models_0_GenericAttachment","models_0_ResponseCard","models_0_SentimentResponse","models_0_PostTextResponse","models_0_PutSessionRequest","models_0_PutSessionResponse","ConsoleLogger","Amplify","__assign","assign","p","hasOwnProperty","InteractionsProvider_logger","AbstractInteractionsProvider","_config","configure","config","debug","getProviderName","getCategory","tslib_es6","es_package","build","es","dist_es","middleware_retry_dist_es","util_base64_browser_dist_es","util_body_length_browser_dist_es","util_user_agent_browser_dist_es","util_utf8_browser_dist_es","AWS_TEMPLATE","AWS_REGIONS","Set","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","ClientSharedValues","apiVersion","disableHostPrefix","regionInfoProvider","region","regionInfo","hostname","partition","signingService","has","replace","serviceId","urlParser","ClientDefaultValues","runtime","base64Decoder","base64Encoder","bodyLengthChecker","credentialDefaultProvider","defaultUserAgentProvider","clientVersion","version","maxAttempts","requestHandler","sha256","streamCollector","utf8Decoder","utf8Encoder","config_resolver_dist_es","middleware_content_length_dist_es","middleware_host_header_dist_es","middleware_logger_dist_es","middleware_signing_dist_es","middleware_user_agent_dist_es","smithy_client_dist_es","LexRuntimeServiceClient_LexRuntimeServiceClient","_super","LexRuntimeServiceClient","configuration","_config_0","_config_1","_config_2","_config_3","_config_4","_config_5","_config_6","middlewareStack","use","destroy","filterSensitiveLog","obj","parameters","slots","recentIntentSummaryView","item","sessionAttributes","dialogAction","activeContexts","requestAttributes","inputText","alternativeIntents","Aws_restJson1","middleware_serde_dist_es","PostTextCommand_PostTextCommand","PostTextCommand","resolveMiddleware","clientStack","serialize","deserialize","stack","concat","handlerExecutionContext","clientName","commandName","inputFilterSensitiveLog","outputFilterSensitiveLog","request","handle","PostContentCommand_PostContentCommand","PostContentCommand","Credentials","Platform","convert","ReadableStream","Response","arrayBuffer","__extends","_extendStatics","b","setPrototypeOf","__proto__","__","constructor","create","AWSLexProvider_assign","AWSLexProvider_logger","AWSLexProvider_AWSLexProvider","AWSLexProvider","_botsCompleteCallback","reportBotStatus","botname","setTimeout","sendMessage","credentials","params","postTextCommand","postContentCommand","audioArray","lexRuntimeServiceClient","customUserAgent","botAlias","alias","userId","identityId","contentType","inputStream","accept","callback","ErrorEvent","Interactions_assign","Interactions_awaiter","Interactions_generator","Interactions_logger","InteractionsClass","_options","_pluggables","getModuleName","opt","bots","aws_bots_config","bots_config","keys","isArray","forEach","bot","key","find","providerName","addPluggable","pluggable","botProvider","register","656","Buffer","serializeAws_restJson1PostContentCommand","serializeAws_restJson1PostTextCommand","deserializeAws_restJson1PostContentCommand","deserializeAws_restJson1PostTextCommand","tslib__WEBPACK_IMPORTED_MODULE_0__","_aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__","_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__","headers","resolvedPath","labelValue","_b","protocol","port","_c","content-type","x-amz-content-sha256","isSerializableHeaderValue","x-amz-lex-session-attributes","fromObject","toString","x-amz-lex-request-attributes","x-amz-lex-active-contexts","endpoint","method","path","JSON","stringify","serializeAws_restJson1ActiveContextsList","serializeAws_restJson1StringMap","contents","statusCode","deserializeAws_restJson1PostContentCommandError","$metadata","deserializeMetadata","botVersion","intentName","messageFormat","nluIntentConfidence","sentimentResponse","sessionId","slotToElicit","parsedOutput","errorCode","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","parsedBody","_p","_q","parseBody","loadRestJsonErrorCode","deserializeAws_restJson1BadGatewayExceptionResponse","deserializeAws_restJson1BadRequestExceptionResponse","deserializeAws_restJson1ConflictExceptionResponse","deserializeAws_restJson1DependencyFailedExceptionResponse","deserializeAws_restJson1InternalFailureExceptionResponse","deserializeAws_restJson1LimitExceededExceptionResponse","deserializeAws_restJson1LoopDetectedExceptionResponse","deserializeAws_restJson1NotAcceptableExceptionResponse","deserializeAws_restJson1NotFoundExceptionResponse","deserializeAws_restJson1RequestTimeoutExceptionResponse","deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse","code","Code","Message","$fault","deserializeAws_restJson1PostTextCommandError","responseCard","deserializeAws_restJson1ActiveContextsList","deserializeAws_restJson1IntentList","deserializeAws_restJson1IntentConfidence","deserializeAws_restJson1ResponseCard","deserializeAws_restJson1SentimentResponse","deserializeAws_restJson1StringMap","retryAfterSeconds","serializeAws_restJson1ActiveContextParametersMap","entries","reduce","acc","filter","entry","timeToLive","serializeAws_restJson1ActiveContextTimeToLive","serializeAws_restJson1ActiveContext","timeToLiveInSeconds","turnsToLive","deserializeAws_restJson1ActiveContextParametersMap","deserializeAws_restJson1ActiveContextTimeToLive","deserializeAws_restJson1ActiveContext","deserializeAws_restJson1genericAttachmentList","attachmentLinkUrl","buttons","deserializeAws_restJson1listOfButtons","imageUrl","subTitle","title","deserializeAws_restJson1GenericAttachment","score","deserializeAws_restJson1PredictedIntent","deserializeAws_restJson1Button","genericAttachments","sentimentLabel","sentimentScore","httpStatusCode","requestId","extendedRequestId","cfId","collectBodyString","streamBody","collectBody","getOwnPropertyNames","includes","size","encoded","parse","object","sanitizeErrorCode","rawValue","cleanValue","indexOf","split","headerKey","toLowerCase","657","exports"],"mappings":"CAACA,KAAK,+BAAiCA,KAAK,gCAAkC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEtFC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,mBAAmB,WAAa,OAAOI,KAC5F,IA6rBjBC,EAWAC,EAQAC,EAhtBqBC,EAAkDP,EAAoB,IACtEQ,EAAiDR,EAAoB,IACrES,EAAiDT,EAAoB,IACrEU,EAAiDV,EAAoB,GACrEW,EAAyDX,EAAoB,GAC7EY,EAAsDZ,EAAoB,IAC1Ea,EAAyDb,EAAoB,KAClGc,EAAgD,SAAUC,EAASC,EAAYC,EAAGC,GAOpF,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9DO,EAAoD,SAAUjB,EAASkB,GACzE,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACXC,MAASD,EAAK,GACdE,OAAUF,EAAK,IACI,oBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WACvD,OAAOpD,OACL0C,EAEJ,SAASM,EAAKK,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAE3B,KAAOb,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARc,EAAG,GAASf,EAAU,OAAIe,EAAG,GAAKf,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEgB,KAAKjB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QAEzB2B,EAAG,IACT,KAAK,EACL,KAAK,EACHd,EAAIc,EACJ,MAEF,KAAK,EAEH,OADAZ,EAAEC,QACK,CACLhB,MAAO2B,EAAG,GACVrB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIe,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKZ,EAAEI,IAAIW,MAEXf,EAAEG,KAAKY,MAEP,SAEF,QACE,KAAkBjB,GAAZA,EAAIE,EAAEG,MAAYa,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFZ,EAAI,EACJ,SAGF,GAAc,IAAVY,EAAG,MAAcd,GAAKc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAK,CACvDE,EAAEC,MAAQW,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIc,EACJ,MAGF,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAI9C,KAAKsD,GAEX,MAGEd,EAAE,IAAIE,EAAEI,IAAIW,MAEhBf,EAAEG,KAAKY,MAEP,SAGJH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GACxB,MAAOZ,GACPwB,EAAK,CAAC,EAAGxB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EACvBrB,MAAM,GAlFCL,CAAK,CAACwB,EAAGC,OAuFlBM,EAA0D,WAC5D,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUL,OAAQG,EAAIC,EAAID,IACpDD,GAAKG,UAAUF,GAAGH,OAGf,IAAIrD,EAAI2D,MAAMJ,GAAIK,EAAI,EAA3B,IAA8BJ,EAAI,EAAGA,EAAIC,EAAID,IAC3C,IAAK,IAAIK,EAAIH,UAAUF,GAAIM,EAAI,EAAGC,EAAKF,EAAER,OAAQS,EAAIC,EAAID,IAAKF,IAC5D5D,EAAE4D,GAAKC,EAAEC,GAIb,OAAO9D,GAsFLgE,EAAc,SAAqBC,EAAMC,EAAQC,GACnD,IAAK,IAAIX,EAAI,EAAGA,EAAIW,EAAOd,OAAQG,IACjCS,EAAKG,SAASF,EAASV,EAAGW,EAAOE,WAAWb,KAQ5Cc,EAAY,SAAmBC,EAASC,GAI1C,IAAIC,EAA6B,EAAjBF,EAAQlB,OAIpBqB,EAAW,EAAID,EAKfE,EAAS,IAAIC,YAHG,GAAeF,GAK/BT,EAAO,IAAIY,SAASF,GAoCxB,OA9BAX,EAAYC,EAAM,EAAG,QAErBA,EAAKa,UAAU,EAjBD,GAiBcJ,GAAU,GAEtCV,EAAYC,EAAM,EAAG,QAGrBD,EAAYC,EAAM,GAAI,QAEtBA,EAAKa,UAAU,GAAIC,IAAa,GAEhCd,EAAKe,UAAU,GAAI,GAAG,GAEtBf,EAAKe,UAAU,GAAI,GAAG,GAEtBf,EAAKa,UAAU,GAAIN,GAAkB,GAErCP,EAAKa,UAAU,GAAuB,EAAnBN,GAAsB,GAEzCP,EAAKe,UAAU,GAAI,GAAG,GAEtBf,EAAKe,UAAU,GAAI,IAAI,GAGvBhB,EAAYC,EAAM,GAAI,QAEtBA,EAAKa,UAAU,GAAIL,GAAW,GAtEV,SAAyBQ,EAAQf,EAAQgB,GAG7D,IAFA,IAAIC,EAAajB,EAERV,EAAI,EAAGA,EAAI0B,EAAM7B,OAAQG,IAAK2B,GAAc,EAAG,CACtD,IAAI5B,EAAI6B,KAAKC,KAAK,EAAGD,KAAKE,IAAI,EAAGJ,EAAM1B,KACvCyB,EAAOM,SAASJ,EAAY5B,EAAI,EAAQ,MAAJA,EAAiB,MAAJA,GAAY,IAmE/DiC,CAAgBvB,EAAM,GAAIM,GAEnBN,GAYLwB,EAAe,SAAsBC,EAAWC,EAAWC,EAAkBpB,GAC/E,IACIqB,EAzHiB,SAA0BlB,EAAQiB,EAAkBpB,GACzE,GAAIA,IAAqBoB,EACvB,OAAOjB,EAST,IANA,IAAImB,EAAkBF,EAAmBpB,EACrCuB,EAAYX,KAAKY,MAAMrB,EAAOtB,OAASyC,GACvCnE,EAAS,IAAIsE,aAAaF,GAC1BG,EAAe,EACfC,EAAe,EAEZD,EAAevE,EAAO0B,QAAQ,CAKnC,IAJA,IAAI+C,EAAmBhB,KAAKY,OAAOE,EAAe,GAAKJ,GACnDO,EAAQ,EACRC,EAAQ,EAEH9C,EAAI2C,EAAc3C,EAAI4C,GAAoB5C,EAAImB,EAAOtB,OAAQG,IACpE6C,GAAS1B,EAAOnB,GAChB8C,IAGF3E,EAAOuE,GAAgBG,EAAQC,EAC/BJ,IACAC,EAAeC,EAGjB,OAAOzE,EA+FiB4E,CAzIP,SAAsBC,EAAab,GAIpD,IAHA,IAAIhE,EAAS,IAAIsE,aAAaN,GAC1BzB,EAAS,EAEJV,EAAI,EAAGA,EAAIgD,EAAYnD,OAAQG,IACtC7B,EAAO8E,IAAID,EAAYhD,GAAIU,GAC3BA,GAAUsC,EAAYhD,GAAGH,OAG3B,OAAO1B,EA+Ha+E,CAAahB,EAAWC,GACYC,EAAkBpB,GACtEmC,EAAarC,EAAUuB,EAAmBrB,GAI9C,OAHgB,IAAIoC,KAAK,CAACD,GAAa,CACrCE,KA1J4B,8BA+J5BC,EAAS,IAAIvG,EAAsE,EAAE,iBAErFwG,EAEJ,WACE,SAASA,EAAcC,GAErBtH,KAAKuH,aAAe,GACpBvH,KAAKwH,mBAAqB,EAC1BxH,KAAKyH,WAAY,EACjBzH,KAAKsH,QAAUA,EAsTjB,OA9SAD,EAAcK,UAAUC,KAAO,WAC7B,OAAOxG,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAI4H,EAAQ5H,KAEZ,OAAOqC,EAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EACH,OAAKkF,OAAOhH,EAAsE,EAA7EgH,GAAkFC,WAGvFC,OAAOC,aAAeD,OAAOC,cAAgBD,OAAOE,mBACpDlI,KAAKmI,aAAe,IAAIF,aACjB,CAAC,EAENG,UAAUC,aAAaC,aAAa,CACpCC,OAAO,IACNpG,MAAK,SAAUqG,GAChBZ,EAAMa,gBAAiB,EAEvBb,EAAMc,gBAAgBF,MACrBG,OAAM,WAEP,OADAf,EAAMa,gBAAiB,EAChBjH,QAAQE,OAAO,+BAfiF,CAAC,EAExG,GAgBJ,KAAK,EAGH,OAFAmG,EAAGhF,OAEI,CAAC,EAEN,GAEJ,KAAK,EAEH,OADA7C,KAAKyI,gBAAiB,EACf,CAAC,EAENjH,QAAQE,OAAO,2BAEnB,KAAK,EACH,MAAO,CAAC,WAYlB2F,EAAcK,UAAUgB,gBAAkB,SAAUF,GAClD,OAAOrH,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAI4I,EAAOC,EAAYC,EAAeC,EAElCnB,EAAQ5H,KAEZ,OAAOqC,EAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EAGH,OAFAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEND,KAAKmI,aAAaa,UAEtB,KAAK,EAGH,OAFAnB,EAAGhF,OAEI,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFA+F,EAAQf,EAAGhF,OACXuE,EAAO6B,MAAML,GACN,CAAC,EAEN,GAEJ,KAAK,EAwBH,OAvBAC,EAAa7I,KAAKmI,aAAae,wBAAwBV,IACvDM,EAAgB9I,KAAKmI,aAAagB,sBAAsB,KAAM,EAAG,IAEnDC,eAAiB,SAAUC,GACvC,GAAKzB,EAAMH,UAAX,CACA,IAAIe,EAASa,EAAqBC,YAAYC,eAAe,GAE7D3B,EAAML,aAAatH,KAAK,IAAIsG,aAAaiC,IAGzCZ,EAAMJ,oBAAsBgB,EAAO7E,OAEnCiE,EAAM4B,aAGRT,EAAe/I,KAAKmI,aAAasB,kBACpBC,aA5QF,GA6QXX,EAAaY,aA/QF,GAgRXZ,EAAaa,sBA5QS,IA6QtBf,EAAWgB,QAAQd,GACnBA,EAAac,QAAQf,GACrBA,EAAce,QAAQhB,EAAWiB,QAAQC,aACzC/J,KAAK+I,aAAeA,EACb,CAAC,WAelB1B,EAAcK,UAAUsC,eAAiB,SAAUC,EAAWC,GAC5D,OAAO/I,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAI8J,EAASK,EACb,OAAO9H,EAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EACH,GAAI5C,KAAKyH,YAAczH,KAAKyI,eAAgB,MAAO,CAAC,GAIpDzI,KAAKiK,UAAYA,GAAa,aAE9BjK,KAAKkK,WAAaA,GAAc,aAEhCJ,EAAU9J,KAAKmI,aACfN,EAAGjF,MAAQ,EAEb,KAAK,EAGH,OAFAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN6J,EAAQd,UAEZ,KAAK,EAGH,OAFAnB,EAAGhF,OAEI,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAsH,EAAQtC,EAAGhF,OACXuE,EAAO6B,MAAMkB,GACN,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAnK,KAAKoK,MAAQC,KAAKC,MAClBtK,KAAKyH,WAAY,EACV,CAAC,WAYlBJ,EAAcK,UAAU6C,cAAgB,WACjCvK,KAAKyI,iBACVzI,KAAKyH,WAAY,IAOnBJ,EAAcK,UAAU8C,MAAQ,WAC9BxK,KAAKuK,gBACLvK,KAAKwH,mBAAqB,EAC1BxH,KAAKuH,aAAe,IAStBF,EAAcK,UAAU+C,KAAO,SAAUxF,GACvC,IAAI2C,EAAQ5H,KAEZ,GAAKiF,GAAWjF,KAAKyI,eAArB,CACA,IAAIiC,EAAS,IAAIxD,KAAK,CAACjC,IACvB,OAAO,IAAIzD,SAAQ,SAAUmJ,EAAKC,GAChC,IAAIC,EAAa,IAAIC,WAErBD,EAAWE,OAAS,WACdnD,EAAMoD,gBAAgBpD,EAAMoD,eAAeC,aAE/CrD,EAAMoD,eAAiBpD,EAAMO,aAAa+C,qBAkB1CtD,EAAMO,aAAagD,gBAAgBN,EAAW5I,QAhBxB,SAAyBmJ,GAC7CxD,EAAMoD,eAAe/F,OAASmG,EAE9BxD,EAAMoD,eAAenB,QAAQjC,EAAMO,aAAa4B,aAEhDnC,EAAMoD,eAAeK,QAAU,WAC7B,OAAOV,KAGT/C,EAAMoD,eAAeZ,MAAM,MAGT,SAAuBkB,GACzC,OAAOV,EAAIU,OAMfT,EAAWU,QAAU,WACnB,OAAOX,KAGTC,EAAWW,kBAAkBd,QAQjCrD,EAAcK,UAAU+D,KAAO,WACzBzL,KAAKgL,gBACPhL,KAAKgL,eAAeS,QAQxBpE,EAAcK,UAAU8B,QAAU,WAChC,GAAKxJ,KAAKyI,eAAV,CACA,IAAIiD,EAAW1L,KAAK+I,aACpB2C,EAASC,QAzaE,KA0aX,IAAIC,EAAeF,EAASC,QACxBE,EAAY,IAAIC,WAAWF,GAC3BG,EAAY/L,KAAKsH,QAAQyE,UACzBC,EAAOhM,KAAKsH,QAAQ0E,KACxBN,EAASO,sBAAsBJ,GAC/B7L,KAAKkK,WAAW2B,EAAWD,GAE3B,IAAK,IAAI9H,EAAI,EAAGA,EAAI8H,EAAc9H,IAAK,CAErC,IAAIoI,EAAkBL,EAAU/H,GAAK,IAAM,GAEvCoI,EAAkBH,GAAaG,GAAmB,EAAIH,KACxD/L,KAAKoK,MAAQC,KAAKC,OAIRD,KAAKC,MACStK,KAAKoK,MAEf4B,GAChBhM,KAAKiK,cAUT5C,EAAcK,UAAUyE,UAAY,SAAUrH,GAK5C,YAJyB,IAArBA,IACFA,EA3c2B,MA8ctB3D,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAIkG,EAAkBkG,EACtB,OAAO/J,EAAYrC,MAAM,SAAU6H,GACjC,OAAK7H,KAAKyI,gBAGVvC,EAAmBlG,KAAKmI,aAAakE,WACrCD,EAAOrG,EAAa/F,KAAKuH,aAAcvH,KAAKwH,mBAAoBtB,EAAkBpB,GAClF9E,KAAKwK,QACE,CAAC,EAEN4B,IAR+B,CAAC,UAajC/E,EA5TT,IAiXA,SAAW5G,GACTA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAqB,UAAI,GAAK,YACxCA,EAAUA,EAAuB,YAAI,GAAK,cAC1CA,EAAUA,EAAwB,aAAI,GAAK,eAC3CA,EAAUA,EAAiB,MAAI,GAAK,QALtC,CAMGA,IAAcA,EAAY,KAK7B,SAAWC,GACTA,EAAiB,IAAI,MACrBA,EAAkB,KAAI,OAFxB,CAGGA,IAAgBA,EAAc,KAKjC,SAAWC,GACTA,EAAcA,EAA2B,YAAI,GAAK,cAClDA,EAAcA,EAA6B,cAAI,GAAK,gBAFtD,CAGGA,IAAkBA,EAAgB,KAErC,IAAIH,EAEJ,WACE,SAAS8L,EAAQC,GACf,IAAI3E,EAAQ5H,KAEZ8H,OAAOlH,EAA2D,EAAlEkH,CAAqE9H,KAAMuM,GAG3EvM,KAAKwM,iBAAkB,EAGvBxM,KAAKyM,oBAAqB,EAG1BzM,KAAK0M,SAAW1L,EAAkE,EAAE2L,cAGpF3M,KAAK4M,cAAe,EAGpB5M,KAAK6M,aAAc,EAGnB7M,KAAK8M,YAAc,KAGnB9M,KAAK+M,iBAAmB,GAGxB/M,KAAKgN,SAAW,GAGhBhN,KAAKiN,KAAO,GAGZjN,KAAKkN,UAAYzM,EAAU0M,QAK3BnN,KAAKoN,WAAa,SAAUJ,GAC1B,IAAIK,EAAcL,EAASM,KAAI,SAAUC,GACvC,OAAOzF,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CACjF0F,MAAO,UAAYD,EAAQE,MAC1BF,EAAQG,YAGb,GAAI9F,EAAMsF,YAAczM,EAAUkN,aAAe/F,EAAMsF,YAAczM,EAAUmN,aAAc,CAE3F,IAAIC,EAASjG,EAAMsF,YAAczM,EAAUkN,YAAcjN,EAAYoN,IAAMpN,EAAYqN,KACvFV,EAAYpN,KAAK6H,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAC3F0F,MAAO,UAAYK,GAClB/F,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAC7E0F,MAAO,gBAAkBK,GACxB/F,OAAOlH,EAA2D,EAAlEkH,CAAqE,OAAQ,CAC9E0F,MAAO,aACL1F,OAAOlH,EAA2D,EAAlEkH,CAAqE,OAAQ,CAC/E0F,MAAO,eACL1F,OAAOlH,EAA2D,EAAlEkH,CAAqE,OAAQ,CAC/E0F,MAAO,iBAIX,OAAOH,GAGTrN,KAAKgO,cAAgBlG,OAAOlH,EAA2D,EAAlEkH,CAAqE9H,KAAM,gBAAiB,GA6WnH,OAzWAsM,EAAQ5E,UAAUuG,cAAgB,SAAUC,GAC1ClO,KAAKmO,mBAOP7B,EAAQ5E,UAAU0G,kBAAoB,WACpC,IAAKlN,EAA6E,GAA0G,oBAA9FA,EAA6E,EAAEmN,WAC3K,MAAM,IAAIC,MAAMrN,EAA+D,GAGjFjB,KAAKuO,iBAGPjC,EAAQ5E,UAAU8G,mBAAqB,WAErC,IAAIlM,EAAOtC,KAAKyO,QAAQC,WAAWC,cAAc,SACjDrM,EAAKsM,UAAYtM,EAAKuM,cAGxBvC,EAAQ5E,UAAU6G,cAAgB,WAChC,IAAI3G,EAAQ5H,KAEZ,GAAKA,KAAK4M,cAAiB5M,KAAK6M,YAGzB,GAAK7M,KAAK8O,QAAV,CAKH9O,KAAK+O,gBAAgB/O,KAAKgP,aAAahP,KAAK+O,eAAgBrO,EAAYoN,KAExE9N,KAAK4M,eACP5M,KAAKiP,cAAgB,IAAI5H,EAAc,CACrC2E,KAAMhM,KAAK8M,YACXf,UAAW/L,KAAK+M,mBAElB/M,KAAKiP,cAActH,OAAOgB,OAAM,SAAU2C,GACxC1D,EAAMsH,SAAS5D,EAAK3K,EAAcwO,iBAkBtC,IACEjO,EAA6E,EAAEmN,WAAWrO,KAAK8O,SAdhF,SAAoBxD,EAAK8D,GACxCxH,EAAMoG,cAAcqB,KAAK,CACvBD,KAAMA,EACN9D,IAAKA,IAGH1D,EAAM4E,gBACR5E,EAAM0H,QAEN1H,EAAMsF,UAAYzM,EAAU0M,WAM9B,MAAO7B,GACPtL,KAAKkP,SAAS5D,EAAK3K,EAAc4O,qBAjCjCvP,KAAKkP,SAASlO,EAAkE,EAAEwO,kBAAmB7O,EAAc4O,oBAHnHvP,KAAKkP,SAASlO,EAAkE,EAAEyO,oBAAqB9O,EAAc4O,gBA4CzHjD,EAAQ5E,UAAUgI,gBAAkB,WAClC,IAAI9H,EAAQ5H,KAERA,KAAKkN,YAAczM,EAAU0M,UACjCnN,KAAKiP,cAAcxD,OACnBzL,KAAKkN,UAAYzM,EAAUkP,UAC3B3P,KAAKiP,cAAcjF,gBAAe,WAChC,OAAOpC,EAAMgI,mBACZ,SAAUR,EAAMzL,GACjB,OAAOiE,EAAMsC,WAAWkF,EAAMzL,QAIlC2I,EAAQ5E,UAAUkI,cAAgB,WAChC,IAAIhI,EAAQ5H,KAEZA,KAAKkN,UAAYzM,EAAUmN,aAC3B5N,KAAKiP,cAAc1E,gBACnBvK,KAAKiP,cAAc9C,YAAYhK,MAAK,SAAUiK,GAC5CxE,EAAMiI,iBAAiBzD,OAI3BE,EAAQ5E,UAAUoI,iBAAmB,SAAUC,GAC7C,IAAIC,EAASD,EAAMC,OACnBhQ,KAAKiN,KAAO+C,EAAOpO,OAGrB0K,EAAQ5E,UAAUuI,mBAAqB,WACrCjQ,KAAKiP,cAAczE,QACnBxK,KAAKkN,UAAYzM,EAAU0M,SAG7Bb,EAAQ5E,UAAUwI,iBAAmB,SAAUC,GAC7CnQ,KAAKiJ,WAAQmH,EAGTD,IAAcxP,EAAcwO,cAC9BnP,KAAKkN,UAAYzM,EAAU0M,UAQ/Bb,EAAQ5E,UAAUwC,WAAa,SAAU2B,EAAWD,IArQtC,SAAmBC,EAAWD,EAAcyE,GAC1D,GAAKA,EAAL,CACA,IAAKvI,OAAOhH,EAAsE,EAA7EgH,GAAkFC,UAAW,MAAM,IAAIuG,MAAM,mDAElH,IAAIzG,EAAKwI,EAAOC,wBACZC,EAAQ1I,EAAG0I,MACXC,EAAS3I,EAAG2I,OAGhBH,EAAOE,MAAQA,EACfF,EAAOG,OAASA,EAChB,IAAIC,EAAYJ,EAAOK,WAAW,MAClCD,EAAUE,UAAY,QACtBF,EAAUG,UAAU,EAAG,EAAGL,EAAOC,GA8BjCK,uBA5BW,WACTJ,EAAUK,SAAS,EAAG,EAAGP,EAAOC,GAChCC,EAAUM,UAAY,EACtB,IAAIC,EAAQC,iBAAiBC,SAASC,iBAAiBC,iBAAiB,2BACxEX,EAAUY,YAAeL,GAAmB,KAAVA,EAA2BA,EAAZ,UAEjDP,EAAUa,YAIV,IAHA,IAAIC,EAAqB,EAARhB,EAAc3E,EAC3B4F,EAAI,EAEC1N,EAAI,EAAGA,EAAI8H,GAAgB9H,EAAI,IAAM,EAAGA,IAAK,CACpD,IACItB,EADQqJ,EAAU/H,GAAK,IACX0M,EAAS,EAEf,IAAN1M,EACF2M,EAAUgB,OAAOD,EAAGhP,GAEpBiO,EAAUiB,OAAOF,EAAGhP,GAGtBgP,GAAKD,EAGPd,EAAUiB,OAAOrB,EAAOE,MAAOF,EAAOG,OAAS,GAC/CC,EAAUkB,aAgOVC,CAAU/F,EAAWD,EADR5L,KAAKyO,QAAQC,WAAWC,cAAc,YAQrDrC,EAAQ5E,UAAUyG,gBAAkB,WAClC,OAAOhN,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAIiN,EAAM4E,EAAUC,EACpB,OAAOzP,EAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EACH,GAAyB,IAArB5C,KAAKiN,KAAKtJ,QAAgB3D,KAAKkN,YAAczM,EAAU0M,QAAS,MAAO,CAAC,GAG5EF,EAAOjN,KAAKiN,KACZjN,KAAKiN,KAAO,GACZjN,KAAKgP,aAAa/B,EAAMvM,EAAYqN,MACpC/N,KAAKkN,UAAYzM,EAAUkN,YAC3B9F,EAAGjF,MAAQ,EAEb,KAAK,EAGH,OAFAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENiB,EAA6E,EAAE6Q,KAAK/R,KAAK8O,QAAS7B,IAEtG,KAAK,EAEH,OADA4E,EAAWhK,EAAGhF,OACP,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAiP,EAAQjK,EAAGhF,OACX7C,KAAKkP,SAAS4C,EAAOnR,EAAcwO,aAC5B,CAAC,GAIV,KAAK,EAMH,OALI0C,EAAStE,SACXvN,KAAKgP,aAAa6C,EAAStE,QAAS7M,EAAYoN,KAGlD9N,KAAKkN,UAAYzM,EAAU0M,QACpB,CAAC,WAQlBb,EAAQ5E,UAAUmI,iBAAmB,SAAUmC,GAC7C,OAAO7Q,EAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAIiS,EAAqBJ,EAAUK,EAAOC,EAEtCvK,EAAQ5H,KAEZ,OAAOqC,EAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EACHqP,EAAsB,CACpBvE,QAASsE,EACT1K,QAAS,CACP8K,YAAa,UAGjBvK,EAAGjF,MAAQ,EAEb,KAAK,EAGH,OAFAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENiB,EAA6E,EAAE6Q,KAAK/R,KAAK8O,QAASmD,IAEtG,KAAK,EAEH,OADAJ,EAAWhK,EAAGhF,OACP,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAqP,EAAQrK,EAAGhF,OACX7C,KAAKkP,SAASgD,EAAOvR,EAAcwO,aAC5B,CAAC,GAIV,KAAK,EAKH,OAJAnP,KAAKkN,UAAYzM,EAAU0M,QAC3BgF,EAAcN,EAASM,YACnBN,EAASQ,iBAAiBrS,KAAKgP,aAAa6C,EAASQ,gBAAiB3R,EAAYqN,MACtF/N,KAAKgP,aAAa6C,EAAStE,QAAS7M,EAAYoN,KACzC,CAAC,EAEN9N,KAAKiP,cAAcxE,KAAKoH,EAASS,aAAanQ,MAAK,WAE/CyF,EAAM6E,oBAAsC,cAAhB0F,GAA+C,WAAhBA,GAA4BvK,EAAMsF,YAAczM,EAAU0M,SACvHvF,EAAM8H,qBAEP/G,OAAM,SAAU2C,GACjB,OAAO1D,EAAMsH,SAAS5D,EAAK3K,EAAcwO,iBAG7C,KAAK,EAGH,OAFAtH,EAAGhF,OAEI,CAAC,WAQlByJ,EAAQ5E,UAAUsH,aAAe,SAAUtB,EAASD,GAClDzN,KAAKgN,SAAWpJ,EAAe5D,KAAKgN,SAAU,CAAC,CAC7CU,QAASA,EACTD,KAAMA,MAQVnB,EAAQ5E,UAAUwH,SAAW,SAAUjG,EAAOkH,GAC5C,IAAI5C,EAA2B,kBAAVtE,EAAqBA,EAAQA,EAAMsE,QACxDvN,KAAKkN,UAAYzM,EAAU6N,MAC3BtO,KAAKiJ,MAAQ,CACXsE,QAASA,EACT4C,UAAWA,IAIf7D,EAAQ5E,UAAU4H,MAAQ,WACxBtP,KAAKkN,UAAYzM,EAAU0M,QAC3BnN,KAAKiN,KAAO,GACZjN,KAAKiJ,WAAQmH,EACbpQ,KAAKgN,SAAW,GACZhN,KAAK+O,gBAAgB/O,KAAKgP,aAAahP,KAAK+O,eAAgBrO,EAAYoN,KAC5E9N,KAAKiP,eAAiBjP,KAAKiP,cAAczE,SAG3C8B,EAAQ5E,UAAU6K,mBAAqB,WACrC,IAAI3K,EAAQ5H,KAcZ,MAAO,CAZa8H,OAAOlH,EAA2D,EAAlEkH,CAAqE,SAAU,CACjG0I,OAAQ,OAES1I,OAAOlH,EAA2D,EAAlEkH,CAAqE,iBAAkB,CACxG0K,YAAa,wBACbC,kBAAmB,WACjB,OAAO7K,EAAMqI,sBAEfzC,MAAO,cACPkF,QAAS,OACTC,KAAM,UAKVrG,EAAQ5E,UAAUkL,UAAY,WAC5B,IAAIhL,EAAQ5H,KAEZ,GAAIA,KAAKkN,YAAczM,EAAUkP,UAAW,OAAO3P,KAAKuS,qBACxD,IAAIM,EAAmB7S,KAAK6M,YAAc7L,EAAkE,EAAE8R,uBAAyB9R,EAAkE,EAAE+R,wBA8B3M,MAAO,CA7BSjL,OAAOlH,EAA2D,EAAlEkH,CAAqE,gBAAiB,CACpGkL,YAAajS,EAA6D,EAAEkS,IAAIJ,GAChFK,YAAa,OACbC,kBAAmB,SAA2BC,GAC5C,OAAOxL,EAAMkI,iBAAiBsD,IAEhCxR,MAAO5B,KAAKiN,KACZoG,SAAUrT,KAAKkN,YAAczM,EAAU6N,QAAUtO,KAAK6M,cAExC7M,KAAK4M,cAAgB9E,OAAOlH,EAA2D,EAAlEkH,CAAqE,iBAAkB,CAC1H0K,YAAa,qBACbC,kBAAmB,WACjB,OAAO7K,EAAM8H,mBAEflC,MAAO,cACPkF,QAAS,OACTC,KAAM,aACNU,SAAUrT,KAAKkN,YAAczM,EAAU6N,OAAStO,KAAKkN,YAAczM,EAAU0M,UAE9DnN,KAAK6M,aAAe/E,OAAOlH,EAA2D,EAAlEkH,CAAqE,iBAAkB,CAC1H0K,YAAa,sBACbhF,MAAO,cACPkF,QAAS,OACTC,KAAM,OACNF,kBAAmB,WACjB,OAAO7K,EAAMuG,mBAEfkF,SAAUrT,KAAKkN,YAAczM,EAAU6N,OAAStO,KAAKkN,YAAczM,EAAU0M,YAKjFb,EAAQ5E,UAAU4L,WAAa,WAC7B,IAAI1L,EAAQ5H,KAEZ,GAAKA,KAAKiJ,MAAV,CACA,IAAIpB,EAAK7H,KAAKiJ,MACVsE,EAAU1F,EAAG0F,QACb4C,EAAYtI,EAAGsI,UACnB,OAAOrI,OAAOlH,EAA2D,EAAlEkH,CAAqE,gBAAiB,CAC3FyF,QAASxM,EAA6D,EAAEkS,IAAI1F,GAC5EgG,YAAa,WACX,OAAO3L,EAAMsI,iBAAiBC,QAKpC7D,EAAQ5E,UAAU8L,OAAS,WACzB,OAAO1L,OAAOlH,EAA2D,EAAlEkH,CAAqElH,EAA2D,EAAG,KAAMkH,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAC1N0F,MAAO,mBACN1F,OAAOlH,EAA2D,EAAlEkH,CAAqE,OAAQ,CAC9E2L,KAAM,UACL3L,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAC7E0F,MAAO,SACPgF,YAAa,kBACZzR,EAA6D,EAAEkS,IAAIjT,KAAK0M,YAAa5E,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAClK0F,MAAO,OACPgF,YAAa,gBACZxS,KAAKoN,WAAWpN,KAAKgN,WAAYlF,OAAOlH,EAA2D,EAAlEkH,CAAqE,MAAO,CAC9G0F,MAAO,SACPgF,YAAa,kBACZxS,KAAK4S,aAAc5S,KAAKsT,gBAG7BxL,OAAO4L,eAAepH,EAAQ5E,UAAW,UAAW,CAClDuL,IAAK,WACH,OAAOnL,OAAOlH,EAA2D,EAAlEkH,CAAqE9H,OAE9E2T,YAAY,EACZC,cAAc,IAETtH,EA9aT,GAibA9L,EAAeqT,MA/cS,+6FAodlBC,IACA,SAAU3T,EAAQC,EAAqBC,GAE7C,aAGAA,EAAoBE,EAAEH,EAAqB,KAAK,WAAa,OAAqB2T,MAKlF,IAsYIC,EAQAC,EAUAC,EAQAC,EAQAC,EAQAC,EAQAC,EAQAC,EAQAC,EAQAC,EAQAC,EAQAC,EASAC,EAUAC,EAYAC,EAQAC,EAUAC,EAkBAC,EAQAC,EAQAC,EAQAC,EAQAC,EAcAC,EAWAC,EAYAC,EAQAC,EAQAC,EAgBAC,EAQAC,EAUAC,EAMAC,EAQAC,EAQAC,EAQAC,EAQAC,EAoBAC,EAkBAC,EAtuBAC,EAAgBhW,EAAoB,IAGpCiW,EAAUjW,EAAoB,IAe9BkW,EAA8C,WAahD,OAZAA,EAAWzO,OAAO0O,QAAU,SAAU/T,GACpC,IAAK,IAAIoB,EAAGC,EAAI,EAAGT,EAAIW,UAAUL,OAAQG,EAAIT,EAAGS,IAG9C,IAAK,IAAI2S,KAFT5S,EAAIG,UAAUF,GAGRgE,OAAOJ,UAAUgP,eAAejT,KAAKI,EAAG4S,KAAIhU,EAAEgU,GAAK5S,EAAE4S,IAI7D,OAAOhU,IAGOL,MAAMpC,KAAMgE,YAI1B2S,EAA8B,IAAIN,EAAqC,EAAE,gCAEzEO,EAEJ,WACE,SAASA,EAA6BtP,QACpB,IAAZA,IACFA,EAAU,IAGZtH,KAAK6W,QAAUvP,EAwBjB,OArBAsP,EAA6BlP,UAAUoP,UAAY,SAAUC,GAO3D,YANe,IAAXA,IACFA,EAAS,IAGX/W,KAAK6W,QAAUN,EAASA,EAAS,GAAIvW,KAAK6W,SAAUE,GACpDJ,EAA4BK,MAAM,aAAehX,KAAKiX,kBAAmBjX,KAAK6W,SACvE7W,KAAKsH,SAGdsP,EAA6BlP,UAAUwP,YAAc,WACnD,MAAO,gBAGTpP,OAAO4L,eAAekD,EAA6BlP,UAAW,UAAW,CACvEuL,IAAK,WACH,OAAOsD,EAAS,GAAIvW,KAAK6W,UAE3BlD,YAAY,EACZC,cAAc,IAETgD,EA9BT,GAmCIO,EAAY9W,EAAoB,GAGhC+W,EAAa/W,EAAoB,KAGjCgX,EAAQhX,EAAoB,IAG5BiX,EAAKjX,EAAoB,IAGzBkX,EAAUlX,EAAoB,IAG9BmX,EAA2BnX,EAAoB,IAG/CoX,EAA8BpX,EAAoB,IAGlDqX,EAAmCrX,EAAoB,IAGvDsX,EAAkCtX,EAAoB,IAGtDuX,GAA4BvX,EAAoB,IAKhDwX,GAAe,qCAMfC,GAAc,IAAIC,IAAI,CAAC,aAAc,YAAa,iBAAkB,iBAAkB,aAAc,iBAAkB,iBAAkB,eAAgB,eAAgB,aAAc,aAAc,YAAa,YAAa,YAAa,aAAc,YAAa,YAAa,YAAa,YAAa,cAC7SC,GAAiB,IAAID,IAAI,CAAC,aAAc,mBACxCE,GAAkB,IAAIF,IAAI,CAAC,kBAC3BG,GAAoB,IAAIH,IAAI,CAAC,mBAC7BI,GAAqB,IAAIJ,IAAI,CAAC,gBAAiB,kBAqI/CK,GAAqB,CACvBC,WAAY,aACZC,mBAAmB,EACnBlR,OAAQ,GACRmR,mBAxIwC,SAAmCC,EAAQlR,GACnF,IAAImR,OAAarI,EAEjB,OAAQoI,GAEN,IAAK,iBACHC,EAAa,CACXC,SAAU,2CACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,iBACHH,EAAa,CACXC,SAAU,2CACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,iBACHH,EAAa,CACXC,SAAU,2CACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,eACHH,EAAa,CACXC,SAAU,yCACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,YACHH,EAAa,CACXC,SAAU,sCACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,YACHH,EAAa,CACXC,SAAU,sCACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,YACHH,EAAa,CACXC,SAAU,sCACVC,UAAW,MACXC,eAAgB,OAElB,MAEF,IAAK,YACHH,EAAa,CACXC,SAAU,sCACVC,UAAW,MACXC,eAAgB,OAElB,MAGF,QACMd,GAAYe,IAAIL,KAClBC,EAAa,CACXC,SAAUb,GAAaiB,QAAQ,WAAYN,GAC3CG,UAAW,MACXC,eAAgB,QAIhBZ,GAAea,IAAIL,KACrBC,EAAa,CACXC,SA3FY,wCA2FcI,QAAQ,WAAYN,GAC9CG,UAAW,WAIXV,GAAgBY,IAAIL,KACtBC,EAAa,CACXC,SAjGa,kCAiGcI,QAAQ,WAAYN,GAC/CG,UAAW,YAIXT,GAAkBW,IAAIL,KACxBC,EAAa,CACXC,SAvGe,qCAuGcI,QAAQ,WAAYN,GACjDG,UAAW,cAIXR,GAAmBU,IAAIL,KACzBC,EAAa,CACXC,SA7GgB,qCA6GcI,QAAQ,WAAYN,GAClDG,UAAW,oBAKIvI,IAAfqI,IACFA,EAAa,CACXC,SAAUb,GAAaiB,QAAQ,WAAYN,GAC3CG,UAAW,MACXC,eAAgB,QAMxB,OAAOpX,QAAQC,QAAQqG,OAAOqP,EAA4B,EAAnCrP,CAAsC,CAC3D8Q,eAAgB,OACfH,KAiBHM,UAAW,sBACXC,UAfuB3Y,EAAoB,IAeK,GAkB9C4Y,GAAsBnR,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIsQ,IAAqB,CAC7Hc,QAAS,UACTC,cAAe1B,EAAgD,EAC/D2B,cAAe3B,EAA8C,EAC7D4B,kBAAmB3B,EAA8D,EACjF4B,0BAA2B,SAAmC3W,GAC5D,OAAO,WACL,OAAOnB,QAAQE,OAAO,IAAI4M,MAAM,4BAGpCiL,yBAA0BzR,OAAO6P,EAA0D,EAAjE7P,CAAoE,CAC5FiR,UAAWX,GAAmBW,UAC9BS,cAAepC,EAAWqC,UAE5BC,YAAalC,EAAuD,EACpEgB,OAAQ1Q,OAAOyP,EAAiC,EAAxCzP,CAA2C,qBACnD6R,eAAgB,IAAIrC,EAA6B,EACjDsC,OAAQvC,EAAc,OACtBwC,gBAAiBvC,EAA4B,EAC7CwC,YAAalC,GAAoC,SACjDmC,YAAanC,GAAkC,SAG7CoC,GAA0B3Z,EAAoB,IAG9C4Z,GAAoC5Z,EAAoB,IAGxD6Z,GAAiC7Z,EAAoB,IAGrD8Z,GAA4B9Z,EAAoB,IAGhD+Z,GAA6B/Z,EAAoB,IAGjDga,GAAgCha,EAAoB,IAGpDia,GAAwBja,EAAoB,GAyB5Cka,GAEJ,SAAUC,GAGR,SAASC,EAAwBC,GAC/B,IAAI9S,EAAQ5H,KAER2a,EAAY7S,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAImR,IAAsByB,GAElHE,EAAY9S,OAAOkS,GAAqD,EAA5DlS,CAA+D6S,GAE3EE,EAAY/S,OAAOkS,GAAwD,EAA/DlS,CAAkE8S,GAE9EE,EAAYhT,OAAOsS,GAAyD,EAAhEtS,CAAmE+S,GAE/EE,EAAYjT,OAAO0P,EAAqD,EAA5D1P,CAA+DgT,GAE3EE,EAAYlT,OAAOoS,GAAgE,EAAvEpS,CAA0EiT,GAEtFE,EAAYnT,OAAOuS,GAA8D,EAArEvS,CAAwEkT,GAiBxF,OAfApT,EAAQ4S,EAAO/W,KAAKzD,KAAMib,IAAcjb,MAClC+W,OAASkE,EAEfrT,EAAMsT,gBAAgBC,IAAIrT,OAAOsS,GAAqD,EAA5DtS,CAA+DF,EAAMmP,SAE/FnP,EAAMsT,gBAAgBC,IAAIrT,OAAO0P,EAAiD,EAAxD1P,CAA2DF,EAAMmP,SAE3FnP,EAAMsT,gBAAgBC,IAAIrT,OAAOmS,GAAkE,EAAzEnS,CAA4EF,EAAMmP,SAE5GnP,EAAMsT,gBAAgBC,IAAIrT,OAAOoS,GAA4D,EAAnEpS,CAAsEF,EAAMmP,SAEtGnP,EAAMsT,gBAAgBC,IAAIrT,OAAOqS,GAAmD,EAA1DrS,CAA6DF,EAAMmP,SAE7FnP,EAAMsT,gBAAgBC,IAAIrT,OAAOuS,GAA0D,EAAjEvS,CAAoEF,EAAMmP,SAE7FnP,EAOT,OAzCAE,OAAOqP,EAA6B,EAApCrP,CAAuC2S,EAAyBD,GAqChEC,EAAwB/S,UAAU0T,QAAU,WAC1CZ,EAAO9S,UAAU0T,QAAQ3X,KAAKzD,OAGzBya,EA1CT,CA2CEH,GAAsC,IAYrCtG,IAAqCA,EAAmC,KAHjDqH,mBAAqB,SAAUC,GACrD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAYlDrH,IAA2BA,EAAyB,KALvCoH,mBAAqB,SAAUC,GAC3C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIC,YAAc,CAC7GA,WAAYjB,GAAgD,MAW/DpG,IAAiCA,EAA+B,KAH7CmH,mBAAqB,SAAUC,GACjD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDnH,IAA+BA,EAA6B,KAH3CkH,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDlH,IAAkCA,EAAgC,KAH9CiH,mBAAqB,SAAUC,GAClD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDjH,IAAmCA,EAAiC,KAH/CgH,mBAAqB,SAAUC,GACnD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDhH,IAAsCA,EAAoC,KAHlD+G,mBAAqB,SAAUC,GACtD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlD/G,IAAoCA,EAAkC,KAHhD8G,mBAAqB,SAAUC,GACpD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlD9G,IAA+BA,EAA6B,KAH3C6G,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlD7G,IAA+BA,EAA6B,KAH3C4G,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,IAMrD,SAAW5G,GACTA,EAAyB,OAAI,SAC7BA,EAA4B,UAAI,YAChCA,EAAwC,sBAAI,sBAH9C,CAIGA,IAAqBA,EAAmB,KAI3C,SAAWC,GACTA,EAA6B,UAAI,YACjCA,EAAkC,eAAI,gBACtCA,EAA8B,WAAI,YAClCA,EAAwB,KAAI,OAJ9B,CAKGA,IAAsBA,EAAoB,KAI7C,SAAWC,GACTA,EAAwB,MAAI,QAC5BA,EAAiC,eAAI,gBACrCA,EAA2B,SAAI,WAC/BA,EAAgC,cAAI,eACpCA,EAA8B,YAAI,aALpC,CAMGA,IAAqBA,EAAmB,MAYxCC,IAA0BA,EAAwB,KAPtCwG,mBAAqB,SAAUC,GAC1C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIE,OAAS,CAC9IA,MAAOlB,GAAgD,IACrDgB,EAAI/N,SAAW,CACjBA,QAAS+M,GAAgD,KAO/D,SAAWxF,GACTA,EAA8B,UAAI,YAClCA,EAA2B,OAAI,SAC/BA,EAAyB,KAAI,OAH/B,CAIGA,IAAuBA,EAAqB,MAU5CC,IAA2BA,EAAyB,KALvCsG,mBAAqB,SAAUC,GAC3C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIE,OAAS,CACxGA,MAAOlB,GAAgD,MAqB1DtF,IAAgCA,EAA8B,KAb5CqG,mBAAqB,SAAUC,GAChD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIG,yBAA2B,CAC5OA,wBAAyBH,EAAIG,wBAAwBnO,KAAI,SAAUoO,GACjE,OAAO3G,EAAuBsG,mBAAmBK,QAEjDJ,EAAIK,mBAAqB,CAC3BA,kBAAmBrB,GAAgD,IACjEgB,EAAIM,cAAgB,CACtBA,aAAc/G,EAAsBwG,mBAAmBC,EAAIM,gBACzDN,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,MAWnErF,IAAiCA,EAA+B,KAH7CoG,mBAAqB,SAAUC,GACjD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDpG,IAAuCA,EAAqC,KAHnDmG,mBAAqB,SAAUC,GACvD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDnG,IAAmCA,EAAiC,KAH/CkG,mBAAqB,SAAUC,GACnD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDlG,IAAoCA,EAAkC,KAHhDiG,mBAAqB,SAAUC,GACpD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAgBlDjG,IAAgCA,EAA8B,KAT5CgG,mBAAqB,SAAUC,GAChD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIK,mBAAqB,CAChMA,kBAAmBrB,GAAgD,IACjEgB,EAAIQ,mBAAqB,CAC3BA,kBAAmBxB,GAAgD,IACjEgB,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,KAOtE,SAAWhF,GACTA,EAA4B,eAAI,gBAChCA,EAA2B,cAAI,eAC/BA,EAAyB,YAAI,aAC7BA,EAAoB,OAAI,SACxBA,EAAuB,UAAI,YAC3BA,EAAmC,sBAAI,sBANzC,CAOGA,IAAgBA,EAAc,MAY9BC,IAAiCA,EAA+B,KAP7C8F,mBAAqB,SAAUC,GACjD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAI/N,SAAW,CAChJA,QAAS+M,GAAgD,IACvDgB,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,MAWnE9E,IAAqCA,EAAmC,KAHjD6F,mBAAqB,SAAUC,GACrD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlD7F,IAA2CA,EAAyC,KAHvD4F,mBAAqB,SAAUC,GAC3D,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAkBlD5F,IAA6BA,EAA2B,KAXzC2F,mBAAqB,SAAUC,GAC7C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIK,mBAAqB,CACtOA,kBAAmBrB,GAAgD,IACjEgB,EAAIQ,mBAAqB,CAC3BA,kBAAmBxB,GAAgD,IACjEgB,EAAIS,WAAa,CACnBA,UAAWzB,GAAgD,IACzDgB,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,MAWnE3E,IAA8BA,EAA4B,KAH1C0F,mBAAqB,SAAUC,GAC9C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAYlD1F,IAA6BA,EAA2B,KALzCyF,mBAAqB,SAAUC,GAC7C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIE,OAAS,CACxGA,MAAOlB,GAAgD,KAO7D,SAAWzE,GACTA,EAAqB,QAAI,yCAD3B,CAEGA,IAAgBA,EAAc,MAQ9BC,IAAoBA,EAAkB,KAHhCuF,mBAAqB,SAAUC,GACpC,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDvF,IAA+BA,EAA6B,KAH3CsF,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDtF,IAA0BA,EAAwB,KAHtCqF,mBAAqB,SAAUC,GAC1C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAUlDrF,IAA+BA,EAA6B,KAH3CoF,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,KAsBlDpF,IAA8BA,EAA4B,KAf1CmF,mBAAqB,SAAUC,GAC9C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIU,oBAAsB,CAC7QA,mBAAoBV,EAAIU,mBAAmB1O,KAAI,SAAUoO,GACvD,OAAO9F,EAAyByF,mBAAmBK,QAEnDJ,EAAIE,OAAS,CACfA,MAAOlB,GAAgD,IACrDgB,EAAIK,mBAAqB,CAC3BA,kBAAmBrB,GAAgD,IACjEgB,EAAI/N,SAAW,CACjBA,QAAS+M,GAAgD,IACvDgB,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,MAqBnEnE,IAA+BA,EAA6B,KAb3CkF,mBAAqB,SAAUC,GAC/C,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAIK,mBAAqB,CACtOA,kBAAmBrB,GAAgD,IACjEgB,EAAIM,cAAgB,CACtBA,aAAc/G,EAAsBwG,mBAAmBC,EAAIM,gBACzDN,EAAIG,yBAA2B,CACjCA,wBAAyBH,EAAIG,wBAAwBnO,KAAI,SAAUoO,GACjE,OAAO3G,EAAuBsG,mBAAmBK,QAEjDJ,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,MAenElE,IAAgCA,EAA8B,KAP5CiF,mBAAqB,SAAUC,GAChD,OAAOxT,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsCA,OAAOqP,EAA4B,EAAnCrP,CAAsC,GAAIwT,GAAMA,EAAI/N,SAAW,CAChJA,QAAS+M,GAAgD,IACvDgB,EAAIO,gBAAkB,CACxBA,eAAgBvB,GAAgD,KAKtE,IAAI2B,GAAgB5b,EAAoB,KAGpC6b,GAA2B7b,EAAoB,IA+E/C8b,GAEJ,SAAU3B,GAKR,SAAS4B,EAAgB5W,GACvB,IAAIoC,EACJ4S,EAAO/W,KAAKzD,OAASA,KAGrB,OADA4H,EAAMpC,MAAQA,EACPoC,EAkCT,OA3CAE,OAAOqP,EAA6B,EAApCrP,CAAuCsU,EAAiB5B,GAgBxD4B,EAAgB1U,UAAU2U,kBAAoB,SAAUC,EAAa5B,EAAepT,GAClFtH,KAAKkb,gBAAgBC,IAAIrT,OAAOoU,GAAiD,EAAxDpU,CAA2D4S,EAAe1a,KAAKuc,UAAWvc,KAAKwc,cACxH,IAAIC,EAAQH,EAAYI,OAAO1c,KAAKkb,iBAIhCyB,EAA0B,CAC5BvV,OAJWsT,EAActT,OAKzBwV,WAJe,0BAKfC,YAJgB,kBAKhBC,wBAAyBpH,EAAyB2F,mBAClD0B,yBAA0B7G,EAA0BmF,oBAElD1B,EAAiBe,EAAcf,eACnC,OAAO8C,EAAMhb,SAAQ,SAAUub,GAC7B,OAAOrD,EAAesD,OAAOD,EAAQA,QAAS1V,GAAW,MACxDqV,IAGLP,EAAgB1U,UAAU6U,UAAY,SAAU/W,EAAOsE,GACrD,OAAOhC,OAAOmU,GAA6D,EAApEnU,CAAuEtC,EAAOsE,IAGvFsS,EAAgB1U,UAAU8U,YAAc,SAAUjX,EAAQuE,GACxD,OAAOhC,OAAOmU,GAA+D,EAAtEnU,CAAyEvC,EAAQuE,IAGnFsS,EA5CT,CA6CE9B,GAAuC,GAgFrC4C,GAEJ,SAAU1C,GAKR,SAAS2C,EAAmB3X,GAC1B,IAAIoC,EACJ4S,EAAO/W,KAAKzD,OAASA,KAGrB,OADA4H,EAAMpC,MAAQA,EACPoC,EAkCT,OA3CAE,OAAOqP,EAA6B,EAApCrP,CAAuCqV,EAAoB3C,GAgB3D2C,EAAmBzV,UAAU2U,kBAAoB,SAAUC,EAAa5B,EAAepT,GACrFtH,KAAKkb,gBAAgBC,IAAIrT,OAAOoU,GAAiD,EAAxDpU,CAA2D4S,EAAe1a,KAAKuc,UAAWvc,KAAKwc,cACxH,IAAIC,EAAQH,EAAYI,OAAO1c,KAAKkb,iBAIhCyB,EAA0B,CAC5BvV,OAJWsT,EAActT,OAKzBwV,WAJe,0BAKfC,YAJgB,qBAKhBC,wBAAyBzH,EAA4BgG,mBACrD0B,yBAA0BxH,EAA6B8F,oBAErD1B,EAAiBe,EAAcf,eACnC,OAAO8C,EAAMhb,SAAQ,SAAUub,GAC7B,OAAOrD,EAAesD,OAAOD,EAAQA,QAAS1V,GAAW,MACxDqV,IAGLQ,EAAmBzV,UAAU6U,UAAY,SAAU/W,EAAOsE,GACxD,OAAOhC,OAAOmU,GAAgE,EAAvEnU,CAA0EtC,EAAOsE,IAG1FqT,EAAmBzV,UAAU8U,YAAc,SAAUjX,EAAQuE,GAC3D,OAAOhC,OAAOmU,GAAkE,EAAzEnU,CAA4EvC,EAAQuE,IAGtFqT,EA5CT,CA6CE7C,GAAuC,GAIrC8C,GAAc/c,EAAoB,KAGlCgd,GAAWhd,EAAoB,IAG/Bid,GAAU,SAAiB9U,GAC7B,GAAIA,aAAkBtB,MAAQsB,aAAkB+U,eAC9C,OAAO,IAAIC,SAAShV,GAAQiV,cAActb,MAAK,SAAU8C,GACvD,OAAO,IAAI6G,WAAW7G,MAGxB,MAAM,IAAIqJ,MAAM,+BAgBhBoP,GAAgD,WAClD,IAAIC,EAAiB,SAAuBpd,EAAGqd,GAW7C,OAVAD,EAAiB7V,OAAO+V,gBAAkB,CACxCC,UAAW,cACA7Z,OAAS,SAAU1D,EAAGqd,GACjCrd,EAAEud,UAAYF,IACX,SAAUrd,EAAGqd,GAChB,IAAK,IAAInH,KAAKmH,EACRA,EAAElH,eAAeD,KAAIlW,EAAEkW,GAAKmH,EAAEnH,MAIhBlW,EAAGqd,IAG3B,OAAO,SAAUrd,EAAGqd,GAGlB,SAASG,IACP/d,KAAKge,YAAczd,EAHrBod,EAAepd,EAAGqd,GAMlBrd,EAAEmH,UAAkB,OAANkW,EAAa9V,OAAOmW,OAAOL,IAAMG,EAAGrW,UAAYkW,EAAElW,UAAW,IAAIqW,IAtB/B,GA0BhDG,GAA2D,WAa7D,OAZAA,GAAwBpW,OAAO0O,QAAU,SAAU/T,GACjD,IAAK,IAAIoB,EAAGC,EAAI,EAAGT,EAAIW,UAAUL,OAAQG,EAAIT,EAAGS,IAG9C,IAAK,IAAI2S,KAFT5S,EAAIG,UAAUF,GAGRgE,OAAOJ,UAAUgP,eAAejT,KAAKI,EAAG4S,KAAIhU,EAAEgU,GAAK5S,EAAE4S,IAI7D,OAAOhU,IAGoBL,MAAMpC,KAAMgE,YAGvC7C,GAAgD,SAAUC,EAASC,EAAYC,EAAGC,GAOpF,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9DO,GAAoD,SAAUjB,EAASkB,GACzE,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACXC,MAASD,EAAK,GACdE,OAAUF,EAAK,IACI,oBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WACvD,OAAOpD,OACL0C,EAEJ,SAASM,EAAKK,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAE3B,KAAOb,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARc,EAAG,GAASf,EAAU,OAAIe,EAAG,GAAKf,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEgB,KAAKjB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QAEzB2B,EAAG,IACT,KAAK,EACL,KAAK,EACHd,EAAIc,EACJ,MAEF,KAAK,EAEH,OADAZ,EAAEC,QACK,CACLhB,MAAO2B,EAAG,GACVrB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIe,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKZ,EAAEI,IAAIW,MAEXf,EAAEG,KAAKY,MAEP,SAEF,QACE,KAAkBjB,GAAZA,EAAIE,EAAEG,MAAYa,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFZ,EAAI,EACJ,SAGF,GAAc,IAAVY,EAAG,MAAcd,GAAKc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAK,CACvDE,EAAEC,MAAQW,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIc,EACJ,MAGF,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAI9C,KAAKsD,GAEX,MAGEd,EAAE,IAAIE,EAAEI,IAAIW,MAEhBf,EAAEG,KAAKY,MAEP,SAGJH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GACxB,MAAOZ,GACPwB,EAAK,CAAC,EAAGxB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EACvBrB,MAAM,GAlFCL,CAAK,CAACwB,EAAGC,OA2FlB6a,GAAwB,IAAI9H,EAAqC,EAAE,kBAEnE+H,GAEJ,SAAU5D,GAGR,SAAS6D,EAAe/W,QACN,IAAZA,IACFA,EAAU,IAGZ,IAAIM,EAAQ4S,EAAO/W,KAAKzD,KAAMsH,IAAYtH,KAG1C,OADA4H,EAAM0W,sBAAwB,GACvB1W,EA0LT,OApMA8V,GAAUW,EAAgB7D,GAa1B6D,EAAe3W,UAAUuP,gBAAkB,WACzC,MAAO,kBAGToH,EAAe3W,UAAU6W,gBAAkB,SAAUnP,EAAMoP,GACzD,IAAI5W,EAAQ5H,KAGZme,GAAsBnH,MAAM,oBAAqB5H,EAAK+C,aAE7B,wBAArB/C,EAAK+C,aAA8D,cAArB/C,EAAK+C,cACF,oBAAxCnS,KAAKse,sBAAsBE,IACpCC,YAAW,WACT,OAAO7W,EAAM0W,sBAAsBE,GAAS,KAAM,CAChDhD,MAAOpM,EAAKoM,UAEb,GAGDxb,KAAK6W,SAAuD,oBAArC7W,KAAK6W,QAAQ2H,GAASnQ,YAC/CoQ,YAAW,WACT,OAAO7W,EAAMiP,QAAQ2H,GAASnQ,WAAW,KAAM,CAC7CmN,MAAOpM,EAAKoM,UAEb,IAIkB,WAArBpM,EAAK+C,cAC4C,oBAAxCnS,KAAKse,sBAAsBE,IACpCC,YAAW,WACT,OAAO7W,EAAM0W,sBAAsBE,GAAS,6BAC3C,GAGDxe,KAAK6W,SAAuD,oBAArC7W,KAAK6W,QAAQ2H,GAASnQ,YAC/CoQ,YAAW,WACT,OAAO7W,EAAMiP,QAAQ2H,GAASnQ,WAAW,6BACxC,KAKTgQ,EAAe3W,UAAUgX,YAAc,SAAUF,EAASjR,GACxD,OAAOpM,GAAUnB,UAAM,OAAQ,GAAQ,WACrC,IAAI2e,EAAaC,EAAQC,EAAuBjW,EAAO8E,EAAS0E,EAAa0M,EAAoB1P,EAAM2P,EAAY5U,EACnH,OAAO9H,GAAYrC,MAAM,SAAU6H,GACjC,OAAQA,EAAGjF,OACT,KAAK,EACH,OAAK5C,KAAK6W,QAAQ2H,GAMX,CAAC,EAENpB,GAAiC,EAAEnK,OAP5B,CAAC,EAENzR,QAAQE,OAAO,OAAS8c,EAAU,oBAOxC,KAAK,EAGH,KAFAG,EAAc9W,EAAGhF,QAGf,MAAO,CAAC,EAENrB,QAAQE,OAAO,mBAQnB,GALA1B,KAAKgf,wBAA0B,IAAIzE,GAAgD,CACjF/B,OAAQxY,KAAK6W,QAAQ2H,GAAShG,OAC9BmG,YAAaA,EACbM,gBAAiBnX,OAAOuV,GAAsC,EAA7CvV,KAEM,kBAAZyF,EAAuB,MAAO,CAAC,EAE1C,GACFqR,EAAS,CACPM,SAAUlf,KAAK6W,QAAQ2H,GAASW,MAChCrQ,QAAS0P,EACTzC,UAAWxO,EACX6R,OAAQT,EAAYU,YAEtBlB,GAAsBnH,MAAM,kBAAmBzJ,GAC/C1F,EAAGjF,MAAQ,EAEb,KAAK,EAIH,OAHAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,EAAE,CAAE,IAErB4e,EAAkB,IAAI1C,GAAgCyC,GAC/C,CAAC,EAEN5e,KAAKgf,wBAAwBjN,KAAK8M,IAEtC,KAAK,EAGH,OAFAzP,EAAOvH,EAAGhF,OACV7C,KAAKue,gBAAgBnP,EAAMoP,GACpB,CAAC,EAENpP,GAEJ,KAAK,EAEH,OADAxG,EAAQf,EAAGhF,OACJ,CAAC,EAENrB,QAAQE,OAAOkH,IAEnB,KAAK,EACH,MAAO,CAAC,EAEN,IAEJ,KAAK,EACH8E,EAAUH,EAAQG,QAAS0E,EAAc7E,EAAQjG,QAAQ8K,YAGvDwM,EADkB,UAAhBxM,EACO,CACP8M,SAAUlf,KAAK6W,QAAQ2H,GAASW,MAChCrQ,QAAS0P,EACTc,YAAa,iCACbC,YAAa7R,EACb0R,OAAQT,EAAYU,WACpBG,OAAQ,cAGD,CACPN,SAAUlf,KAAK6W,QAAQ2H,GAASW,MAChCrQ,QAAS0P,EACTc,YAAa,4BACbC,YAAa7R,EACb0R,OAAQT,EAAYU,WACpBG,OAAQ,cAIZrB,GAAsBnH,MAAM,qBAAsBzJ,GAClD1F,EAAGjF,MAAQ,EAEb,KAAK,EAIH,OAHAiF,EAAG/E,KAAK7C,KAAK,CAAC,EAAG,GAAG,CAAE,KAEtB6e,EAAqB,IAAI5B,GAAsC0B,GACxD,CAAC,EAEN5e,KAAKgf,wBAAwBjN,KAAK+M,IAEtC,KAAK,EAEH,OADA1P,EAAOvH,EAAGhF,OACH,CAAC,EAENya,GAAQlO,EAAKkD,cAEjB,KAAK,EAGH,OAFAyM,EAAalX,EAAGhF,OAChB7C,KAAKue,gBAAgBnP,EAAMoP,GACpB,CAAC,EAENN,GAAsBA,GAAsB,GAAI9O,GAAO,CACvDkD,YAAayM,KAGjB,KAAK,GAEH,OADA5U,EAAQtC,EAAGhF,OACJ,CAAC,EAENrB,QAAQE,OAAOyI,IAEnB,KAAK,GACH,MAAO,CAAC,WAQlBkU,EAAe3W,UAAU2G,WAAa,SAAUmQ,EAASiB,GACvD,IAAKzf,KAAK6W,QAAQ2H,GAChB,MAAM,IAAIkB,WAAW,OAASlB,EAAU,mBAG1Cxe,KAAKse,sBAAsBE,GAAWiB,GAGjCpB,EArMT,CAsMEzH,GAIE+I,GAAyD,WAa3D,OAZAA,GAAsB7X,OAAO0O,QAAU,SAAU/T,GAC/C,IAAK,IAAIoB,EAAGC,EAAI,EAAGT,EAAIW,UAAUL,OAAQG,EAAIT,EAAGS,IAG9C,IAAK,IAAI2S,KAFT5S,EAAIG,UAAUF,GAGRgE,OAAOJ,UAAUgP,eAAejT,KAAKI,EAAG4S,KAAIhU,EAAEgU,GAAK5S,EAAE4S,IAI7D,OAAOhU,IAGkBL,MAAMpC,KAAMgE,YAGrC4b,GAA2D,SAAUxe,EAASC,EAAYC,EAAGC,GAO/F,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9D+d,GAA+D,SAAUze,EAASkB,GACpF,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACXC,MAASD,EAAK,GACdE,OAAUF,EAAK,IACI,oBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WACvD,OAAOpD,OACL0C,EAEJ,SAASM,EAAKK,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAE3B,KAAOb,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARc,EAAG,GAASf,EAAU,OAAIe,EAAG,GAAKf,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEgB,KAAKjB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QAEzB2B,EAAG,IACT,KAAK,EACL,KAAK,EACHd,EAAIc,EACJ,MAEF,KAAK,EAEH,OADAZ,EAAEC,QACK,CACLhB,MAAO2B,EAAG,GACVrB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIe,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKZ,EAAEI,IAAIW,MAEXf,EAAEG,KAAKY,MAEP,SAEF,QACE,KAAkBjB,GAAZA,EAAIE,EAAEG,MAAYa,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFZ,EAAI,EACJ,SAGF,GAAc,IAAVY,EAAG,MAAcd,GAAKc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAK,CACvDE,EAAEC,MAAQW,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIc,EACJ,MAGF,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAI9C,KAAKsD,GAEX,MAGEd,EAAE,IAAIE,EAAEI,IAAIW,MAEhBf,EAAEG,KAAKY,MAEP,SAGJH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GACxB,MAAOZ,GACPwB,EAAK,CAAC,EAAGxB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EACvBrB,MAAM,GAlFCL,CAAK,CAACwB,EAAGC,OAyFlBwc,GAAsB,IAAIzJ,EAAqC,EAAE,gBA0HjEtC,GAAe,IAtHnB,WAME,SAASgM,EAAkBzY,GACzBtH,KAAKggB,SAAW1Y,EAChBwY,GAAoB9I,MAAM,uBAAwBhX,KAAKggB,UACvDhgB,KAAKigB,YAAc,GAyGrB,OAtGAF,EAAkBrY,UAAUwY,cAAgB,WAC1C,MAAO,gBASTH,EAAkBrY,UAAUoP,UAAY,SAAUxP,GAChD,IAAIM,EAAQ5H,KAERmgB,EAAM7Y,EAAUA,EAAQyM,cAAgBzM,EAAU,GACtDwY,GAAoB9I,MAAM,yBAA0B,CAClDmJ,IAAKA,IAEPngB,KAAKggB,SAAWL,GAAoBA,GAAoB,CACtDS,KAAM,IACLD,GAAMA,EAAIpM,cACb,IAAIsM,EAAkBrgB,KAAKggB,SAASK,gBAChCC,EAActgB,KAAKggB,SAASI,KAuBhC,OArBKtY,OAAOyY,KAAKD,GAAa3c,QAAU0c,GAElCpc,MAAMuc,QAAQH,IAChBA,EAAgBI,SAAQ,SAAUC,GAChC9Y,EAAMoY,SAASI,KAAKM,EAAIjN,MAAQiN,MAMjC1gB,KAAKigB,YAAY5B,gBAAkBiC,GAAexY,OAAOyY,KAAKD,GAAahT,KAAI,SAAUqT,GAC5F,OAAOL,EAAYK,MAClBC,MAAK,SAAUF,GAChB,OAAQA,EAAIG,cAAqC,mBAArBH,EAAIG,kBAEhC7gB,KAAKigB,YAAY5B,eAAiB,IAAID,IAGxCtW,OAAOyY,KAAKvgB,KAAKigB,aAAa3S,KAAI,SAAUqT,GAC1C/Y,EAAMqY,YAAYU,GAAK7J,UAAUlP,EAAMoY,SAASI,SAE3CpgB,KAAKggB,UAGdD,EAAkBrY,UAAUoZ,aAAe,SAAUC,GACnD,GAAIA,GAAyC,iBAA5BA,EAAU7J,cAAkC,CAC3D,GAAKlX,KAAKigB,YAAYc,EAAU9J,mBAK9B,MAAM,IAAI3I,MAAM,OAASyS,EAAU9J,kBAAoB,oBAFvD,OAFA8J,EAAUjK,UAAU9W,KAAKggB,SAASI,WAClCpgB,KAAKigB,YAAYc,EAAU9J,mBAAqB8J,KAQtDhB,EAAkBrY,UAAUqK,KAAO,SAAUyM,EAASjR,GACpD,OAAOqS,GAAqB5f,UAAM,OAAQ,GAAQ,WAChD,IAAIghB,EACJ,OAAOnB,GAAuB7f,MAAM,SAAU6H,GAC5C,OAAQA,EAAGjF,OACT,KAAK,EACH,IAAK5C,KAAKggB,SAASI,OAASpgB,KAAKggB,SAASI,KAAK5B,GAC7C,MAAM,IAAIlQ,MAAM,OAASkQ,EAAU,mBAKrC,GAFAwC,EAAchhB,KAAKggB,SAASI,KAAK5B,GAASqC,cAAgB,kBAErD7gB,KAAKigB,YAAYe,GACpB,MAAM,IAAI1S,MAAM,OAAS0S,EAAc,gEAGzC,MAAO,CAAC,EAENhhB,KAAKigB,YAAYe,GAAatC,YAAYF,EAASjR,IAEvD,KAAK,EACH,MAAO,CAAC,EAEN1F,EAAGhF,gBAMfkd,EAAkBrY,UAAU2G,WAAa,SAAUmQ,EAASiB,GAC1D,IAAKzf,KAAKggB,SAASI,OAASpgB,KAAKggB,SAASI,KAAK5B,GAC7C,MAAM,IAAIlQ,MAAM,OAASkQ,EAAU,mBAGrC,IAAIwC,EAAchhB,KAAKggB,SAASI,KAAK5B,GAASqC,cAAgB,iBAE9D,IAAK7gB,KAAKigB,YAAYe,GACpB,MAAM,IAAI1S,MAAM,OAAS0S,EAAc,gEAGzChhB,KAAKigB,YAAYe,GAAa3S,WAAWmQ,EAASiB,IAG7CM,EAlHT,GAsHmB,CAAmC,MACtDzJ,EAAyB,EAAE2K,SAASlN,KAI9BmN,IACA,SAAU/gB,EAAQC,EAAqBC,GAE7C,cAC4B,SAAS8gB,GAEN9gB,EAAoBE,EAAEH,EAAqB,KAAK,WAAa,OAAOghB,KACpE/gB,EAAoBE,EAAEH,EAAqB,KAAK,WAAa,OAAOihB,KAIpEhhB,EAAoBE,EAAEH,EAAqB,KAAK,WAAa,OAAOkhB,KACpEjhB,EAAoBE,EAAEH,EAAqB,KAAK,WAAa,OAAOmhB,KAE9E,IAAIC,EAAqCnhB,EAAoB,GACzDohB,EAAsDphB,EAAoB,GAC1EqhB,EAAsDrhB,EAAoB,GA8I/F+gB,EAA2C,SAAkD5b,EAAOsE,GACtG,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAI6Z,EAASC,EAAsCC,EAAYvf,EAAMuF,EAAI6Q,EAAUoJ,EAAIC,EAAUC,EAEjG,OAAOla,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAUiiB,GACvF,OAAQA,EAAGrf,OACT,KAAK,EAiBH,GAhBA+e,EAAU7Z,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,CACnUoa,eAAgB,2BAChBC,uBAAwB,oBACvBC,EAA0B5c,EAAMmW,oBAAsB,CACvD0G,+BAAgClB,EAAO1T,KAAKiU,EAA4E,EAAEY,WAAW9c,EAAMmW,oBAAoB4G,SAAS,YACtKH,EAA0B5c,EAAMsW,oBAAsB,CACxD0G,+BAAgCrB,EAAO1T,KAAKiU,EAA4E,EAAEY,WAAW9c,EAAMsW,oBAAoByG,SAAS,YACtKH,EAA0B5c,EAAM8Z,cAAgB,CAClD4C,eAAgB1c,EAAM8Z,cACpB8C,EAA0B5c,EAAMga,SAAW,CAC7CA,OAAQha,EAAMga,SACZ4C,EAA0B5c,EAAMqW,iBAAmB,CACrD4G,4BAA6BtB,EAAO1T,KAAKiU,EAA4E,EAAEY,WAAW9c,EAAMqW,iBAAiB0G,SAAS,YAEpKX,EAAe,6DAEOxR,IAAlB5K,EAAMsJ,QASR,MAAM,IAAIR,MAAM,oDANhB,IAFAuT,EAAarc,EAAMsJ,SAEJnL,QAAU,EACvB,MAAM,IAAI2K,MAAM,uDAQpB,GALEsT,EAAeA,EAAa9I,QAAQ,YAAahR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,SAK9HzR,IAAnB5K,EAAM0Z,SASR,MAAM,IAAI5Q,MAAM,qDANhB,IAFAuT,EAAarc,EAAM0Z,UAEJvb,QAAU,EACvB,MAAM,IAAI2K,MAAM,wDAQpB,GALEsT,EAAeA,EAAa9I,QAAQ,aAAchR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,SAKjIzR,IAAjB5K,EAAM4Z,OASR,MAAM,IAAI9Q,MAAM,mDANhB,IAFAuT,EAAarc,EAAM4Z,QAEJzb,QAAU,EACvB,MAAM,IAAI2K,MAAM,sDAYpB,OATEsT,EAAeA,EAAa9I,QAAQ,WAAYhR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,SAK1HzR,IAAtB5K,EAAM+Z,cACRjd,EAAOkD,EAAM+Z,aAGR,CAAC,EAENzV,EAAQ4Y,YAEZ,KAAK,EAEH,OADA7a,EAAKoa,EAAGpf,OAAQ6V,EAAW7Q,EAAG6Q,SAAUoJ,EAAKja,EAAGka,SAAUA,OAAkB,IAAPD,EAAgB,QAAUA,EAAIE,EAAOna,EAAGma,KACtG,CAAC,EAEN,IAAIP,EAAyE,EAAE,CAC/EM,SAAUA,EACVrJ,SAAUA,EACVsJ,KAAMA,EACNW,OAAQ,OACRhB,QAASA,EACTiB,KAAMhB,EACNtf,KAAMA,aAMd+e,EAAwC,SAA+C7b,EAAOsE,GAChG,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAI6Z,EAASC,EAAsCC,EAAYvf,EAAMuF,EAAI6Q,EAAUoJ,EAAIC,EAAUC,EAEjG,OAAOla,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAUiiB,GACvF,OAAQA,EAAGrf,OACT,KAAK,EAMH,GALA+e,EAAU,CACRO,eAAgB,oBAElBN,EAAe,0DAEOxR,IAAlB5K,EAAMsJ,QASR,MAAM,IAAIR,MAAM,oDANhB,IAFAuT,EAAarc,EAAMsJ,SAEJnL,QAAU,EACvB,MAAM,IAAI2K,MAAM,uDAQpB,GALEsT,EAAeA,EAAa9I,QAAQ,YAAahR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,SAK9HzR,IAAnB5K,EAAM0Z,SASR,MAAM,IAAI5Q,MAAM,qDANhB,IAFAuT,EAAarc,EAAM0Z,UAEJvb,QAAU,EACvB,MAAM,IAAI2K,MAAM,wDAQpB,GALEsT,EAAeA,EAAa9I,QAAQ,aAAchR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,SAKjIzR,IAAjB5K,EAAM4Z,OASR,MAAM,IAAI9Q,MAAM,mDANhB,IAFAuT,EAAarc,EAAM4Z,QAEJzb,QAAU,EACvB,MAAM,IAAI2K,MAAM,sDAiBpB,OAdEsT,EAAeA,EAAa9I,QAAQ,WAAYhR,OAAO4Z,EAAwF,EAA/F5Z,CAAkG+Z,IAKpJvf,EAAOugB,KAAKC,UAAUhb,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,QAA6BsI,IAAzB5K,EAAMqW,gBAAyD,OAAzBrW,EAAMqW,gBAA2B,CAC3VA,eAAgBkH,EAAyCvd,EAAMqW,eAAgB/R,UACzDsG,IAApB5K,EAAMuW,WAA+C,OAApBvW,EAAMuW,WAAsB,CAC/DA,UAAWvW,EAAMuW,iBACa3L,IAA5B5K,EAAMsW,mBAA+D,OAA5BtW,EAAMsW,mBAA8B,CAC/EA,kBAAmBkH,EAAgCxd,EAAMsW,kBAAmBhS,UAC9CsG,IAA5B5K,EAAMmW,mBAA+D,OAA5BnW,EAAMmW,mBAA8B,CAC/EA,kBAAmBqH,EAAgCxd,EAAMmW,kBAAmB7R,MAEvE,CAAC,EAENA,EAAQ4Y,YAEZ,KAAK,EAEH,OADA7a,EAAKoa,EAAGpf,OAAQ6V,EAAW7Q,EAAG6Q,SAAUoJ,EAAKja,EAAGka,SAAUA,OAAkB,IAAPD,EAAgB,QAAUA,EAAIE,EAAOna,EAAGma,KACtG,CAAC,EAEN,IAAIP,EAAyE,EAAE,CAC/EM,SAAUA,EACVrJ,SAAUA,EACVsJ,KAAMA,EACNW,OAAQ,OACRhB,QAASA,EACTiB,KAAMhB,EACNtf,KAAMA,aAogBdgf,EAA6C,SAAoD/b,EAAQuE,GAC3G,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GACvF,OAA0B,MAAtBtC,EAAO2d,YAAsB3d,EAAO2d,YAAc,IAC7C,CAAC,EAENC,EAAgD5d,EAAQuE,KAG5DmZ,EAAW,CACTG,UAAWC,EAAoB9d,GAC/BsW,oBAAgBzL,EAChB4L,wBAAoB5L,EACpBkC,iBAAalC,EACbkT,gBAAYlT,EACZkP,iBAAalP,EACb+B,iBAAa/B,EACbiC,qBAAiBjC,EACjBmT,gBAAYnT,EACZ7C,aAAS6C,EACToT,mBAAepT,EACfqT,yBAAqBrT,EACrBsT,uBAAmBtT,EACnBuL,uBAAmBvL,EACnBuT,eAAWvT,EACXwT,kBAAcxT,EACdoL,WAAOpL,QAG8BA,IAAnC7K,EAAOoc,QAAQ,kBACjBsB,EAAS3D,YAAc/Z,EAAOoc,QAAQ,sBAGQvR,IAA5C7K,EAAOoc,QAAQ,2BACjBsB,EAASM,WAAahe,EAAOoc,QAAQ,+BAGmBvR,IAAtD7K,EAAOoc,QAAQ,qCACjBsB,EAASQ,oBAAsB,IAAI/B,EAA4E,EAAEP,EAAO1T,KAAKlI,EAAOoc,QAAQ,mCAAoC,UAAUY,SAAS,gBAG7InS,IAApD7K,EAAOoc,QAAQ,mCACjBsB,EAASjH,mBAAqB,IAAI0F,EAA4E,EAAEP,EAAO1T,KAAKlI,EAAOoc,QAAQ,iCAAkC,UAAUY,SAAS,gBAGxJnS,IAAtC7K,EAAOoc,QAAQ,qBACjBsB,EAASzH,MAAQ,IAAIkG,EAA4E,EAAEP,EAAO1T,KAAKlI,EAAOoc,QAAQ,mBAAoB,UAAUY,SAAS,gBAGhHnS,IAAnD7K,EAAOoc,QAAQ,kCACjBsB,EAAStH,kBAAoB,IAAI+F,EAA4E,EAAEP,EAAO1T,KAAKlI,EAAOoc,QAAQ,gCAAiC,UAAUY,SAAS,gBAGlJnS,IAA1C7K,EAAOoc,QAAQ,yBACjBsB,EAASS,kBAAoBne,EAAOoc,QAAQ,6BAGFvR,IAAxC7K,EAAOoc,QAAQ,uBACjBsB,EAAS1V,QAAUhI,EAAOoc,QAAQ,2BAGevR,IAA/C7K,EAAOoc,QAAQ,8BACjBsB,EAASO,cAAgBje,EAAOoc,QAAQ,kCAGOvR,IAA7C7K,EAAOoc,QAAQ,4BACjBsB,EAAS9Q,YAAc5M,EAAOoc,QAAQ,gCAGWvR,IAA/C7K,EAAOoc,QAAQ,8BACjBsB,EAASW,aAAere,EAAOoc,QAAQ,kCAGYvR,IAAjD7K,EAAOoc,QAAQ,gCACjBsB,EAAS5Q,gBAAkB9M,EAAOoc,QAAQ,oCAGIvR,IAA5C7K,EAAOoc,QAAQ,2BACjBsB,EAASK,WAAa/d,EAAOoc,QAAQ,+BAGQvR,IAA3C7K,EAAOoc,QAAQ,0BACjBsB,EAASU,UAAYpe,EAAOoc,QAAQ,8BAGcvR,IAAhD7K,EAAOoc,QAAQ,+BACjBsB,EAASpH,eAAiB,IAAI6F,EAA4E,EAAEP,EAAO1T,KAAKlI,EAAOoc,QAAQ,6BAA8B,UAAUY,SAAS,WAG1LnT,EAAO7J,EAAOjD,KACd2gB,EAAS3Q,YAAclD,EAChB,CAAC,EAEN5N,QAAQC,QAAQwhB,YAKpBE,EAAkD,SAAyD5d,EAAQuE,GACrH,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAI+b,EAAchc,EAAIgK,EAAUiS,EAAe7B,EAAI8B,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAYlX,EAEnGmX,EAEJ,OAAO5c,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU2kB,GACvF,OAAQA,EAAG/hB,OACT,KAAK,EAGH,OAFAiF,EAAK,CAACC,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAIvC,IACzEmf,EAAK,GACE,CAAC,EAENE,EAAUrf,EAAOjD,KAAMwH,IAE3B,KAAK,EAMH,OALA+Z,EAAerC,EAAqD,EAAEpf,WAAM,EAAQyF,EAAG6U,OAAO,EAAEgI,EAAGpiB,KAAOqiB,EAAG9hB,OAAQ6hB,MACrHZ,EAAY,eACZA,EAAYe,EAAsBtf,EAAQse,EAAavhB,MAClDwhB,GAGH,IAAK,sBAKL,IAAK,sDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,sBAKL,IAAK,sDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,oBAKL,IAAK,oDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,4BAKL,IAAK,4DACH,MAAO,CAAC,EAEN,GAEJ,IAAK,2BAKL,IAAK,2DACH,MAAO,CAAC,EAEN,IAEJ,IAAK,yBAKL,IAAK,yDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,wBAKL,IAAK,wDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,yBAKL,IAAK,yDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,oBAKL,IAAK,oDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,0BAKL,IAAK,0DACH,MAAO,CAAC,EAEN,IAEJ,IAAK,gCAKL,IAAK,gEACH,MAAO,CAAC,EAEN,IAGN,MAAO,CAAC,EAEN,IAEJ,KAAK,EAEH,OADA7B,EAAK,CAAC,IACC,CAAC,EAEN6C,EAAoDjB,EAAc/Z,IAEtE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ6f,EAAGvF,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADAwe,EAAK,CAAC,IACC,CAAC,EAENgB,EAAoDlB,EAAc/Z,IAEtE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ2hB,EAAGrH,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADAye,EAAK,CAAC,IACC,CAAC,EAENgB,EAAkDnB,EAAc/Z,IAEpE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ4hB,EAAGtH,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADA0e,EAAK,CAAC,IACC,CAAC,EAENgB,EAA0DpB,EAAc/Z,IAE5E,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ6hB,EAAGvH,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA2e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAyDrB,EAAc/Z,IAE3E,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ8hB,EAAGxH,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA4e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAuDtB,EAAc/Z,IAEzE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ+hB,EAAGzH,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA6e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAsDvB,EAAc/Z,IAExE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQgiB,EAAG1H,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA8e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAuDxB,EAAc/Z,IAEzE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQiiB,EAAG3H,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA+e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAkDzB,EAAc/Z,IAEpE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQkiB,EAAG5H,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADAgf,EAAK,CAAC,IACC,CAAC,EAENgB,EAAwD1B,EAAc/Z,IAE1E,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQmiB,EAAG7H,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADAif,EAAK,CAAC,IACC,CAAC,EAENgB,EAA8D3B,EAAc/Z,IAEhF,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQoiB,EAAG9H,OAAO,CAACiI,EAAG9hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GACHkf,EAAaZ,EAAavhB,KAC1BwhB,EAAYW,EAAWgB,MAAQhB,EAAWiB,MAAQ5B,EAClDjS,EAAW/J,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2c,GAAa,CACxJhR,KAAM,GAAKqQ,EACXvW,QAASkX,EAAWlX,SAAWkX,EAAWkB,SAAW7B,EACrD8B,OAAQ,SACRxC,UAAWC,EAAoB9d,KAEjCof,EAAG/hB,MAAQ,GAEb,KAAK,GAIH,OAHA2K,EAAUsE,EAAStE,SAAWsE,EAAS8T,SAAW7B,EAClDjS,EAAStE,QAAUA,SACZsE,EAAS8T,QACT,CAAC,EAENnkB,QAAQE,OAAOoG,OAAO0O,OAAO,IAAIlI,MAAMf,GAAUsE,aAMzD0P,EAA0C,SAAiDhc,EAAQuE,GACrG,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GACvF,OAAQA,EAAGjF,OACT,KAAK,EACH,OAA0B,MAAtB2C,EAAO2d,YAAsB3d,EAAO2d,YAAc,IAC7C,CAAC,EAEN2C,EAA6CtgB,EAAQuE,KAGzDmZ,EAAW,CACTG,UAAWC,EAAoB9d,GAC/BsW,oBAAgBzL,EAChB4L,wBAAoB5L,EACpBkT,gBAAYlT,EACZ+B,iBAAa/B,EACbmT,gBAAYnT,EACZ7C,aAAS6C,EACToT,mBAAepT,EACfqT,yBAAqBrT,EACrB0V,kBAAc1V,EACdsT,uBAAmBtT,EACnBuL,uBAAmBvL,EACnBuT,eAAWvT,EACXwT,kBAAcxT,EACdoL,WAAOpL,GAEF,CAAC,EAENwU,EAAUrf,EAAOjD,KAAMwH,KAE3B,KAAK,EA2DH,YAxD4BsG,KAF5BhB,EAAOvH,EAAGhF,QAEDgZ,gBAAwD,OAAxBzM,EAAKyM,iBAC5CoH,EAASpH,eAAiBkK,EAA2C3W,EAAKyM,eAAgB/R,SAG5DsG,IAA5BhB,EAAK4M,oBAAgE,OAA5B5M,EAAK4M,qBAChDiH,EAASjH,mBAAqBgK,EAAmC5W,EAAK4M,mBAAoBlS,SAGpEsG,IAApBhB,EAAKkU,YAAgD,OAApBlU,EAAKkU,aACxCL,EAASK,WAAalU,EAAKkU,iBAGJlT,IAArBhB,EAAK+C,aAAkD,OAArB/C,EAAK+C,cACzC8Q,EAAS9Q,YAAc/C,EAAK+C,kBAGN/B,IAApBhB,EAAKmU,YAAgD,OAApBnU,EAAKmU,aACxCN,EAASM,WAAanU,EAAKmU,iBAGRnT,IAAjBhB,EAAK7B,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,cAGC6C,IAAvBhB,EAAKoU,eAAsD,OAAvBpU,EAAKoU,gBAC3CP,EAASO,cAAgBpU,EAAKoU,oBAGCpT,IAA7BhB,EAAKqU,qBAAkE,OAA7BrU,EAAKqU,sBACjDR,EAASQ,oBAAsBwC,EAAyC7W,EAAKqU,oBAAqB3Z,SAG1EsG,IAAtBhB,EAAK0W,cAAoD,OAAtB1W,EAAK0W,eAC1C7C,EAAS6C,aAAeI,EAAqC9W,EAAK0W,aAAchc,SAGnDsG,IAA3BhB,EAAKsU,mBAA8D,OAA3BtU,EAAKsU,oBAC/CT,EAASS,kBAAoByC,EAA0C/W,EAAKsU,kBAAmB5Z,SAGlEsG,IAA3BhB,EAAKuM,mBAA8D,OAA3BvM,EAAKuM,oBAC/CsH,EAAStH,kBAAoByK,EAAkChX,EAAKuM,kBAAmB7R,SAGlEsG,IAAnBhB,EAAKuU,WAA8C,OAAnBvU,EAAKuU,YACvCV,EAASU,UAAYvU,EAAKuU,gBAGFvT,IAAtBhB,EAAKwU,cAAoD,OAAtBxU,EAAKwU,eAC1CX,EAASW,aAAexU,EAAKwU,mBAGZxT,IAAfhB,EAAKoM,OAAsC,OAAfpM,EAAKoM,QACnCyH,EAASzH,MAAQ4K,EAAkChX,EAAKoM,MAAO1R,IAG1D,CAAC,EAENtI,QAAQC,QAAQwhB,YAMxB4C,EAA+C,SAAsDtgB,EAAQuE,GAC/G,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAI+b,EAAchc,EAAIgK,EAAUiS,EAAe7B,EAAI8B,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAII,EAAYlX,EAEvF+W,EAEJ,OAAOxc,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAUukB,GACvF,OAAQA,EAAG3hB,OACT,KAAK,EAGH,OAFAiF,EAAK,CAACC,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAIvC,IACzE+e,EAAK,GACE,CAAC,EAENM,EAAUrf,EAAOjD,KAAMwH,IAE3B,KAAK,EAMH,OALA+Z,EAAerC,EAAqD,EAAEpf,WAAM,EAAQyF,EAAG6U,OAAO,EAAE4H,EAAGhiB,KAAOiiB,EAAG1hB,OAAQyhB,MACrHR,EAAY,eACZA,EAAYe,EAAsBtf,EAAQse,EAAavhB,MAClDwhB,GAGH,IAAK,sBAKL,IAAK,sDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,sBAKL,IAAK,sDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,oBAKL,IAAK,oDACH,MAAO,CAAC,EAEN,GAEJ,IAAK,4BAKL,IAAK,4DACH,MAAO,CAAC,EAEN,GAEJ,IAAK,2BAKL,IAAK,2DACH,MAAO,CAAC,EAEN,IAEJ,IAAK,yBAKL,IAAK,yDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,wBAKL,IAAK,wDACH,MAAO,CAAC,EAEN,IAEJ,IAAK,oBAKL,IAAK,oDACH,MAAO,CAAC,EAEN,IAGN,MAAO,CAAC,EAEN,IAEJ,KAAK,EAEH,OADA7B,EAAK,CAAC,IACC,CAAC,EAEN6C,EAAoDjB,EAAc/Z,IAEtE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ6f,EAAGvF,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADAwe,EAAK,CAAC,IACC,CAAC,EAENgB,EAAoDlB,EAAc/Z,IAEtE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ2hB,EAAGrH,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADAye,EAAK,CAAC,IACC,CAAC,EAENgB,EAAkDnB,EAAc/Z,IAEpE,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ4hB,EAAGtH,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,EAEH,OADA0e,EAAK,CAAC,IACC,CAAC,EAENgB,EAA0DpB,EAAc/Z,IAE5E,KAAK,EAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ6hB,EAAGvH,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA2e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAyDrB,EAAc/Z,IAE3E,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ8hB,EAAGxH,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA4e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAuDtB,EAAc/Z,IAEzE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQ+hB,EAAGzH,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA6e,EAAK,CAAC,IACC,CAAC,EAENgB,EAAsDvB,EAAc/Z,IAExE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQgiB,EAAG1H,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GAEH,OADA8e,EAAK,CAAC,IACC,CAAC,EAENiB,EAAkDzB,EAAc/Z,IAEpE,KAAK,GAKH,OAJA+H,EAAW2P,EAAqD,EAAEpf,WAAM,EAAQ,CAACof,EAAqD,EAAEpf,WAAM,EAAQiiB,EAAG3H,OAAO,CAAC6H,EAAG1hB,UAAW,CAC7K4Q,KAAMqQ,EACNV,UAAWC,EAAoB9d,MAE1B,CAAC,EAEN,IAEJ,KAAK,GACHkf,EAAaZ,EAAavhB,KAC1BwhB,EAAYW,EAAWgB,MAAQhB,EAAWiB,MAAQ5B,EAClDjS,EAAW/J,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2c,GAAa,CACxJhR,KAAM,GAAKqQ,EACXvW,QAASkX,EAAWlX,SAAWkX,EAAWkB,SAAW7B,EACrD8B,OAAQ,SACRxC,UAAWC,EAAoB9d,KAEjCgf,EAAG3hB,MAAQ,GAEb,KAAK,GAIH,OAHA2K,EAAUsE,EAAStE,SAAWsE,EAAS8T,SAAW7B,EAClDjS,EAAStE,QAAUA,SACZsE,EAAS8T,QACT,CAAC,EAENnkB,QAAQE,OAAOoG,OAAO0O,OAAO,IAAIlI,MAAMf,GAAUsE,aA0UzDiT,EAAsD,SAA6DjB,EAAc/Z,GACnI,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,sBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/B8B,aAASvV,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXqjB,SAA0C,OAAjBvW,EAAKuW,UACrC1C,EAAS0C,QAAUvW,EAAKuW,SAGnB,CAAC,EAEN1C,UAKJ8B,EAAsD,SAA6DlB,EAAc/Z,GACnI,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,sBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJ+B,EAAoD,SAA2DnB,EAAc/Z,GAC/H,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,oBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJgC,EAA4D,SAAmEpB,EAAc/Z,GAC/I,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,4BACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/B8B,aAASvV,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXqjB,SAA0C,OAAjBvW,EAAKuW,UACrC1C,EAAS0C,QAAUvW,EAAKuW,SAGnB,CAAC,EAEN1C,UAKJiC,EAA2D,SAAkErB,EAAc/Z,GAC7I,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,2BACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJkC,EAAyD,SAAgEtB,EAAc/Z,GACzI,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAmBvF,OAlBAob,EAAW,CACTxP,KAAM,yBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,EACTiW,uBAAmBjW,QAGuBA,IAAxCyT,EAAalC,QAAQ,iBACvBsB,EAASoD,kBAAoBxC,EAAalC,QAAQ,qBAK/BvR,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJmC,EAAwD,SAA+DvB,EAAc/Z,GACvI,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,wBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/B8B,aAASvV,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXqjB,SAA0C,OAAjBvW,EAAKuW,UACrC1C,EAAS0C,QAAUvW,EAAKuW,SAGnB,CAAC,EAEN1C,UAKJoC,EAAyD,SAAgExB,EAAc/Z,GACzI,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,yBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJqC,EAAoD,SAA2DzB,EAAc/Z,GAC/H,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,oBACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJsC,EAA0D,SAAiE1B,EAAc/Z,GAC3I,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,0BACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAKJuC,EAAgE,SAAuE3B,EAAc/Z,GACvJ,OAAOhC,OAAO0Z,EAAsD,EAA7D1Z,MAAgE,OAAQ,OAAQ,GAAQ,WAC7F,IAAImb,EAAU7T,EACd,OAAOtH,OAAO0Z,EAAwD,EAA/D1Z,CAAkE9H,MAAM,SAAU6H,GAavF,OAZAob,EAAW,CACTxP,KAAM,gCACNmS,OAAQ,SACRxC,UAAWC,EAAoBQ,GAC/BtW,aAAS6C,QAIUA,KAFrBhB,EAAOyU,EAAavhB,MAEXiL,SAA0C,OAAjB6B,EAAK7B,UACrC0V,EAAS1V,QAAU6B,EAAK7B,SAGnB,CAAC,EAEN0V,UAeJqD,EAAmD,SAA0D9gB,EAAOsE,GACtH,OAAOhC,OAAOye,QAAQ/gB,GAAOghB,QAAO,SAAUC,EAAK5e,GACjD,IAAIia,EAEAG,EAAKna,OAAO0Z,EAAmD,EAA1D1Z,CAA6DD,EAAI,GACtE8Y,EAAMsB,EAAG,GACTrgB,EAAQqgB,EAAG,GAEf,OAAc,OAAVrgB,EACK6kB,EAGF3e,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2e,KAAO3E,EAAK,IAAOnB,GAAO/e,EAAOkgB,MACzK,KAGDiB,EAA2C,SAAkDvd,EAAOsE,GACtG,OAAOtE,EAAMkhB,QAAO,SAAU3kB,GAC5B,OAAY,MAALA,KACNuL,KAAI,SAAUqZ,GACf,OAAc,OAAVA,EACK,KA/B6B,SAA6CnhB,EAAOsE,GAC5F,OAAOhC,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,QAAmBsI,IAAf5K,EAAMiO,MAAqC,OAAfjO,EAAMiO,MAAiB,CACzPA,KAAMjO,EAAMiO,YACWrD,IAArB5K,EAAM+V,YAAiD,OAArB/V,EAAM+V,YAAuB,CACjEA,WAAY+K,EAAiD9gB,EAAM+V,WAAYzR,UACxDsG,IAArB5K,EAAMohB,YAAiD,OAArBphB,EAAMohB,YAAuB,CACjEA,WAAYC,EAA8CrhB,EAAMohB,WAAY9c,KA4BrEgd,CAAoCH,EAAO7c,OAIlD+c,EAAgD,SAAuDrhB,EAAOsE,GAChH,OAAOhC,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,QAAkCsI,IAA9B5K,EAAMuhB,qBAAmE,OAA9BvhB,EAAMuhB,qBAAgC,CACxNA,oBAAqBvhB,EAAMuhB,2BACH3W,IAAtB5K,EAAMwhB,aAAmD,OAAtBxhB,EAAMwhB,aAAwB,CACnEA,YAAaxhB,EAAMwhB,eAoDnBhE,EAAkC,SAAyCxd,EAAOsE,GACpF,OAAOhC,OAAOye,QAAQ/gB,GAAOghB,QAAO,SAAUC,EAAK5e,GACjD,IAAIia,EAEAG,EAAKna,OAAO0Z,EAAmD,EAA1D1Z,CAA6DD,EAAI,GACtE8Y,EAAMsB,EAAG,GACTrgB,EAAQqgB,EAAG,GAEf,OAAc,OAAVrgB,EACK6kB,EAGF3e,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2e,KAAO3E,EAAK,IAAOnB,GAAO/e,EAAOkgB,MACzK,KAWDmF,EAAqD,SAA4D1hB,EAAQuE,GAC3H,OAAOhC,OAAOye,QAAQhhB,GAAQihB,QAAO,SAAUC,EAAK5e,GAClD,IAAIia,EAEAG,EAAKna,OAAO0Z,EAAmD,EAA1D1Z,CAA6DD,EAAI,GACtE8Y,EAAMsB,EAAG,GACTrgB,EAAQqgB,EAAG,GAEf,OAAc,OAAVrgB,EACK6kB,EAGF3e,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2e,KAAO3E,EAAK,IAAOnB,GAAO/e,EAAOkgB,MACzK,KAGDiE,EAA6C,SAAoDxgB,EAAQuE,GAC3G,OAAQvE,GAAU,IAAImhB,QAAO,SAAU3kB,GACrC,OAAY,MAALA,KACNuL,KAAI,SAAUqZ,GACf,OAAc,OAAVA,EACK,KA7B+B,SAA+CphB,EAAQuE,GACjG,MAAO,CACL2J,UAAsBrD,IAAhB7K,EAAOkO,MAAsC,OAAhBlO,EAAOkO,KAAgBlO,EAAOkO,UAAOrD,EACxEmL,gBAAkCnL,IAAtB7K,EAAOgW,YAAkD,OAAtBhW,EAAOgW,WAAsB0L,EAAmD1hB,EAAOgW,WAAYzR,QAAWsG,EAC7JwW,gBAAkCxW,IAAtB7K,EAAOqhB,YAAkD,OAAtBrhB,EAAOqhB,WAAsBM,EAAgD3hB,EAAOqhB,WAAY9c,QAAWsG,GA4BnJ+W,CAAsCR,EAAO7c,OAIpDod,EAAkD,SAAyD3hB,EAAQuE,GACrH,MAAO,CACLid,yBAAoD3W,IAA/B7K,EAAOwhB,qBAAoE,OAA/BxhB,EAAOwhB,oBAA+BxhB,EAAOwhB,yBAAsB3W,EACpI4W,iBAAoC5W,IAAvB7K,EAAOyhB,aAAoD,OAAvBzhB,EAAOyhB,YAAuBzhB,EAAOyhB,iBAAc5W,IAiCpGgX,EAAgD,SAAuD7hB,EAAQuE,GACjH,OAAQvE,GAAU,IAAImhB,QAAO,SAAU3kB,GACrC,OAAY,MAALA,KACNuL,KAAI,SAAUqZ,GACf,OAAc,OAAVA,EACK,KAfmC,SAAmDphB,EAAQuE,GACzG,MAAO,CACLud,uBAAgDjX,IAA7B7K,EAAO8hB,mBAAgE,OAA7B9hB,EAAO8hB,kBAA6B9hB,EAAO8hB,uBAAoBjX,EAC5HkX,aAA4BlX,IAAnB7K,EAAO+hB,SAA4C,OAAnB/hB,EAAO+hB,QAAmBC,EAAsChiB,EAAO+hB,QAASxd,QAAWsG,EACpIoX,cAA8BpX,IAApB7K,EAAOiiB,UAA8C,OAApBjiB,EAAOiiB,SAAoBjiB,EAAOiiB,cAAWpX,EACxFqX,cAA8BrX,IAApB7K,EAAOkiB,UAA8C,OAApBliB,EAAOkiB,SAAoBliB,EAAOkiB,cAAWrX,EACxFsX,WAAwBtX,IAAjB7K,EAAOmiB,OAAwC,OAAjBniB,EAAOmiB,MAAiBniB,EAAOmiB,WAAQtX,GAYrEuX,CAA0ChB,EAAO7c,OAIxDmc,EAA2C,SAAkD1gB,EAAQuE,GACvG,MAAO,CACL8d,WAAwBxX,IAAjB7K,EAAOqiB,OAAwC,OAAjBriB,EAAOqiB,MAAiBriB,EAAOqiB,WAAQxX,IAI5E4V,EAAqC,SAA4CzgB,EAAQuE,GAC3F,OAAQvE,GAAU,IAAImhB,QAAO,SAAU3kB,GACrC,OAAY,MAALA,KACNuL,KAAI,SAAUqZ,GACf,OAAc,OAAVA,EACK,KAGFkB,EAAwClB,EAAO7c,OA4BtDyd,EAAwC,SAA+ChiB,EAAQuE,GACjG,OAAQvE,GAAU,IAAImhB,QAAO,SAAU3kB,GACrC,OAAY,MAALA,KACNuL,KAAI,SAAUqZ,GACf,OAAc,OAAVA,EACK,KAxFwB,SAAwCphB,EAAQuE,GACnF,MAAO,CACLmD,UAAsBmD,IAAhB7K,EAAO0H,MAAsC,OAAhB1H,EAAO0H,KAAgB1H,EAAO0H,UAAOmD,EACxExO,WAAwBwO,IAAjB7K,EAAO3D,OAAwC,OAAjB2D,EAAO3D,MAAiB2D,EAAO3D,WAAQwO,GAwFrE0X,CAA+BnB,OAItCkB,EAA0C,SAAiDtiB,EAAQuE,GACrG,MAAO,CACLyZ,gBAAkCnT,IAAtB7K,EAAOge,YAAkD,OAAtBhe,EAAOge,WAAsBhe,EAAOge,gBAAanT,EAChGqT,yBAAoDrT,IAA/B7K,EAAOke,qBAAoE,OAA/Ble,EAAOke,oBAA+BwC,EAAyC1gB,EAAOke,oBAAqB3Z,QAAWsG,EACvLoL,WAAwBpL,IAAjB7K,EAAOiW,OAAwC,OAAjBjW,EAAOiW,MAAiB4K,EAAkC7gB,EAAOiW,MAAO1R,QAAWsG,IAIxH8V,EAAuC,SAA8C3gB,EAAQuE,GAC/F,MAAO,CACLwV,iBAAoClP,IAAvB7K,EAAO+Z,aAAoD,OAAvB/Z,EAAO+Z,YAAuB/Z,EAAO+Z,iBAAclP,EACpG2X,wBAAkD3X,IAA9B7K,EAAOwiB,oBAAkE,OAA9BxiB,EAAOwiB,mBAA8BX,EAA8C7hB,EAAOwiB,mBAAoBje,QAAWsG,EACxLqJ,aAA4BrJ,IAAnB7K,EAAOkU,SAA4C,OAAnBlU,EAAOkU,QAAmBlU,EAAOkU,aAAUrJ,IAIpF+V,EAA4C,SAAmD5gB,EAAQuE,GACzG,MAAO,CACLke,oBAA0C5X,IAA1B7K,EAAOyiB,gBAA0D,OAA1BziB,EAAOyiB,eAA0BziB,EAAOyiB,oBAAiB5X,EAChH6X,oBAA0C7X,IAA1B7K,EAAO0iB,gBAA0D,OAA1B1iB,EAAO0iB,eAA0B1iB,EAAO0iB,oBAAiB7X,IAIhHgW,EAAoC,SAA2C7gB,EAAQuE,GACzF,OAAOhC,OAAOye,QAAQhhB,GAAQihB,QAAO,SAAUC,EAAK5e,GAClD,IAAIia,EAEAG,EAAKna,OAAO0Z,EAAmD,EAA1D1Z,CAA6DD,EAAI,GACtE8Y,EAAMsB,EAAG,GACTrgB,EAAQqgB,EAAG,GAEf,OAAc,OAAVrgB,EACK6kB,EAGF3e,OAAO0Z,EAAqD,EAA5D1Z,CAA+DA,OAAO0Z,EAAqD,EAA5D1Z,CAA+D,GAAI2e,KAAO3E,EAAK,IAAOnB,GAAO/e,EAAOkgB,MACzK,KAGDuB,EAAsB,SAA6B9d,GACrD,IAAIsC,EAEJ,MAAO,CACLqgB,eAAgB3iB,EAAO2d,WACvBiF,UAAyD,QAA7CtgB,EAAKtC,EAAOoc,QAAQ,2BAAwC,IAAP9Z,EAAgBA,EAAKtC,EAAOoc,QAAQ,qBACrGyG,kBAAmB7iB,EAAOoc,QAAQ,cAClC0G,KAAM9iB,EAAOoc,QAAQ,iBAkBrB2G,EAAoB,SAA2BC,EAAYze,GAC7D,OAdgB,SAAqBye,EAAYze,GAKjD,YAJmB,IAAfye,IACFA,EAAa,IAAIzc,YAGfyc,aAAsBzc,WACjBtK,QAAQC,QAAQ8mB,GAGlBze,EAAQ+P,gBAAgB0O,IAAe/mB,QAAQC,QAAQ,IAAIqK,YAK3D0c,CAAYD,EAAYze,GAAS3H,MAAK,SAAUG,GACrD,OAAOwH,EAAQiQ,YAAYzX,OAI3B8f,EAA4B,SAAmCxgB,GACjE,YAAiBwO,IAAVxO,GAAiC,OAAVA,GAA4B,KAAVA,KAAkBkG,OAAO2gB,oBAAoB7mB,GAAO8mB,SAAS,WAA6B,GAAhB9mB,EAAM+B,WAAkBmE,OAAO2gB,oBAAoB7mB,GAAO8mB,SAAS,SAAyB,GAAd9mB,EAAM+mB,OAG5M/D,EAAY,SAAmB2D,EAAYze,GAC7C,OAAOwe,EAAkBC,EAAYze,GAAS3H,MAAK,SAAUymB,GAC3D,OAAIA,EAAQjlB,OACHkf,KAAKgG,MAAMD,GAGb,OAQP/D,EAAwB,SAA+Btf,EAAQ6J,GACjE,IAA+B0Z,EAAQnI,EAMnCoI,EAAoB,SAA2BC,GACjD,IAAIC,EAAaD,EAUjB,OARIC,EAAWC,QAAQ,MAAQ,IAC7BD,EAAaA,EAAWE,MAAM,KAAK,IAGjCF,EAAWC,QAAQ,MAAQ,IAC7BD,EAAaA,EAAWE,MAAM,KAAK,IAG9BF,GAGLG,GApB2BN,EAoBPvjB,EAAOoc,QApBQhB,EAoBC,mBAnB/B7Y,OAAOyY,KAAKuI,GAAQlI,MAAK,SAAU1c,GACxC,OAAOA,EAAEmlB,gBAAkB1I,EAAI0I,kBAoBnC,YAAkBjZ,IAAdgZ,EACKL,EAAkBxjB,EAAOoc,QAAQyH,SAGxBhZ,IAAdhB,EAAKqW,KACAsD,EAAkB3Z,EAAKqW,WAGTrV,IAAnBhB,EAAa,OACR2Z,EAAkB3Z,EAAa,QAGjC,MAEoB3L,KAAKzD,KAAMK,EAAoB,GAAG8gB,SAIzDmI,IACA,SAAUnpB,GAEhBA,EAAOopB,QAAU1G,KAAKgG,MAAM"},"input":"(this[\"webpackJsonpamplify-s3final\"] = this[\"webpackJsonpamplify-s3final\"] || []).push([[4],{\n\n/***/ 601:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_chatbot\", function() { return AmplifyChatbot; });\n/* harmony import */ var _index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);\n/* harmony import */ var _aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(625);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = undefined && undefined.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\n\n\n\n\n\n // AudioRecorder settings\n\nvar RECORDER_EXPORT_MIME_TYPE = 'application/octet-stream';\nvar DEFAULT_EXPORT_SAMPLE_RATE = 16000;\nvar FFT_SIZE = 2048; // window size in samples for Fast Fourier Transform (FFT)\n\nvar FFT_MAX_DECIBELS = -10; // maximum power value in the scaling range for the FFT analysis data\n\nvar FFT_MIN_DECIBELS = -90; // minimum power value in the scaling range for the FFT analysis data\n\nvar FFT_SMOOTHING_TIME_CONSTANT = 0.85; // averaging constant with the last analysis frame\n\n/**\n * Merges multiple buffers into one.\n */\n\nvar mergeBuffers = function mergeBuffers(bufferArray, recLength) {\n  var result = new Float32Array(recLength);\n  var offset = 0;\n\n  for (var i = 0; i < bufferArray.length; i++) {\n    result.set(bufferArray[i], offset);\n    offset += bufferArray[i].length;\n  }\n\n  return result;\n};\n/**\n * Downsamples audio to desired export sample rate.\n */\n\n\nvar downsampleBuffer = function downsampleBuffer(buffer, recordSampleRate, exportSampleRate) {\n  if (exportSampleRate === recordSampleRate) {\n    return buffer;\n  }\n\n  var sampleRateRatio = recordSampleRate / exportSampleRate;\n  var newLength = Math.round(buffer.length / sampleRateRatio);\n  var result = new Float32Array(newLength);\n  var offsetResult = 0;\n  var offsetBuffer = 0;\n\n  while (offsetResult < result.length) {\n    var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n    var accum = 0,\n        count = 0;\n\n    for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n      accum += buffer[i];\n      count++;\n    }\n\n    result[offsetResult] = accum / count;\n    offsetResult++;\n    offsetBuffer = nextOffsetBuffer;\n  }\n\n  return result;\n};\n/**\n * converts raw audio values to 16 bit pcm.\n */\n\n\nvar floatTo16BitPCM = function floatTo16BitPCM(output, offset, input) {\n  var byteOffset = offset;\n\n  for (var i = 0; i < input.length; i++, byteOffset += 2) {\n    var s = Math.max(-1, Math.min(1, input[i]));\n    output.setInt16(byteOffset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n  }\n};\n/**\n * Write given strings in big-endian order.\n */\n\n\nvar writeString = function writeString(view, offset, string) {\n  for (var i = 0; i < string.length; i++) {\n    view.setUint8(offset + i, string.charCodeAt(i));\n  }\n};\n/**\n * Encodes raw pcm audio into a wav file.\n */\n\n\nvar encodeWAV = function encodeWAV(samples, exportSampleRate) {\n  /**\n   * WAV file consists of three parts: RIFF header, WAVE subchunk, and data subchunk. We precompute the size of them.\n   */\n  var audioSize = samples.length * 2; // We use 16-bit samples, so we have (2 * sampleLength) bytes.\n\n  var fmtSize = 24; // Byte size of the fmt subchunk: 24 bytes that the audio information that we'll set below.\n\n  var dataSize = 8 + audioSize; // Byte size of the data subchunk: raw sound data plus 8 bytes for the subchunk descriptions.\n\n  var totalByteSize = 12 + fmtSize + dataSize; // Byte size of the whole file, including the chunk header / descriptor.\n  // create DataView object to write byte values into\n\n  var buffer = new ArrayBuffer(totalByteSize); // buffer to write the chunk values in.\n\n  var view = new DataView(buffer);\n  /**\n   * Start writing the .wav file. We write top to bottom, so byte offset (first numeric argument) increases strictly.\n   */\n  // RIFF header\n\n  writeString(view, 0, 'RIFF'); // At offset 0, write the letters \"RIFF\"\n\n  view.setUint32(4, fmtSize + dataSize, true); // At offset 4, write the size of fmt and data chunk size combined.\n\n  writeString(view, 8, 'WAVE'); // At offset 8, write the format type \"WAVE\"\n  // fmt subchunk\n\n  writeString(view, 12, 'fmt '); //chunkdId 'fmt '\n\n  view.setUint32(16, fmtSize - 8, true); // fmt subchunk size below this value. We set 8 bytes already, so subtract 8 bytes from fmtSize.\n\n  view.setUint16(20, 1, true); // Audio format code, which is 1 for PCM.\n\n  view.setUint16(22, 1, true); // Number of audio channels. We use mono, ie 1.\n\n  view.setUint32(24, exportSampleRate, true); // Sample rate of the audio file.\n\n  view.setUint32(28, exportSampleRate * 2, true); // Data rate, or # of data bytes per second. Since each sample is 2 bytes, this is 2 * sampleRate.\n\n  view.setUint16(32, 2, true); // block align, # of bytes per sample including all channels, ie. 2 bytes.\n\n  view.setUint16(34, 16, true); // bits per sample, ie. 16 bits\n  // data subchunk\n\n  writeString(view, 36, 'data'); // write the chunkId 'data'\n\n  view.setUint32(40, audioSize, true); // Audio byte size\n\n  floatTo16BitPCM(view, 44, samples); // raw pcm values then go here.\n\n  return view;\n};\n/**\n * Given arrays of raw pcm audio, downsamples the audio to desired sample rate and encodes it to a wav audio file.\n *\n * @param recBuffer {Float32Array[]} - 2d float array containing the recorded raw audio\n * @param recLength {number} - total length of recorded audio\n * @param recordSampleRate {number} - sample rate of the recorded audio\n * @param exportSampleRate {number} - desired sample rate of the exported file\n */\n\n\nvar exportBuffer = function exportBuffer(recBuffer, recLength, recordSampleRate, exportSampleRate) {\n  var mergedBuffers = mergeBuffers(recBuffer, recLength);\n  var downsampledBuffer = downsampleBuffer(mergedBuffers, recordSampleRate, exportSampleRate);\n  var encodedWav = encodeWAV(downsampledBuffer, exportSampleRate);\n  var audioBlob = new Blob([encodedWav], {\n    type: RECORDER_EXPORT_MIME_TYPE\n  });\n  return audioBlob;\n};\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* ConsoleLogger */ \"a\"]('AudioRecorder');\n\nvar AudioRecorder =\n/** @class */\nfunction () {\n  function AudioRecorder(options) {\n    // input mic stream is stored in a buffer\n    this.streamBuffer = [];\n    this.streamBufferLength = 0;\n    this.recording = false;\n    this.options = options;\n  }\n  /**\n   * This must be called first to enable audio context and request microphone access.\n   * Once access granted, it connects all the necessary audio nodes to the context so that it can begin recording or playing.\n   */\n\n\n  AudioRecorder.prototype.init = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* browserOrNode */ \"b\"])().isBrowser) return [3\n            /*break*/\n            , 2];\n            window.AudioContext = window.AudioContext || window.webkitAudioContext;\n            this.audioContext = new AudioContext();\n            return [4\n            /*yield*/\n            , navigator.mediaDevices.getUserMedia({\n              audio: true\n            }).then(function (stream) {\n              _this.audioSupported = true;\n\n              _this.setupAudioNodes(stream);\n            }).catch(function () {\n              _this.audioSupported = false;\n              return Promise.reject('Audio is not supported');\n            })];\n\n          case 1:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            this.audioSupported = false;\n            return [2\n            /*return*/\n            , Promise.reject('Audio is not supported')];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * Setup audio nodes after successful `init`.\n   */\n\n\n  AudioRecorder.prototype.setupAudioNodes = function (stream) {\n    return __awaiter(this, void 0, void 0, function () {\n      var err_1, sourceNode, processorNode, analyserNode;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , this.audioContext.resume()];\n\n          case 1:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            err_1 = _a.sent();\n            logger.error(err_1);\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            sourceNode = this.audioContext.createMediaStreamSource(stream);\n            processorNode = this.audioContext.createScriptProcessor(4096, 1, 1);\n\n            processorNode.onaudioprocess = function (audioProcessingEvent) {\n              if (!_this.recording) return;\n              var stream = audioProcessingEvent.inputBuffer.getChannelData(0);\n\n              _this.streamBuffer.push(new Float32Array(stream)); // set to a copy of the stream\n\n\n              _this.streamBufferLength += stream.length;\n\n              _this.analyse();\n            };\n\n            analyserNode = this.audioContext.createAnalyser();\n            analyserNode.minDecibels = FFT_MIN_DECIBELS;\n            analyserNode.maxDecibels = FFT_MAX_DECIBELS;\n            analyserNode.smoothingTimeConstant = FFT_SMOOTHING_TIME_CONSTANT;\n            sourceNode.connect(analyserNode);\n            analyserNode.connect(processorNode);\n            processorNode.connect(sourceNode.context.destination);\n            this.analyserNode = analyserNode;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * Start recording audio and listen for silence.\n   *\n   * @param onSilence {SilenceHandler} - called whenever silence is detected\n   * @param visualizer {Visualizer} - called with audio data on each audio process to be used for visualization.\n   */\n\n\n  AudioRecorder.prototype.startRecording = function (onSilence, visualizer) {\n    return __awaiter(this, void 0, void 0, function () {\n      var context, err_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this.recording || !this.audioSupported) return [2\n            /*return*/\n            ];\n\n            this.onSilence = onSilence || function () {};\n\n            this.visualizer = visualizer || function () {};\n\n            context = this.audioContext;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , context.resume()];\n\n          case 2:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            err_2 = _a.sent();\n            logger.error(err_2);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            this.start = Date.now();\n            this.recording = true;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * Pause recording\n   */\n\n\n  AudioRecorder.prototype.stopRecording = function () {\n    if (!this.audioSupported) return;\n    this.recording = false;\n  };\n  /**\n   * Pause recording and clear audio buffer\n   */\n\n\n  AudioRecorder.prototype.clear = function () {\n    this.stopRecording();\n    this.streamBufferLength = 0;\n    this.streamBuffer = [];\n  };\n  /**\n   * Plays given audioStream with audioContext\n   *\n   * @param buffer {Uint8Array} - audioStream to be played\n   */\n\n\n  AudioRecorder.prototype.play = function (buffer) {\n    var _this = this;\n\n    if (!buffer || !this.audioSupported) return;\n    var myBlob = new Blob([buffer]);\n    return new Promise(function (res, rej) {\n      var fileReader = new FileReader();\n\n      fileReader.onload = function () {\n        if (_this.playbackSource) _this.playbackSource.disconnect(); // disconnect previous playback source\n\n        _this.playbackSource = _this.audioContext.createBufferSource();\n\n        var successCallback = function successCallback(buf) {\n          _this.playbackSource.buffer = buf;\n\n          _this.playbackSource.connect(_this.audioContext.destination);\n\n          _this.playbackSource.onended = function () {\n            return res();\n          };\n\n          _this.playbackSource.start(0);\n        };\n\n        var errorCallback = function errorCallback(err) {\n          return rej(err);\n        };\n\n        _this.audioContext.decodeAudioData(fileReader.result, successCallback, errorCallback);\n      };\n\n      fileReader.onerror = function () {\n        return rej();\n      };\n\n      fileReader.readAsArrayBuffer(myBlob);\n    });\n  };\n  /**\n   * Stops playing audio if there's a playback source connected.\n   */\n\n\n  AudioRecorder.prototype.stop = function () {\n    if (this.playbackSource) {\n      this.playbackSource.stop();\n    }\n  };\n  /**\n   * Called after each audioProcess. Check for silence and give fft time domain data to visualizer.\n   */\n\n\n  AudioRecorder.prototype.analyse = function () {\n    if (!this.audioSupported) return;\n    var analyser = this.analyserNode;\n    analyser.fftSize = FFT_SIZE;\n    var bufferLength = analyser.fftSize;\n    var dataArray = new Uint8Array(bufferLength);\n    var amplitude = this.options.amplitude;\n    var time = this.options.time;\n    analyser.getByteTimeDomainData(dataArray);\n    this.visualizer(dataArray, bufferLength);\n\n    for (var i = 0; i < bufferLength; i++) {\n      // Normalize between -1 and 1.\n      var curr_value_time = dataArray[i] / 128 - 1.0;\n\n      if (curr_value_time > amplitude || curr_value_time < -1 * amplitude) {\n        this.start = Date.now();\n      }\n    }\n\n    var newtime = Date.now();\n    var elapsedTime = newtime - this.start;\n\n    if (elapsedTime > time) {\n      this.onSilence();\n    }\n  };\n  /**\n   * Encodes recorded buffer to a wav file and exports it to a blob.\n   *\n   * @param exportSampleRate {number} - desired sample rate of the exported buffer\n   */\n\n\n  AudioRecorder.prototype.exportWAV = function (exportSampleRate) {\n    if (exportSampleRate === void 0) {\n      exportSampleRate = DEFAULT_EXPORT_SAMPLE_RATE;\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var recordSampleRate, blob;\n      return __generator(this, function (_a) {\n        if (!this.audioSupported) return [2\n        /*return*/\n        ];\n        recordSampleRate = this.audioContext.sampleRate;\n        blob = exportBuffer(this.streamBuffer, this.streamBufferLength, recordSampleRate, exportSampleRate);\n        this.clear();\n        return [2\n        /*return*/\n        , blob];\n      });\n    });\n  };\n\n  return AudioRecorder;\n}();\n\nvar visualize = function visualize(dataArray, bufferLength, canvas) {\n  if (!canvas) return;\n  if (!Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* browserOrNode */ \"b\"])().isBrowser) throw new Error('Visualization is not supported on non-browsers.');\n\n  var _a = canvas.getBoundingClientRect(),\n      width = _a.width,\n      height = _a.height; // need to update the default canvas width and height\n\n\n  canvas.width = width;\n  canvas.height = height;\n  var canvasCtx = canvas.getContext('2d');\n  canvasCtx.fillStyle = 'white';\n  canvasCtx.clearRect(0, 0, width, height);\n\n  var draw = function draw() {\n    canvasCtx.fillRect(0, 0, width, height);\n    canvasCtx.lineWidth = 1;\n    var color = getComputedStyle(document.documentElement).getPropertyValue('--amplify-primary-color');\n    canvasCtx.strokeStyle = !color || color === '' ? '#ff9900' : color; // TODO: try separate css variable\n\n    canvasCtx.beginPath();\n    var sliceWidth = width * 1.0 / bufferLength;\n    var x = 0;\n\n    for (var i = 0; i < bufferLength || i % 3 === 0; i++) {\n      var value = dataArray[i] / 128.0;\n      var y = value * height / 2;\n\n      if (i === 0) {\n        canvasCtx.moveTo(x, y);\n      } else {\n        canvasCtx.lineTo(x, y);\n      }\n\n      x += sliceWidth;\n    }\n\n    canvasCtx.lineTo(canvas.width, canvas.height / 2);\n    canvasCtx.stroke();\n  }; // Register our draw function with requestAnimationFrame.\n\n\n  requestAnimationFrame(draw);\n};\n\nvar amplifyChatbotCss = \".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}\"; // enum for possible bot states\n\nvar ChatState;\n\n(function (ChatState) {\n  ChatState[ChatState[\"Initial\"] = 0] = \"Initial\";\n  ChatState[ChatState[\"Listening\"] = 1] = \"Listening\";\n  ChatState[ChatState[\"SendingText\"] = 2] = \"SendingText\";\n  ChatState[ChatState[\"SendingVoice\"] = 3] = \"SendingVoice\";\n  ChatState[ChatState[\"Error\"] = 4] = \"Error\";\n})(ChatState || (ChatState = {})); // Message types\n\n\nvar MessageFrom;\n\n(function (MessageFrom) {\n  MessageFrom[\"Bot\"] = \"bot\";\n  MessageFrom[\"User\"] = \"user\";\n})(MessageFrom || (MessageFrom = {})); // Error types\n\n\nvar ChatErrorType;\n\n(function (ChatErrorType) {\n  ChatErrorType[ChatErrorType[\"Recoverable\"] = 0] = \"Recoverable\";\n  ChatErrorType[ChatErrorType[\"Unrecoverable\"] = 1] = \"Unrecoverable\";\n})(ChatErrorType || (ChatErrorType = {}));\n\nvar AmplifyChatbot =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    var _this = this;\n\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Clear messages when conversation finishes */\n\n    this.clearOnComplete = false;\n    /** Continue listening to users after they send the message */\n\n    this.conversationModeOn = false;\n    /** Text placed in the top header */\n\n    this.botTitle = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].CHATBOT_TITLE;\n    /** Whether voice chat is enabled */\n\n    this.voiceEnabled = false;\n    /** Whether text chat is enabled */\n\n    this.textEnabled = true;\n    /** Amount of silence (in ms) to wait for */\n\n    this.silenceTime = 1500;\n    /** Noise threshold between -1 and 1. Anything below is considered a silence. */\n\n    this.silenceThreshold = 0.2;\n    /** Messages in current session */\n\n    this.messages = [];\n    /** Text input box value  */\n\n    this.text = '';\n    /** Current app state */\n\n    this.chatState = ChatState.Initial;\n    /**\n     * Rendering methods\n     */\n\n    this.messageJSX = function (messages) {\n      var messageList = messages.map(function (message) {\n        return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n          class: \"bubble \" + message.from\n        }, message.content);\n      });\n\n      if (_this.chatState === ChatState.SendingText || _this.chatState === ChatState.SendingVoice) {\n        // if waiting for voice message, show animation on user side because app is waiting for transcript. Else put it on bot side.\n        var client = _this.chatState === ChatState.SendingText ? MessageFrom.Bot : MessageFrom.User;\n        messageList.push(Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n          class: \"bubble \" + client\n        }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n          class: \"dot-flashing \" + client\n        }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", {\n          class: \"dot left\"\n        }), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", {\n          class: \"dot middle\"\n        }), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", {\n          class: \"dot right\"\n        }))));\n      }\n\n      return messageList;\n    };\n\n    this.chatCompleted = Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* c */ \"f\"])(this, \"chatCompleted\", 7);\n  } // Occurs when user presses enter in input box\n\n\n  class_1.prototype.submitHandler = function (_event) {\n    this.sendTextMessage();\n  };\n  /**\n   * Lifecycle functions\n   */\n\n\n  class_1.prototype.componentWillLoad = function () {\n    if (!_aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__[/* Interactions */ \"a\"] || typeof _aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__[/* Interactions */ \"a\"].onComplete !== 'function') {\n      throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_5__[/* d */ \"m\"]);\n    }\n\n    this.validateProps();\n  };\n\n  class_1.prototype.componentDidRender = function () {\n    // scroll to the bottom if necessary\n    var body = this.element.shadowRoot.querySelector('.body');\n    body.scrollTop = body.scrollHeight;\n  };\n\n  class_1.prototype.validateProps = function () {\n    var _this = this;\n\n    if (!this.voiceEnabled && !this.textEnabled) {\n      this.setError(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].CHAT_DISABLED_ERROR, ChatErrorType.Unrecoverable);\n      return;\n    } else if (!this.botName) {\n      this.setError(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].NO_BOT_NAME_ERROR, ChatErrorType.Unrecoverable);\n      return;\n    }\n\n    if (this.welcomeMessage) this.appendToChat(this.welcomeMessage, MessageFrom.Bot); // Initialize AudioRecorder if voice is enabled\n\n    if (this.voiceEnabled) {\n      this.audioRecorder = new AudioRecorder({\n        time: this.silenceTime,\n        amplitude: this.silenceThreshold\n      });\n      this.audioRecorder.init().catch(function (err) {\n        _this.setError(err, ChatErrorType.Recoverable);\n      });\n    } // Callback function to be called after chat is completed\n\n\n    var onComplete = function onComplete(err, data) {\n      _this.chatCompleted.emit({\n        data: data,\n        err: err\n      });\n\n      if (_this.clearOnComplete) {\n        _this.reset();\n      } else {\n        _this.chatState = ChatState.Initial;\n      }\n    };\n\n    try {\n      _aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__[/* Interactions */ \"a\"].onComplete(this.botName, onComplete);\n    } catch (err) {\n      this.setError(err, ChatErrorType.Unrecoverable);\n    }\n  };\n  /**\n   * Handlers\n   */\n\n\n  class_1.prototype.handleMicButton = function () {\n    var _this = this;\n\n    if (this.chatState !== ChatState.Initial) return;\n    this.audioRecorder.stop();\n    this.chatState = ChatState.Listening;\n    this.audioRecorder.startRecording(function () {\n      return _this.handleSilence();\n    }, function (data, length) {\n      return _this.visualizer(data, length);\n    });\n  };\n\n  class_1.prototype.handleSilence = function () {\n    var _this = this;\n\n    this.chatState = ChatState.SendingVoice;\n    this.audioRecorder.stopRecording();\n    this.audioRecorder.exportWAV().then(function (blob) {\n      _this.sendVoiceMessage(blob);\n    });\n  };\n\n  class_1.prototype.handleTextChange = function (event) {\n    var target = event.target;\n    this.text = target.value;\n  };\n\n  class_1.prototype.handleCancelButton = function () {\n    this.audioRecorder.clear();\n    this.chatState = ChatState.Initial;\n  };\n\n  class_1.prototype.handleToastClose = function (errorType) {\n    this.error = undefined; // clear error\n    // if error is recoverable, reset the app state to initial\n\n    if (errorType === ChatErrorType.Recoverable) {\n      this.chatState = ChatState.Initial;\n    }\n  };\n  /**\n   * Visualization\n   */\n\n\n  class_1.prototype.visualizer = function (dataArray, bufferLength) {\n    var canvas = this.element.shadowRoot.querySelector('canvas');\n    visualize(dataArray, bufferLength, canvas);\n  };\n  /**\n   * Interactions helpers\n   */\n\n\n  class_1.prototype.sendTextMessage = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var text, response, err_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this.text.length === 0 || this.chatState !== ChatState.Initial) return [2\n            /*return*/\n            ];\n            text = this.text;\n            this.text = '';\n            this.appendToChat(text, MessageFrom.User);\n            this.chatState = ChatState.SendingText;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__[/* Interactions */ \"a\"].send(this.botName, text)];\n\n          case 2:\n            response = _a.sent();\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            err_3 = _a.sent();\n            this.setError(err_3, ChatErrorType.Recoverable);\n            return [2\n            /*return*/\n            ];\n\n          case 4:\n            if (response.message) {\n              this.appendToChat(response.message, MessageFrom.Bot);\n            }\n\n            this.chatState = ChatState.Initial;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.sendVoiceMessage = function (audioInput) {\n    return __awaiter(this, void 0, void 0, function () {\n      var interactionsMessage, response, err_4, dialogState;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            interactionsMessage = {\n              content: audioInput,\n              options: {\n                messageType: 'voice'\n              }\n            };\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__[/* Interactions */ \"a\"].send(this.botName, interactionsMessage)];\n\n          case 2:\n            response = _a.sent();\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            err_4 = _a.sent();\n            this.setError(err_4, ChatErrorType.Recoverable);\n            return [2\n            /*return*/\n            ];\n\n          case 4:\n            this.chatState = ChatState.Initial;\n            dialogState = response.dialogState;\n            if (response.inputTranscript) this.appendToChat(response.inputTranscript, MessageFrom.User);\n            this.appendToChat(response.message, MessageFrom.Bot);\n            return [4\n            /*yield*/\n            , this.audioRecorder.play(response.audioStream).then(function () {\n              // if conversationMode is on, chat is incomplete, and mic button isn't pressed yet, resume listening.\n              if (_this.conversationModeOn && dialogState !== 'Fulfilled' && dialogState !== 'Failed' && _this.chatState === ChatState.Initial) {\n                _this.handleMicButton();\n              }\n            }).catch(function (err) {\n              return _this.setError(err, ChatErrorType.Recoverable);\n            })];\n\n          case 5:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.appendToChat = function (content, from) {\n    this.messages = __spreadArrays(this.messages, [{\n      content: content,\n      from: from\n    }]);\n  };\n  /**\n   * State control methods\n   */\n\n\n  class_1.prototype.setError = function (error, errorType) {\n    var message = typeof error === 'string' ? error : error.message;\n    this.chatState = ChatState.Error;\n    this.error = {\n      message: message,\n      errorType: errorType\n    };\n  };\n\n  class_1.prototype.reset = function () {\n    this.chatState = ChatState.Initial;\n    this.text = '';\n    this.error = undefined;\n    this.messages = [];\n    if (this.welcomeMessage) this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n    this.audioRecorder && this.audioRecorder.clear();\n  };\n\n  class_1.prototype.listeningFooterJSX = function () {\n    var _this = this;\n\n    var visualization = Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"canvas\", {\n      height: \"50\"\n    });\n    var cancelButton = Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      \"data-test\": \"chatbot-cancel-button\",\n      handleButtonClick: function handleButtonClick() {\n        return _this.handleCancelButton();\n      },\n      class: \"icon-button\",\n      variant: \"icon\",\n      icon: \"ban\"\n    });\n    return [visualization, cancelButton];\n  };\n\n  class_1.prototype.footerJSX = function () {\n    var _this = this;\n\n    if (this.chatState === ChatState.Listening) return this.listeningFooterJSX();\n    var inputPlaceholder = this.textEnabled ? _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].TEXT_INPUT_PLACEHOLDER : _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_4__[/* T */ \"a\"].VOICE_INPUT_PLACEHOLDER;\n    var textInput = Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-input\", {\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__[/* I18n */ \"a\"].get(inputPlaceholder),\n      description: \"text\",\n      handleInputChange: function handleInputChange(evt) {\n        return _this.handleTextChange(evt);\n      },\n      value: this.text,\n      disabled: this.chatState === ChatState.Error || !this.textEnabled\n    });\n    var micButton = this.voiceEnabled && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      \"data-test\": \"chatbot-mic-button\",\n      handleButtonClick: function handleButtonClick() {\n        return _this.handleMicButton();\n      },\n      class: \"icon-button\",\n      variant: \"icon\",\n      icon: \"microphone\",\n      disabled: this.chatState === ChatState.Error || this.chatState !== ChatState.Initial\n    });\n    var sendButton = this.textEnabled && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      \"data-test\": \"chatbot-send-button\",\n      class: \"icon-button\",\n      variant: \"icon\",\n      icon: \"send\",\n      handleButtonClick: function handleButtonClick() {\n        return _this.sendTextMessage();\n      },\n      disabled: this.chatState === ChatState.Error || this.chatState !== ChatState.Initial\n    });\n    return [textInput, micButton, sendButton];\n  };\n\n  class_1.prototype.errorToast = function () {\n    var _this = this;\n\n    if (!this.error) return;\n    var _a = this.error,\n        message = _a.message,\n        errorType = _a.errorType;\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-toast\", {\n      message: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__[/* I18n */ \"a\"].get(message),\n      handleClose: function handleClose() {\n        return _this.handleToastClose(errorType);\n      }\n    });\n  };\n\n  class_1.prototype.render = function () {\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"amplify-chatbot\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"header\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"header\",\n      \"data-test\": \"chatbot-header\"\n    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__[/* I18n */ \"a\"].get(this.botTitle))), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"body\",\n      \"data-test\": \"chatbot-body\"\n    }, this.messageJSX(this.messages)), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"footer\",\n      \"data-test\": \"chatbot-footer\"\n    }, this.footerJSX()), this.errorToast()));\n  };\n\n  Object.defineProperty(class_1.prototype, \"element\", {\n    get: function get() {\n      return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* g */ \"h\"])(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_1;\n}();\n\nAmplifyChatbot.style = amplifyChatbotCss;\n\n\n/***/ }),\n\n/***/ 625:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ Interactions; });\n\n// UNUSED EXPORTS: InteractionsClass\n\n// EXTERNAL MODULE: ./node_modules/@aws-amplify/core/lib-esm/Logger/ConsoleLogger.js\nvar ConsoleLogger = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/@aws-amplify/core/lib-esm/Amplify.js\nvar Amplify = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./node_modules/@aws-amplify/interactions/lib-esm/Providers/InteractionsProvider.js\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = undefined && undefined.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\n\nvar InteractionsProvider_logger = new ConsoleLogger[\"a\" /* ConsoleLogger */]('AbstractInteractionsProvider');\n\nvar AbstractInteractionsProvider =\n/** @class */\nfunction () {\n  function AbstractInteractionsProvider(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._config = options;\n  }\n\n  AbstractInteractionsProvider.prototype.configure = function (config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this._config = __assign(__assign({}, this._config), config);\n    InteractionsProvider_logger.debug(\"configure \" + this.getProviderName(), this._config);\n    return this.options;\n  };\n\n  AbstractInteractionsProvider.prototype.getCategory = function () {\n    return 'Interactions';\n  };\n\n  Object.defineProperty(AbstractInteractionsProvider.prototype, \"options\", {\n    get: function get() {\n      return __assign({}, this._config);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return AbstractInteractionsProvider;\n}();\n\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/package.json\nvar es_package = __webpack_require__(657);\n\n// EXTERNAL MODULE: ./node_modules/@aws-crypto/sha256-browser/build/index.js\nvar build = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/fetch-http-handler/dist/es/index.js + 4 modules\nvar es = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/invalid-dependency/dist/es/index.js + 2 modules\nvar dist_es = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-retry/dist/es/index.js + 11 modules\nvar middleware_retry_dist_es = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/util-base64-browser/dist/es/index.js\nvar util_base64_browser_dist_es = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/util-body-length-browser/dist/es/index.js\nvar util_body_length_browser_dist_es = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/util-user-agent-browser/dist/es/index.js + 1 modules\nvar util_user_agent_browser_dist_es = __webpack_require__(63);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js + 2 modules\nvar util_utf8_browser_dist_es = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/endpoints.js\n // Partition default templates\n\nvar AWS_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"runtime.lex.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"runtime.lex.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"runtime.lex.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\"; // Partition regions\n\nvar AWS_REGIONS = new Set([\"af-south-1\", \"ap-east-1\", \"ap-northeast-1\", \"ap-northeast-2\", \"ap-south-1\", \"ap-southeast-1\", \"ap-southeast-2\", \"ca-central-1\", \"eu-central-1\", \"eu-north-1\", \"eu-south-1\", \"eu-west-1\", \"eu-west-2\", \"eu-west-3\", \"me-south-1\", \"sa-east-1\", \"us-east-1\", \"us-east-2\", \"us-west-1\", \"us-west-2\"]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nvar endpoints_defaultRegionInfoProvider = function defaultRegionInfoProvider(region, options) {\n  var regionInfo = undefined;\n\n  switch (region) {\n    // First, try to match exact region names.\n    case \"ap-northeast-1\":\n      regionInfo = {\n        hostname: \"runtime.lex.ap-northeast-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"ap-southeast-1\":\n      regionInfo = {\n        hostname: \"runtime.lex.ap-southeast-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"ap-southeast-2\":\n      regionInfo = {\n        hostname: \"runtime.lex.ap-southeast-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"eu-central-1\":\n      regionInfo = {\n        hostname: \"runtime.lex.eu-central-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"eu-west-1\":\n      regionInfo = {\n        hostname: \"runtime.lex.eu-west-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"eu-west-2\":\n      regionInfo = {\n        hostname: \"runtime.lex.eu-west-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"us-east-1\":\n      regionInfo = {\n        hostname: \"runtime.lex.us-east-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n\n    case \"us-west-2\":\n      regionInfo = {\n        hostname: \"runtime.lex.us-west-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"lex\"\n      };\n      break;\n    // Next, try to match partition endpoints.\n\n    default:\n      if (AWS_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws\",\n          signingService: \"lex\"\n        };\n      }\n\n      if (AWS_CN_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-cn\"\n        };\n      }\n\n      if (AWS_ISO_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-iso\"\n        };\n      }\n\n      if (AWS_ISO_B_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-iso-b\"\n        };\n      }\n\n      if (AWS_US_GOV_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-us-gov\"\n        };\n      } // Finally, assume it's an AWS partition endpoint.\n\n\n      if (regionInfo === undefined) {\n        regionInfo = {\n          hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws\",\n          signingService: \"lex\"\n        };\n      }\n\n  }\n\n  return Promise.resolve(Object(tslib_es6[\"a\" /* __assign */])({\n    signingService: \"lex\"\n  }, regionInfo));\n};\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/url-parser/dist/es/index.js + 2 modules\nvar url_parser_dist_es = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.shared.js\n\n\n/**\n * @internal\n */\n\nvar ClientSharedValues = {\n  apiVersion: \"2016-11-28\",\n  disableHostPrefix: false,\n  logger: {},\n  regionInfoProvider: endpoints_defaultRegionInfoProvider,\n  serviceId: \"Lex Runtime Service\",\n  urlParser: url_parser_dist_es[\"a\" /* parseUrl */]\n};\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.browser.js\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @internal\n */\n\nvar ClientDefaultValues = Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, ClientSharedValues), {\n  runtime: \"browser\",\n  base64Decoder: util_base64_browser_dist_es[\"a\" /* fromBase64 */],\n  base64Encoder: util_base64_browser_dist_es[\"b\" /* toBase64 */],\n  bodyLengthChecker: util_body_length_browser_dist_es[\"a\" /* calculateBodyLength */],\n  credentialDefaultProvider: function credentialDefaultProvider(_) {\n    return function () {\n      return Promise.reject(new Error(\"Credential is missing\"));\n    };\n  },\n  defaultUserAgentProvider: Object(util_user_agent_browser_dist_es[\"a\" /* defaultUserAgent */])({\n    serviceId: ClientSharedValues.serviceId,\n    clientVersion: es_package.version\n  }),\n  maxAttempts: middleware_retry_dist_es[\"a\" /* DEFAULT_MAX_ATTEMPTS */],\n  region: Object(dist_es[\"a\" /* invalidProvider */])(\"Region is missing\"),\n  requestHandler: new es[\"a\" /* FetchHttpHandler */](),\n  sha256: build[\"Sha256\"],\n  streamCollector: es[\"b\" /* streamCollector */],\n  utf8Decoder: util_utf8_browser_dist_es[\"fromUtf8\"],\n  utf8Encoder: util_utf8_browser_dist_es[\"toUtf8\"]\n});\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/config-resolver/dist/es/index.js + 3 modules\nvar config_resolver_dist_es = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-content-length/dist/es/index.js + 1 modules\nvar middleware_content_length_dist_es = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-host-header/dist/es/index.js + 1 modules\nvar middleware_host_header_dist_es = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-logger/dist/es/index.js + 2 modules\nvar middleware_logger_dist_es = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-signing/dist/es/index.js + 3 modules\nvar middleware_signing_dist_es = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-user-agent/dist/es/index.js + 4 modules\nvar middleware_user_agent_dist_es = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/smithy-client/dist/es/index.js + 17 modules\nvar smithy_client_dist_es = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/LexRuntimeServiceClient.js\n\n\n\n\n\n\n\n\n\n\n/**\n * <p>Amazon Lex provides both build and runtime endpoints. Each endpoint provides a set of\n *       operations (API). Your conversational bot uses the runtime API to understand user utterances\n *       (user input text or voice). For example, suppose a user says \"I want pizza\", your bot sends\n *       this input to Amazon Lex using the runtime API. Amazon Lex recognizes that the user request is\n *       for the OrderPizza intent (one of the intents defined in the bot). Then Amazon Lex engages in\n *       user conversation on behalf of the bot to elicit required information (slot values, such as\n *       pizza size and crust type), and then performs fulfillment activity (that you configured when\n *       you created the bot). You use the build-time API to create and manage your Amazon Lex bot. For\n *       a list of build-time operations, see the build-time API, . </p>\n */\n\nvar LexRuntimeServiceClient_LexRuntimeServiceClient =\n/** @class */\nfunction (_super) {\n  Object(tslib_es6[\"c\" /* __extends */])(LexRuntimeServiceClient, _super);\n\n  function LexRuntimeServiceClient(configuration) {\n    var _this = this;\n\n    var _config_0 = Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, ClientDefaultValues), configuration);\n\n    var _config_1 = Object(config_resolver_dist_es[\"b\" /* resolveRegionConfig */])(_config_0);\n\n    var _config_2 = Object(config_resolver_dist_es[\"a\" /* resolveEndpointsConfig */])(_config_1);\n\n    var _config_3 = Object(middleware_signing_dist_es[\"b\" /* resolveAwsAuthConfig */])(_config_2);\n\n    var _config_4 = Object(middleware_retry_dist_es[\"c\" /* resolveRetryConfig */])(_config_3);\n\n    var _config_5 = Object(middleware_host_header_dist_es[\"b\" /* resolveHostHeaderConfig */])(_config_4);\n\n    var _config_6 = Object(middleware_user_agent_dist_es[\"b\" /* resolveUserAgentConfig */])(_config_5);\n\n    _this = _super.call(this, _config_6) || this;\n    _this.config = _config_6;\n\n    _this.middlewareStack.use(Object(middleware_signing_dist_es[\"a\" /* getAwsAuthPlugin */])(_this.config));\n\n    _this.middlewareStack.use(Object(middleware_retry_dist_es[\"b\" /* getRetryPlugin */])(_this.config));\n\n    _this.middlewareStack.use(Object(middleware_content_length_dist_es[\"a\" /* getContentLengthPlugin */])(_this.config));\n\n    _this.middlewareStack.use(Object(middleware_host_header_dist_es[\"a\" /* getHostHeaderPlugin */])(_this.config));\n\n    _this.middlewareStack.use(Object(middleware_logger_dist_es[\"a\" /* getLoggerPlugin */])(_this.config));\n\n    _this.middlewareStack.use(Object(middleware_user_agent_dist_es[\"a\" /* getUserAgentPlugin */])(_this.config));\n\n    return _this;\n  }\n\n  LexRuntimeServiceClient.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n  };\n\n  return LexRuntimeServiceClient;\n}(smithy_client_dist_es[\"a\" /* Client */]);\n\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/models/models_0.js\n\n\nvar models_0_ActiveContextTimeToLive;\n\n(function (ActiveContextTimeToLive) {\n  ActiveContextTimeToLive.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_ActiveContextTimeToLive || (models_0_ActiveContextTimeToLive = {}));\n\nvar models_0_ActiveContext;\n\n(function (ActiveContext) {\n  ActiveContext.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.parameters && {\n      parameters: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_ActiveContext || (models_0_ActiveContext = {}));\n\nvar models_0_BadRequestException;\n\n(function (BadRequestException) {\n  BadRequestException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_BadRequestException || (models_0_BadRequestException = {}));\n\nvar models_0_ConflictException;\n\n(function (ConflictException) {\n  ConflictException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_ConflictException || (models_0_ConflictException = {}));\n\nvar models_0_DeleteSessionRequest;\n\n(function (DeleteSessionRequest) {\n  DeleteSessionRequest.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_DeleteSessionRequest || (models_0_DeleteSessionRequest = {}));\n\nvar models_0_DeleteSessionResponse;\n\n(function (DeleteSessionResponse) {\n  DeleteSessionResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_DeleteSessionResponse || (models_0_DeleteSessionResponse = {}));\n\nvar models_0_InternalFailureException;\n\n(function (InternalFailureException) {\n  InternalFailureException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_InternalFailureException || (models_0_InternalFailureException = {}));\n\nvar models_0_LimitExceededException;\n\n(function (LimitExceededException) {\n  LimitExceededException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_LimitExceededException || (models_0_LimitExceededException = {}));\n\nvar models_0_NotFoundException;\n\n(function (NotFoundException) {\n  NotFoundException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_NotFoundException || (models_0_NotFoundException = {}));\n\nvar models_0_GetSessionRequest;\n\n(function (GetSessionRequest) {\n  GetSessionRequest.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_GetSessionRequest || (models_0_GetSessionRequest = {}));\n\nvar FulfillmentState;\n\n(function (FulfillmentState) {\n  FulfillmentState[\"FAILED\"] = \"Failed\";\n  FulfillmentState[\"FULFILLED\"] = \"Fulfilled\";\n  FulfillmentState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(FulfillmentState || (FulfillmentState = {}));\n\nvar MessageFormatType;\n\n(function (MessageFormatType) {\n  MessageFormatType[\"COMPOSITE\"] = \"Composite\";\n  MessageFormatType[\"CUSTOM_PAYLOAD\"] = \"CustomPayload\";\n  MessageFormatType[\"PLAIN_TEXT\"] = \"PlainText\";\n  MessageFormatType[\"SSML\"] = \"SSML\";\n})(MessageFormatType || (MessageFormatType = {}));\n\nvar DialogActionType;\n\n(function (DialogActionType) {\n  DialogActionType[\"CLOSE\"] = \"Close\";\n  DialogActionType[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n  DialogActionType[\"DELEGATE\"] = \"Delegate\";\n  DialogActionType[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n  DialogActionType[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n})(DialogActionType || (DialogActionType = {}));\n\nvar models_0_DialogAction;\n\n(function (DialogAction) {\n  DialogAction.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.slots && {\n      slots: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.message && {\n      message: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_DialogAction || (models_0_DialogAction = {}));\n\nvar ConfirmationStatus;\n\n(function (ConfirmationStatus) {\n  ConfirmationStatus[\"CONFIRMED\"] = \"Confirmed\";\n  ConfirmationStatus[\"DENIED\"] = \"Denied\";\n  ConfirmationStatus[\"NONE\"] = \"None\";\n})(ConfirmationStatus || (ConfirmationStatus = {}));\n\nvar models_0_IntentSummary;\n\n(function (IntentSummary) {\n  IntentSummary.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.slots && {\n      slots: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_IntentSummary || (models_0_IntentSummary = {}));\n\nvar models_0_GetSessionResponse;\n\n(function (GetSessionResponse) {\n  GetSessionResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.recentIntentSummaryView && {\n      recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) {\n        return models_0_IntentSummary.filterSensitiveLog(item);\n      })\n    }), obj.sessionAttributes && {\n      sessionAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.dialogAction && {\n      dialogAction: models_0_DialogAction.filterSensitiveLog(obj.dialogAction)\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_GetSessionResponse || (models_0_GetSessionResponse = {}));\n\nvar models_0_BadGatewayException;\n\n(function (BadGatewayException) {\n  BadGatewayException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_BadGatewayException || (models_0_BadGatewayException = {}));\n\nvar models_0_DependencyFailedException;\n\n(function (DependencyFailedException) {\n  DependencyFailedException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_DependencyFailedException || (models_0_DependencyFailedException = {}));\n\nvar models_0_LoopDetectedException;\n\n(function (LoopDetectedException) {\n  LoopDetectedException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_LoopDetectedException || (models_0_LoopDetectedException = {}));\n\nvar models_0_NotAcceptableException;\n\n(function (NotAcceptableException) {\n  NotAcceptableException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_NotAcceptableException || (models_0_NotAcceptableException = {}));\n\nvar models_0_PostContentRequest;\n\n(function (PostContentRequest) {\n  PostContentRequest.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.sessionAttributes && {\n      sessionAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.requestAttributes && {\n      requestAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PostContentRequest || (models_0_PostContentRequest = {}));\n\nvar DialogState;\n\n(function (DialogState) {\n  DialogState[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n  DialogState[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n  DialogState[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n  DialogState[\"FAILED\"] = \"Failed\";\n  DialogState[\"FULFILLED\"] = \"Fulfilled\";\n  DialogState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(DialogState || (DialogState = {}));\n\nvar models_0_PostContentResponse;\n\n(function (PostContentResponse) {\n  PostContentResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.message && {\n      message: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PostContentResponse || (models_0_PostContentResponse = {}));\n\nvar models_0_RequestTimeoutException;\n\n(function (RequestTimeoutException) {\n  RequestTimeoutException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_RequestTimeoutException || (models_0_RequestTimeoutException = {}));\n\nvar models_0_UnsupportedMediaTypeException;\n\n(function (UnsupportedMediaTypeException) {\n  UnsupportedMediaTypeException.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_UnsupportedMediaTypeException || (models_0_UnsupportedMediaTypeException = {}));\n\nvar models_0_PostTextRequest;\n\n(function (PostTextRequest) {\n  PostTextRequest.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.sessionAttributes && {\n      sessionAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.requestAttributes && {\n      requestAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.inputText && {\n      inputText: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PostTextRequest || (models_0_PostTextRequest = {}));\n\nvar models_0_IntentConfidence;\n\n(function (IntentConfidence) {\n  IntentConfidence.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_IntentConfidence || (models_0_IntentConfidence = {}));\n\nvar models_0_PredictedIntent;\n\n(function (PredictedIntent) {\n  PredictedIntent.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.slots && {\n      slots: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PredictedIntent || (models_0_PredictedIntent = {}));\n\nvar ContentType;\n\n(function (ContentType) {\n  ContentType[\"GENERIC\"] = \"application/vnd.amazonaws.card.generic\";\n})(ContentType || (ContentType = {}));\n\nvar models_0_Button;\n\n(function (Button) {\n  Button.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_Button || (models_0_Button = {}));\n\nvar models_0_GenericAttachment;\n\n(function (GenericAttachment) {\n  GenericAttachment.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_GenericAttachment || (models_0_GenericAttachment = {}));\n\nvar models_0_ResponseCard;\n\n(function (ResponseCard) {\n  ResponseCard.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_ResponseCard || (models_0_ResponseCard = {}));\n\nvar models_0_SentimentResponse;\n\n(function (SentimentResponse) {\n  SentimentResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])({}, obj);\n  };\n})(models_0_SentimentResponse || (models_0_SentimentResponse = {}));\n\nvar models_0_PostTextResponse;\n\n(function (PostTextResponse) {\n  PostTextResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.alternativeIntents && {\n      alternativeIntents: obj.alternativeIntents.map(function (item) {\n        return models_0_PredictedIntent.filterSensitiveLog(item);\n      })\n    }), obj.slots && {\n      slots: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.sessionAttributes && {\n      sessionAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.message && {\n      message: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PostTextResponse || (models_0_PostTextResponse = {}));\n\nvar models_0_PutSessionRequest;\n\n(function (PutSessionRequest) {\n  PutSessionRequest.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.sessionAttributes && {\n      sessionAttributes: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.dialogAction && {\n      dialogAction: models_0_DialogAction.filterSensitiveLog(obj.dialogAction)\n    }), obj.recentIntentSummaryView && {\n      recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) {\n        return models_0_IntentSummary.filterSensitiveLog(item);\n      })\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PutSessionRequest || (models_0_PutSessionRequest = {}));\n\nvar models_0_PutSessionResponse;\n\n(function (PutSessionResponse) {\n  PutSessionResponse.filterSensitiveLog = function (obj) {\n    return Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])(Object(tslib_es6[\"a\" /* __assign */])({}, obj), obj.message && {\n      message: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    }), obj.activeContexts && {\n      activeContexts: smithy_client_dist_es[\"d\" /* SENSITIVE_STRING */]\n    });\n  };\n})(models_0_PutSessionResponse || (models_0_PutSessionResponse = {}));\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/protocols/Aws_restJson1.js\nvar Aws_restJson1 = __webpack_require__(656);\n\n// EXTERNAL MODULE: ./node_modules/@aws-sdk/middleware-serde/dist/es/index.js + 4 modules\nvar middleware_serde_dist_es = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostTextCommand.js\n\n\n\n\n\n/**\n * <p>Sends user input to Amazon Lex. Client applications can use this API to send requests to\n *       Amazon Lex at runtime. Amazon Lex then interprets the user input using the machine learning model it\n *       built for the bot. </p>\n *          <p> In response, Amazon Lex returns the next <code>message</code> to convey to the user an\n *       optional <code>responseCard</code> to display. Consider the following example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input \"I would like a pizza\", Amazon Lex might return a response with a\n *           message eliciting slot data (for example, PizzaSize): \"What size pizza would you like?\"\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to obtain user confirmation \"Proceed with the pizza order?\".\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user replies to a confirmation prompt with a \"yes\", Amazon Lex might return\n *           a conclusion statement: \"Thank you, your cheese pizza has been ordered.\". </p>\n *             </li>\n *          </ul>\n *\n *          <p> Not all Amazon Lex messages require a user response. For example, a conclusion statement\n *       does not require a response. Some messages require only a \"yes\" or \"no\" user response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message\n *       in the response that you might use to enhance client behavior, for example, to display the\n *       appropriate client user interface. These are the <code>slotToElicit</code>,\n *         <code>dialogState</code>, <code>intentName</code>, and <code>slots</code> fields in the\n *       response. Consider the following examples: </p>\n *\n *          <ul>\n *             <li>\n *                <p>If the message is to elicit slot data, Amazon Lex returns the following context\n *           information:</p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>dialogState</code> set to ElicitSlot </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>intentName</code> set to the intent name in the current context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slotToElicit</code> set to the slot name for which the <code>message</code> is\n *               eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slots</code> set to a map of slots, configured for the intent, with currently\n *               known values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>dialogState</code> is set to\n *           ConfirmIntent and <code>SlotToElicit</code> is set to null. </p>\n *             </li>\n *             <li>\n *                <p>If the message is a clarification prompt (configured for the intent) that indicates\n *           that user intent is not understood, the <code>dialogState</code> is set to ElicitIntent\n *           and <code>slotToElicit</code> is set to null. </p>\n *             </li>\n *          </ul>\n *\n *          <p> In addition, Amazon Lex also returns your application-specific\n *         <code>sessionAttributes</code>. For more information, see <a href=\"https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html\">Managing Conversation Context</a>. </p>\n */\n\nvar PostTextCommand_PostTextCommand =\n/** @class */\nfunction (_super) {\n  Object(tslib_es6[\"c\" /* __extends */])(PostTextCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function PostTextCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  PostTextCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(Object(middleware_serde_dist_es[\"a\" /* getSerdePlugin */])(configuration, this.serialize, this.deserialize));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"LexRuntimeServiceClient\";\n    var commandName = \"PostTextCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: models_0_PostTextRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: models_0_PostTextResponse.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  PostTextCommand.prototype.serialize = function (input, context) {\n    return Object(Aws_restJson1[\"d\" /* serializeAws_restJson1PostTextCommand */])(input, context);\n  };\n\n  PostTextCommand.prototype.deserialize = function (output, context) {\n    return Object(Aws_restJson1[\"b\" /* deserializeAws_restJson1PostTextCommand */])(output, context);\n  };\n\n  return PostTextCommand;\n}(smithy_client_dist_es[\"b\" /* Command */]);\n\n\n// CONCATENATED MODULE: ./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostContentCommand.js\n\n\n\n\n\n/**\n * <p> Sends user input (text or speech) to Amazon Lex. Clients use this API to send text and audio\n *       requests to Amazon Lex at runtime. Amazon Lex interprets the user input using the machine learning model\n *       that it built for the bot. </p>\n *          <p>The <code>PostContent</code> operation supports audio input at 8kHz and 16kHz. You can use\n *       8kHz audio to achieve higher speech recognition accuracy in telephone audio applications. </p>\n *          <p> In response, Amazon Lex returns the next message to convey to the user. Consider the following\n *       example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input \"I would like a pizza,\" Amazon Lex might return a response with a message\n *           eliciting slot data (for example, <code>PizzaSize</code>): \"What size pizza would you\n *           like?\". </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to get user confirmation: \"Order the pizza?\". </p>\n *             </li>\n *             <li>\n *                <p> After the user replies \"Yes\" to the confirmation prompt, Amazon Lex might return a\n *           conclusion statement: \"Thank you, your cheese pizza has been ordered.\". </p>\n *             </li>\n *          </ul>\n *          <p> Not all Amazon Lex messages require a response from the user. For example, conclusion\n *       statements do not require a response. Some messages require only a yes or no response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message in\n *       the response that you can use to enhance client behavior, such as displaying the appropriate\n *       client user interface. Consider the following examples: </p>\n *          <ul>\n *             <li>\n *                <p> If the message is to elicit slot data, Amazon Lex returns the following context\n *           information: </p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-dialog-state</code> header set to <code>ElicitSlot</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-intent-name</code> header set to the intent name in the current\n *               context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slot-to-elicit</code> header set to the slot name for which the\n *                 <code>message</code> is eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slots</code> header set to a map of slots configured for the intent\n *               with their current values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>x-amz-lex-dialog-state</code>\n *           header is set to <code>Confirmation</code> and the <code>x-amz-lex-slot-to-elicit</code>\n *           header is omitted. </p>\n *             </li>\n *             <li>\n *                <p> If the message is a clarification prompt configured for the intent, indicating that\n *           the user intent is not understood, the <code>x-amz-dialog-state</code> header is set to\n *             <code>ElicitIntent</code> and the <code>x-amz-slot-to-elicit</code> header is omitted.\n *         </p>\n *             </li>\n *          </ul>\n *          <p> In addition, Amazon Lex also returns your application-specific <code>sessionAttributes</code>.\n *       For more information, see <a href=\"https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html\">Managing Conversation Context</a>. </p>\n */\n\nvar PostContentCommand_PostContentCommand =\n/** @class */\nfunction (_super) {\n  Object(tslib_es6[\"c\" /* __extends */])(PostContentCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function PostContentCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  PostContentCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(Object(middleware_serde_dist_es[\"a\" /* getSerdePlugin */])(configuration, this.serialize, this.deserialize));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"LexRuntimeServiceClient\";\n    var commandName = \"PostContentCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: models_0_PostContentRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: models_0_PostContentResponse.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  PostContentCommand.prototype.serialize = function (input, context) {\n    return Object(Aws_restJson1[\"c\" /* serializeAws_restJson1PostContentCommand */])(input, context);\n  };\n\n  PostContentCommand.prototype.deserialize = function (output, context) {\n    return Object(Aws_restJson1[\"a\" /* deserializeAws_restJson1PostContentCommand */])(output, context);\n  };\n\n  return PostContentCommand;\n}(smithy_client_dist_es[\"b\" /* Command */]);\n\n\n// EXTERNAL MODULE: ./node_modules/@aws-amplify/core/lib-esm/Credentials.js + 25 modules\nvar Credentials = __webpack_require__(651);\n\n// EXTERNAL MODULE: ./node_modules/@aws-amplify/core/lib-esm/Platform/index.js + 1 modules\nvar Platform = __webpack_require__(67);\n\n// CONCATENATED MODULE: ./node_modules/@aws-amplify/interactions/lib-esm/Providers/AWSLexProviderHelper/convert.js\nvar convert = function convert(stream) {\n  if (stream instanceof Blob || stream instanceof ReadableStream) {\n    return new Response(stream).arrayBuffer().then(function (buffer) {\n      return new Uint8Array(buffer);\n    });\n  } else {\n    throw new Error('Readable is not supported.');\n  }\n};\n// CONCATENATED MODULE: ./node_modules/@aws-amplify/interactions/lib-esm/Providers/AWSLexProvider.js\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = undefined && undefined.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar AWSLexProvider_assign = undefined && undefined.__assign || function () {\n  AWSLexProvider_assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return AWSLexProvider_assign.apply(this, arguments);\n};\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\n\n\nvar AWSLexProvider_logger = new ConsoleLogger[\"a\" /* ConsoleLogger */]('AWSLexProvider');\n\nvar AWSLexProvider_AWSLexProvider =\n/** @class */\nfunction (_super) {\n  __extends(AWSLexProvider, _super);\n\n  function AWSLexProvider(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this, options) || this;\n\n    _this._botsCompleteCallback = {};\n    return _this;\n  }\n\n  AWSLexProvider.prototype.getProviderName = function () {\n    return 'AWSLexProvider';\n  };\n\n  AWSLexProvider.prototype.reportBotStatus = function (data, botname) {\n    var _this = this; // Check if state is fulfilled to resolve onFullfilment promise\n\n\n    AWSLexProvider_logger.debug('postContent state', data.dialogState);\n\n    if (data.dialogState === 'ReadyForFulfillment' || data.dialogState === 'Fulfilled') {\n      if (typeof this._botsCompleteCallback[botname] === 'function') {\n        setTimeout(function () {\n          return _this._botsCompleteCallback[botname](null, {\n            slots: data.slots\n          });\n        }, 0);\n      }\n\n      if (this._config && typeof this._config[botname].onComplete === 'function') {\n        setTimeout(function () {\n          return _this._config[botname].onComplete(null, {\n            slots: data.slots\n          });\n        }, 0);\n      }\n    }\n\n    if (data.dialogState === 'Failed') {\n      if (typeof this._botsCompleteCallback[botname] === 'function') {\n        setTimeout(function () {\n          return _this._botsCompleteCallback[botname]('Bot conversation failed');\n        }, 0);\n      }\n\n      if (this._config && typeof this._config[botname].onComplete === 'function') {\n        setTimeout(function () {\n          return _this._config[botname].onComplete('Bot conversation failed');\n        }, 0);\n      }\n    }\n  };\n\n  AWSLexProvider.prototype.sendMessage = function (botname, message) {\n    return __awaiter(this, void 0, void 0, function () {\n      var credentials, params, postTextCommand, data, err_1, content, messageType, postContentCommand, data, audioArray, err_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this._config[botname]) {\n              return [2\n              /*return*/\n              , Promise.reject('Bot ' + botname + ' does not exist')];\n            }\n\n            return [4\n            /*yield*/\n            , Credentials[\"a\" /* Credentials */].get()];\n\n          case 1:\n            credentials = _a.sent();\n\n            if (!credentials) {\n              return [2\n              /*return*/\n              , Promise.reject('No credentials')];\n            }\n\n            this.lexRuntimeServiceClient = new LexRuntimeServiceClient_LexRuntimeServiceClient({\n              region: this._config[botname].region,\n              credentials: credentials,\n              customUserAgent: Object(Platform[\"b\" /* getAmplifyUserAgent */])()\n            });\n            if (!(typeof message === 'string')) return [3\n            /*break*/\n            , 6];\n            params = {\n              botAlias: this._config[botname].alias,\n              botName: botname,\n              inputText: message,\n              userId: credentials.identityId\n            };\n            AWSLexProvider_logger.debug('postText to lex', message);\n            _a.label = 2;\n\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n\n            postTextCommand = new PostTextCommand_PostTextCommand(params);\n            return [4\n            /*yield*/\n            , this.lexRuntimeServiceClient.send(postTextCommand)];\n\n          case 3:\n            data = _a.sent();\n            this.reportBotStatus(data, botname);\n            return [2\n            /*return*/\n            , data];\n\n          case 4:\n            err_1 = _a.sent();\n            return [2\n            /*return*/\n            , Promise.reject(err_1)];\n\n          case 5:\n            return [3\n            /*break*/\n            , 11];\n\n          case 6:\n            content = message.content, messageType = message.options.messageType;\n\n            if (messageType === 'voice') {\n              params = {\n                botAlias: this._config[botname].alias,\n                botName: botname,\n                contentType: 'audio/x-l16; sample-rate=16000',\n                inputStream: content,\n                userId: credentials.identityId,\n                accept: 'audio/mpeg'\n              };\n            } else {\n              params = {\n                botAlias: this._config[botname].alias,\n                botName: botname,\n                contentType: 'text/plain; charset=utf-8',\n                inputStream: content,\n                userId: credentials.identityId,\n                accept: 'audio/mpeg'\n              };\n            }\n\n            AWSLexProvider_logger.debug('postContent to lex', message);\n            _a.label = 7;\n\n          case 7:\n            _a.trys.push([7, 10,, 11]);\n\n            postContentCommand = new PostContentCommand_PostContentCommand(params);\n            return [4\n            /*yield*/\n            , this.lexRuntimeServiceClient.send(postContentCommand)];\n\n          case 8:\n            data = _a.sent();\n            return [4\n            /*yield*/\n            , convert(data.audioStream)];\n\n          case 9:\n            audioArray = _a.sent();\n            this.reportBotStatus(data, botname);\n            return [2\n            /*return*/\n            , AWSLexProvider_assign(AWSLexProvider_assign({}, data), {\n              audioStream: audioArray\n            })];\n\n          case 10:\n            err_2 = _a.sent();\n            return [2\n            /*return*/\n            , Promise.reject(err_2)];\n\n          case 11:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSLexProvider.prototype.onComplete = function (botname, callback) {\n    if (!this._config[botname]) {\n      throw new ErrorEvent('Bot ' + botname + ' does not exist');\n    }\n\n    this._botsCompleteCallback[botname] = callback;\n  };\n\n  return AWSLexProvider;\n}(AbstractInteractionsProvider);\n\n\n// CONCATENATED MODULE: ./node_modules/@aws-amplify/interactions/lib-esm/Interactions.js\nvar Interactions_assign = undefined && undefined.__assign || function () {\n  Interactions_assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return Interactions_assign.apply(this, arguments);\n};\n\nvar Interactions_awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar Interactions_generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\nvar Interactions_logger = new ConsoleLogger[\"a\" /* ConsoleLogger */]('Interactions');\n\nvar Interactions_InteractionsClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize PubSub with AWS configurations\n   *\n   * @param {InteractionsOptions} options - Configuration object for Interactions\n   */\n  function InteractionsClass(options) {\n    this._options = options;\n    Interactions_logger.debug('Interactions Options', this._options);\n    this._pluggables = {};\n  }\n\n  InteractionsClass.prototype.getModuleName = function () {\n    return 'Interactions';\n  };\n  /**\n   *\n   * @param {InteractionsOptions} options - Configuration object for Interactions\n   * @return {Object} - The current configuration\n   */\n\n\n  InteractionsClass.prototype.configure = function (options) {\n    var _this = this;\n\n    var opt = options ? options.Interactions || options : {};\n    Interactions_logger.debug('configure Interactions', {\n      opt: opt\n    });\n    this._options = Interactions_assign(Interactions_assign({\n      bots: {}\n    }, opt), opt.Interactions);\n    var aws_bots_config = this._options.aws_bots_config;\n    var bots_config = this._options.bots;\n\n    if (!Object.keys(bots_config).length && aws_bots_config) {\n      // Convert aws_bots_config to bots object\n      if (Array.isArray(aws_bots_config)) {\n        aws_bots_config.forEach(function (bot) {\n          _this._options.bots[bot.name] = bot;\n        });\n      }\n    } // Check if AWSLex provider is already on pluggables\n\n\n    if (!this._pluggables.AWSLexProvider && bots_config && Object.keys(bots_config).map(function (key) {\n      return bots_config[key];\n    }).find(function (bot) {\n      return !bot.providerName || bot.providerName === 'AWSLexProvider';\n    })) {\n      this._pluggables.AWSLexProvider = new AWSLexProvider_AWSLexProvider();\n    }\n\n    Object.keys(this._pluggables).map(function (key) {\n      _this._pluggables[key].configure(_this._options.bots);\n    });\n    return this._options;\n  };\n\n  InteractionsClass.prototype.addPluggable = function (pluggable) {\n    if (pluggable && pluggable.getCategory() === 'Interactions') {\n      if (!this._pluggables[pluggable.getProviderName()]) {\n        pluggable.configure(this._options.bots);\n        this._pluggables[pluggable.getProviderName()] = pluggable;\n        return;\n      } else {\n        throw new Error('Bot ' + pluggable.getProviderName() + ' already plugged');\n      }\n    }\n  };\n\n  InteractionsClass.prototype.send = function (botname, message) {\n    return Interactions_awaiter(this, void 0, void 0, function () {\n      var botProvider;\n      return Interactions_generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this._options.bots || !this._options.bots[botname]) {\n              throw new Error('Bot ' + botname + ' does not exist');\n            }\n\n            botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n\n            if (!this._pluggables[botProvider]) {\n              throw new Error('Bot ' + botProvider + ' does not have valid pluggin did you try addPluggable first?');\n            }\n\n            return [4\n            /*yield*/\n            , this._pluggables[botProvider].sendMessage(botname, message)];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n        }\n      });\n    });\n  };\n\n  InteractionsClass.prototype.onComplete = function (botname, callback) {\n    if (!this._options.bots || !this._options.bots[botname]) {\n      throw new Error('Bot ' + botname + ' does not exist');\n    }\n\n    var botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n\n    if (!this._pluggables[botProvider]) {\n      throw new Error('Bot ' + botProvider + ' does not have valid pluggin did you try addPluggable first?');\n    }\n\n    this._pluggables[botProvider].onComplete(botname, callback);\n  };\n\n  return InteractionsClass;\n}();\n\n\nvar Interactions = new Interactions_InteractionsClass(null);\nAmplify[\"a\" /* Amplify */].register(Interactions);\n\n/***/ }),\n\n/***/ 656:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* unused harmony export serializeAws_restJson1DeleteSessionCommand */\n/* unused harmony export serializeAws_restJson1GetSessionCommand */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return serializeAws_restJson1PostContentCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return serializeAws_restJson1PostTextCommand; });\n/* unused harmony export serializeAws_restJson1PutSessionCommand */\n/* unused harmony export deserializeAws_restJson1DeleteSessionCommand */\n/* unused harmony export deserializeAws_restJson1GetSessionCommand */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deserializeAws_restJson1PostContentCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return deserializeAws_restJson1PostTextCommand; });\n/* unused harmony export deserializeAws_restJson1PutSessionCommand */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n\n\n\nvar serializeAws_restJson1DeleteSessionCommand = function serializeAws_restJson1DeleteSessionCommand(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          headers = {};\n          resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n\n          if (input.botName !== undefined) {\n            labelValue = input.botName;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botName.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botName}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botName.\");\n          }\n\n          if (input.botAlias !== undefined) {\n            labelValue = input.botAlias;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botAlias}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botAlias.\");\n          }\n\n          if (input.userId !== undefined) {\n            labelValue = input.userId;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: userId.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{userId}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: userId.\");\n          }\n\n          return [4\n          /*yield*/\n          , context.endpoint()];\n\n        case 1:\n          _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n          return [2\n          /*return*/\n          , new _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__[/* HttpRequest */ \"a\"]({\n            protocol: protocol,\n            hostname: hostname,\n            port: port,\n            method: \"DELETE\",\n            headers: headers,\n            path: resolvedPath,\n            body: body\n          })];\n      }\n    });\n  });\n};\nvar serializeAws_restJson1GetSessionCommand = function serializeAws_restJson1GetSessionCommand(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          headers = {};\n          resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n\n          if (input.botName !== undefined) {\n            labelValue = input.botName;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botName.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botName}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botName.\");\n          }\n\n          if (input.botAlias !== undefined) {\n            labelValue = input.botAlias;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botAlias}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botAlias.\");\n          }\n\n          if (input.userId !== undefined) {\n            labelValue = input.userId;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: userId.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{userId}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: userId.\");\n          }\n\n          query = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.checkpointLabelFilter !== undefined && {\n            checkpointLabelFilter: input.checkpointLabelFilter\n          });\n          return [4\n          /*yield*/\n          , context.endpoint()];\n\n        case 1:\n          _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n          return [2\n          /*return*/\n          , new _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__[/* HttpRequest */ \"a\"]({\n            protocol: protocol,\n            hostname: hostname,\n            port: port,\n            method: \"GET\",\n            headers: headers,\n            path: resolvedPath,\n            query: query,\n            body: body\n          })];\n      }\n    });\n  });\n};\nvar serializeAws_restJson1PostContentCommand = function serializeAws_restJson1PostContentCommand(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          headers = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({\n            \"content-type\": \"application/octet-stream\",\n            \"x-amz-content-sha256\": \"UNSIGNED-PAYLOAD\"\n          }, isSerializableHeaderValue(input.sessionAttributes) && {\n            \"x-amz-lex-session-attributes\": Buffer.from(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"].fromObject(input.sessionAttributes)).toString(\"base64\")\n          }), isSerializableHeaderValue(input.requestAttributes) && {\n            \"x-amz-lex-request-attributes\": Buffer.from(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"].fromObject(input.requestAttributes)).toString(\"base64\")\n          }), isSerializableHeaderValue(input.contentType) && {\n            \"content-type\": input.contentType\n          }), isSerializableHeaderValue(input.accept) && {\n            accept: input.accept\n          }), isSerializableHeaderValue(input.activeContexts) && {\n            \"x-amz-lex-active-contexts\": Buffer.from(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"].fromObject(input.activeContexts)).toString(\"base64\")\n          });\n          resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/content\";\n\n          if (input.botName !== undefined) {\n            labelValue = input.botName;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botName.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botName}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botName.\");\n          }\n\n          if (input.botAlias !== undefined) {\n            labelValue = input.botAlias;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botAlias}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botAlias.\");\n          }\n\n          if (input.userId !== undefined) {\n            labelValue = input.userId;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: userId.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{userId}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: userId.\");\n          }\n\n          if (input.inputStream !== undefined) {\n            body = input.inputStream;\n          }\n\n          return [4\n          /*yield*/\n          , context.endpoint()];\n\n        case 1:\n          _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n          return [2\n          /*return*/\n          , new _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__[/* HttpRequest */ \"a\"]({\n            protocol: protocol,\n            hostname: hostname,\n            port: port,\n            method: \"POST\",\n            headers: headers,\n            path: resolvedPath,\n            body: body\n          })];\n      }\n    });\n  });\n};\nvar serializeAws_restJson1PostTextCommand = function serializeAws_restJson1PostTextCommand(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          headers = {\n            \"content-type\": \"application/json\"\n          };\n          resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/text\";\n\n          if (input.botName !== undefined) {\n            labelValue = input.botName;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botName.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botName}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botName.\");\n          }\n\n          if (input.botAlias !== undefined) {\n            labelValue = input.botAlias;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botAlias}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botAlias.\");\n          }\n\n          if (input.userId !== undefined) {\n            labelValue = input.userId;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: userId.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{userId}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: userId.\");\n          }\n\n          body = JSON.stringify(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.activeContexts !== undefined && input.activeContexts !== null && {\n            activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context)\n          }), input.inputText !== undefined && input.inputText !== null && {\n            inputText: input.inputText\n          }), input.requestAttributes !== undefined && input.requestAttributes !== null && {\n            requestAttributes: serializeAws_restJson1StringMap(input.requestAttributes, context)\n          }), input.sessionAttributes !== undefined && input.sessionAttributes !== null && {\n            sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context)\n          }));\n          return [4\n          /*yield*/\n          , context.endpoint()];\n\n        case 1:\n          _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n          return [2\n          /*return*/\n          , new _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__[/* HttpRequest */ \"a\"]({\n            protocol: protocol,\n            hostname: hostname,\n            port: port,\n            method: \"POST\",\n            headers: headers,\n            path: resolvedPath,\n            body: body\n          })];\n      }\n    });\n  });\n};\nvar serializeAws_restJson1PutSessionCommand = function serializeAws_restJson1PutSessionCommand(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          headers = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({\n            \"content-type\": \"application/json\"\n          }, isSerializableHeaderValue(input.accept) && {\n            accept: input.accept\n          });\n          resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n\n          if (input.botName !== undefined) {\n            labelValue = input.botName;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botName.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botName}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botName.\");\n          }\n\n          if (input.botAlias !== undefined) {\n            labelValue = input.botAlias;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{botAlias}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: botAlias.\");\n          }\n\n          if (input.userId !== undefined) {\n            labelValue = input.userId;\n\n            if (labelValue.length <= 0) {\n              throw new Error(\"Empty value provided for input HTTP label: userId.\");\n            }\n\n            resolvedPath = resolvedPath.replace(\"{userId}\", Object(_aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* extendedEncodeURIComponent */ \"f\"])(labelValue));\n          } else {\n            throw new Error(\"No value provided for input HTTP label: userId.\");\n          }\n\n          body = JSON.stringify(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.activeContexts !== undefined && input.activeContexts !== null && {\n            activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context)\n          }), input.dialogAction !== undefined && input.dialogAction !== null && {\n            dialogAction: serializeAws_restJson1DialogAction(input.dialogAction, context)\n          }), input.recentIntentSummaryView !== undefined && input.recentIntentSummaryView !== null && {\n            recentIntentSummaryView: serializeAws_restJson1IntentSummaryList(input.recentIntentSummaryView, context)\n          }), input.sessionAttributes !== undefined && input.sessionAttributes !== null && {\n            sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context)\n          }));\n          return [4\n          /*yield*/\n          , context.endpoint()];\n\n        case 1:\n          _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n          return [2\n          /*return*/\n          , new _aws_sdk_protocol_http__WEBPACK_IMPORTED_MODULE_1__[/* HttpRequest */ \"a\"]({\n            protocol: protocol,\n            hostname: hostname,\n            port: port,\n            method: \"POST\",\n            headers: headers,\n            path: resolvedPath,\n            body: body\n          })];\n      }\n    });\n  });\n};\nvar deserializeAws_restJson1DeleteSessionCommand = function deserializeAws_restJson1DeleteSessionCommand(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2\n            /*return*/\n            , deserializeAws_restJson1DeleteSessionCommandError(output, context)];\n          }\n\n          contents = {\n            $metadata: deserializeMetadata(output),\n            botAlias: undefined,\n            botName: undefined,\n            sessionId: undefined,\n            userId: undefined\n          };\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          data = _a.sent();\n\n          if (data.botAlias !== undefined && data.botAlias !== null) {\n            contents.botAlias = data.botAlias;\n          }\n\n          if (data.botName !== undefined && data.botName !== null) {\n            contents.botName = data.botName;\n          }\n\n          if (data.sessionId !== undefined && data.sessionId !== null) {\n            contents.sessionId = data.sessionId;\n          }\n\n          if (data.userId !== undefined && data.userId !== null) {\n            contents.userId = data.userId;\n          }\n\n          return [2\n          /*return*/\n          , Promise.resolve(contents)];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1DeleteSessionCommandError = function deserializeAws_restJson1DeleteSessionCommandError(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n\n    var _h;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_j) {\n      switch (_j.label) {\n        case 0:\n          _a = [Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, output)];\n          _h = {};\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          parsedOutput = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n          errorCode = \"UnknownError\";\n          errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n          _b = errorCode;\n\n          switch (_b) {\n            case \"BadRequestException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"com.amazonaws.lexruntimeservice#BadRequestException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"ConflictException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"com.amazonaws.lexruntimeservice#ConflictException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"InternalFailureException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"com.amazonaws.lexruntimeservice#InternalFailureException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"LimitExceededException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"com.amazonaws.lexruntimeservice#LimitExceededException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"NotFoundException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"com.amazonaws.lexruntimeservice#NotFoundException\":\n              return [3\n              /*break*/\n              , 10];\n          }\n\n          return [3\n          /*break*/\n          , 12];\n\n        case 2:\n          _c = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n\n        case 3:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _c.concat([_j.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 13];\n\n        case 4:\n          _d = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n\n        case 5:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _d.concat([_j.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 13];\n\n        case 6:\n          _e = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n\n        case 7:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _e.concat([_j.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 13];\n\n        case 8:\n          _f = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n\n        case 9:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _f.concat([_j.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 13];\n\n        case 10:\n          _g = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n\n        case 11:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _g.concat([_j.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 13];\n\n        case 12:\n          parsedBody = parsedOutput.body;\n          errorCode = parsedBody.code || parsedBody.Code || errorCode;\n          response = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, parsedBody), {\n            name: \"\" + errorCode,\n            message: parsedBody.message || parsedBody.Message || errorCode,\n            $fault: \"client\",\n            $metadata: deserializeMetadata(output)\n          });\n          _j.label = 13;\n\n        case 13:\n          message = response.message || response.Message || errorCode;\n          response.message = message;\n          delete response.Message;\n          return [2\n          /*return*/\n          , Promise.reject(Object.assign(new Error(message), response))];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1GetSessionCommand = function deserializeAws_restJson1GetSessionCommand(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2\n            /*return*/\n            , deserializeAws_restJson1GetSessionCommandError(output, context)];\n          }\n\n          contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            dialogAction: undefined,\n            recentIntentSummaryView: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined\n          };\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          data = _a.sent();\n\n          if (data.activeContexts !== undefined && data.activeContexts !== null) {\n            contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n          }\n\n          if (data.dialogAction !== undefined && data.dialogAction !== null) {\n            contents.dialogAction = deserializeAws_restJson1DialogAction(data.dialogAction, context);\n          }\n\n          if (data.recentIntentSummaryView !== undefined && data.recentIntentSummaryView !== null) {\n            contents.recentIntentSummaryView = deserializeAws_restJson1IntentSummaryList(data.recentIntentSummaryView, context);\n          }\n\n          if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n            contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n          }\n\n          if (data.sessionId !== undefined && data.sessionId !== null) {\n            contents.sessionId = data.sessionId;\n          }\n\n          return [2\n          /*return*/\n          , Promise.resolve(contents)];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1GetSessionCommandError = function deserializeAws_restJson1GetSessionCommandError(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n\n    var _g;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_h) {\n      switch (_h.label) {\n        case 0:\n          _a = [Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, output)];\n          _g = {};\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          parsedOutput = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n          errorCode = \"UnknownError\";\n          errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n          _b = errorCode;\n\n          switch (_b) {\n            case \"BadRequestException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"com.amazonaws.lexruntimeservice#BadRequestException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"InternalFailureException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"com.amazonaws.lexruntimeservice#InternalFailureException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"LimitExceededException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"com.amazonaws.lexruntimeservice#LimitExceededException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"NotFoundException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"com.amazonaws.lexruntimeservice#NotFoundException\":\n              return [3\n              /*break*/\n              , 8];\n          }\n\n          return [3\n          /*break*/\n          , 10];\n\n        case 2:\n          _c = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n\n        case 3:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _c.concat([_h.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 11];\n\n        case 4:\n          _d = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n\n        case 5:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _d.concat([_h.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 11];\n\n        case 6:\n          _e = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n\n        case 7:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _e.concat([_h.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 11];\n\n        case 8:\n          _f = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n\n        case 9:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _f.concat([_h.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 11];\n\n        case 10:\n          parsedBody = parsedOutput.body;\n          errorCode = parsedBody.code || parsedBody.Code || errorCode;\n          response = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, parsedBody), {\n            name: \"\" + errorCode,\n            message: parsedBody.message || parsedBody.Message || errorCode,\n            $fault: \"client\",\n            $metadata: deserializeMetadata(output)\n          });\n          _h.label = 11;\n\n        case 11:\n          message = response.message || response.Message || errorCode;\n          response.message = message;\n          delete response.Message;\n          return [2\n          /*return*/\n          , Promise.reject(Object.assign(new Error(message), response))];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1PostContentCommand = function deserializeAws_restJson1PostContentCommand(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      if (output.statusCode !== 200 && output.statusCode >= 300) {\n        return [2\n        /*return*/\n        , deserializeAws_restJson1PostContentCommandError(output, context)];\n      }\n\n      contents = {\n        $metadata: deserializeMetadata(output),\n        activeContexts: undefined,\n        alternativeIntents: undefined,\n        audioStream: undefined,\n        botVersion: undefined,\n        contentType: undefined,\n        dialogState: undefined,\n        inputTranscript: undefined,\n        intentName: undefined,\n        message: undefined,\n        messageFormat: undefined,\n        nluIntentConfidence: undefined,\n        sentimentResponse: undefined,\n        sessionAttributes: undefined,\n        sessionId: undefined,\n        slotToElicit: undefined,\n        slots: undefined\n      };\n\n      if (output.headers[\"content-type\"] !== undefined) {\n        contents.contentType = output.headers[\"content-type\"];\n      }\n\n      if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n        contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n      }\n\n      if (output.headers[\"x-amz-lex-nlu-intent-confidence\"] !== undefined) {\n        contents.nluIntentConfidence = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-nlu-intent-confidence\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-alternative-intents\"] !== undefined) {\n        contents.alternativeIntents = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-alternative-intents\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n        contents.slots = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-slots\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n        contents.sessionAttributes = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-session-attributes\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-sentiment\"] !== undefined) {\n        contents.sentimentResponse = output.headers[\"x-amz-lex-sentiment\"];\n      }\n\n      if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n        contents.message = output.headers[\"x-amz-lex-message\"];\n      }\n\n      if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n        contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n      }\n\n      if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n        contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n      }\n\n      if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n        contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n      }\n\n      if (output.headers[\"x-amz-lex-input-transcript\"] !== undefined) {\n        contents.inputTranscript = output.headers[\"x-amz-lex-input-transcript\"];\n      }\n\n      if (output.headers[\"x-amz-lex-bot-version\"] !== undefined) {\n        contents.botVersion = output.headers[\"x-amz-lex-bot-version\"];\n      }\n\n      if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n        contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n      }\n\n      if (output.headers[\"x-amz-lex-active-contexts\"] !== undefined) {\n        contents.activeContexts = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-active-contexts\"], \"base64\").toString(\"ascii\"));\n      }\n\n      data = output.body;\n      contents.audioStream = data;\n      return [2\n      /*return*/\n      , Promise.resolve(contents)];\n    });\n  });\n};\n\nvar deserializeAws_restJson1PostContentCommandError = function deserializeAws_restJson1PostContentCommandError(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, parsedBody, message;\n\n    var _p;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_q) {\n      switch (_q.label) {\n        case 0:\n          _a = [Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, output)];\n          _p = {};\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          parsedOutput = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _a.concat([(_p.body = _q.sent(), _p)]));\n          errorCode = \"UnknownError\";\n          errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n          _b = errorCode;\n\n          switch (_b) {\n            case \"BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"com.amazonaws.lexruntimeservice#BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"com.amazonaws.lexruntimeservice#BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"com.amazonaws.lexruntimeservice#ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"com.amazonaws.lexruntimeservice#DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"com.amazonaws.lexruntimeservice#InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"com.amazonaws.lexruntimeservice#LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"LoopDetectedException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"com.amazonaws.lexruntimeservice#LoopDetectedException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"NotAcceptableException\":\n              return [3\n              /*break*/\n              , 16];\n\n            case \"com.amazonaws.lexruntimeservice#NotAcceptableException\":\n              return [3\n              /*break*/\n              , 16];\n\n            case \"NotFoundException\":\n              return [3\n              /*break*/\n              , 18];\n\n            case \"com.amazonaws.lexruntimeservice#NotFoundException\":\n              return [3\n              /*break*/\n              , 18];\n\n            case \"RequestTimeoutException\":\n              return [3\n              /*break*/\n              , 20];\n\n            case \"com.amazonaws.lexruntimeservice#RequestTimeoutException\":\n              return [3\n              /*break*/\n              , 20];\n\n            case \"UnsupportedMediaTypeException\":\n              return [3\n              /*break*/\n              , 22];\n\n            case \"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException\":\n              return [3\n              /*break*/\n              , 22];\n          }\n\n          return [3\n          /*break*/\n          , 24];\n\n        case 2:\n          _c = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n\n        case 3:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _c.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 4:\n          _d = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n\n        case 5:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _d.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 6:\n          _e = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n\n        case 7:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _e.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 8:\n          _f = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n\n        case 9:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _f.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 10:\n          _g = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n\n        case 11:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _g.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 12:\n          _h = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n\n        case 13:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _h.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 14:\n          _j = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n\n        case 15:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _j.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 16:\n          _k = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n\n        case 17:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _k.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 18:\n          _l = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n\n        case 19:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _l.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 20:\n          _m = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1RequestTimeoutExceptionResponse(parsedOutput, context)];\n\n        case 21:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _m.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 22:\n          _o = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse(parsedOutput, context)];\n\n        case 23:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _o.concat([_q.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 25];\n\n        case 24:\n          parsedBody = parsedOutput.body;\n          errorCode = parsedBody.code || parsedBody.Code || errorCode;\n          response = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, parsedBody), {\n            name: \"\" + errorCode,\n            message: parsedBody.message || parsedBody.Message || errorCode,\n            $fault: \"client\",\n            $metadata: deserializeMetadata(output)\n          });\n          _q.label = 25;\n\n        case 25:\n          message = response.message || response.Message || errorCode;\n          response.message = message;\n          delete response.Message;\n          return [2\n          /*return*/\n          , Promise.reject(Object.assign(new Error(message), response))];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1PostTextCommand = function deserializeAws_restJson1PostTextCommand(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2\n            /*return*/\n            , deserializeAws_restJson1PostTextCommandError(output, context)];\n          }\n\n          contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            alternativeIntents: undefined,\n            botVersion: undefined,\n            dialogState: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            nluIntentConfidence: undefined,\n            responseCard: undefined,\n            sentimentResponse: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined\n          };\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          data = _a.sent();\n\n          if (data.activeContexts !== undefined && data.activeContexts !== null) {\n            contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n          }\n\n          if (data.alternativeIntents !== undefined && data.alternativeIntents !== null) {\n            contents.alternativeIntents = deserializeAws_restJson1IntentList(data.alternativeIntents, context);\n          }\n\n          if (data.botVersion !== undefined && data.botVersion !== null) {\n            contents.botVersion = data.botVersion;\n          }\n\n          if (data.dialogState !== undefined && data.dialogState !== null) {\n            contents.dialogState = data.dialogState;\n          }\n\n          if (data.intentName !== undefined && data.intentName !== null) {\n            contents.intentName = data.intentName;\n          }\n\n          if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n          }\n\n          if (data.messageFormat !== undefined && data.messageFormat !== null) {\n            contents.messageFormat = data.messageFormat;\n          }\n\n          if (data.nluIntentConfidence !== undefined && data.nluIntentConfidence !== null) {\n            contents.nluIntentConfidence = deserializeAws_restJson1IntentConfidence(data.nluIntentConfidence, context);\n          }\n\n          if (data.responseCard !== undefined && data.responseCard !== null) {\n            contents.responseCard = deserializeAws_restJson1ResponseCard(data.responseCard, context);\n          }\n\n          if (data.sentimentResponse !== undefined && data.sentimentResponse !== null) {\n            contents.sentimentResponse = deserializeAws_restJson1SentimentResponse(data.sentimentResponse, context);\n          }\n\n          if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n            contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n          }\n\n          if (data.sessionId !== undefined && data.sessionId !== null) {\n            contents.sessionId = data.sessionId;\n          }\n\n          if (data.slotToElicit !== undefined && data.slotToElicit !== null) {\n            contents.slotToElicit = data.slotToElicit;\n          }\n\n          if (data.slots !== undefined && data.slots !== null) {\n            contents.slots = deserializeAws_restJson1StringMap(data.slots, context);\n          }\n\n          return [2\n          /*return*/\n          , Promise.resolve(contents)];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1PostTextCommandError = function deserializeAws_restJson1PostTextCommandError(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n\n    var _l;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_m) {\n      switch (_m.label) {\n        case 0:\n          _a = [Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, output)];\n          _l = {};\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          parsedOutput = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n          errorCode = \"UnknownError\";\n          errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n          _b = errorCode;\n\n          switch (_b) {\n            case \"BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"com.amazonaws.lexruntimeservice#BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"com.amazonaws.lexruntimeservice#BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"com.amazonaws.lexruntimeservice#ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"com.amazonaws.lexruntimeservice#DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"com.amazonaws.lexruntimeservice#InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"com.amazonaws.lexruntimeservice#LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"LoopDetectedException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"com.amazonaws.lexruntimeservice#LoopDetectedException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"NotFoundException\":\n              return [3\n              /*break*/\n              , 16];\n\n            case \"com.amazonaws.lexruntimeservice#NotFoundException\":\n              return [3\n              /*break*/\n              , 16];\n          }\n\n          return [3\n          /*break*/\n          , 18];\n\n        case 2:\n          _c = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n\n        case 3:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _c.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 4:\n          _d = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n\n        case 5:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _d.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 6:\n          _e = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n\n        case 7:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _e.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 8:\n          _f = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n\n        case 9:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _f.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 10:\n          _g = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n\n        case 11:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _g.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 12:\n          _h = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n\n        case 13:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _h.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 14:\n          _j = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n\n        case 15:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _j.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 16:\n          _k = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n\n        case 17:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _k.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 18:\n          parsedBody = parsedOutput.body;\n          errorCode = parsedBody.code || parsedBody.Code || errorCode;\n          response = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, parsedBody), {\n            name: \"\" + errorCode,\n            message: parsedBody.message || parsedBody.Message || errorCode,\n            $fault: \"client\",\n            $metadata: deserializeMetadata(output)\n          });\n          _m.label = 19;\n\n        case 19:\n          message = response.message || response.Message || errorCode;\n          response.message = message;\n          delete response.Message;\n          return [2\n          /*return*/\n          , Promise.reject(Object.assign(new Error(message), response))];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1PutSessionCommand = function deserializeAws_restJson1PutSessionCommand(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      if (output.statusCode !== 200 && output.statusCode >= 300) {\n        return [2\n        /*return*/\n        , deserializeAws_restJson1PutSessionCommandError(output, context)];\n      }\n\n      contents = {\n        $metadata: deserializeMetadata(output),\n        activeContexts: undefined,\n        audioStream: undefined,\n        contentType: undefined,\n        dialogState: undefined,\n        intentName: undefined,\n        message: undefined,\n        messageFormat: undefined,\n        sessionAttributes: undefined,\n        sessionId: undefined,\n        slotToElicit: undefined,\n        slots: undefined\n      };\n\n      if (output.headers[\"content-type\"] !== undefined) {\n        contents.contentType = output.headers[\"content-type\"];\n      }\n\n      if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n        contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n      }\n\n      if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n        contents.slots = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-slots\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n        contents.sessionAttributes = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-session-attributes\"], \"base64\").toString(\"ascii\"));\n      }\n\n      if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n        contents.message = output.headers[\"x-amz-lex-message\"];\n      }\n\n      if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n        contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n      }\n\n      if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n        contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n      }\n\n      if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n        contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n      }\n\n      if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n        contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n      }\n\n      if (output.headers[\"x-amz-lex-active-contexts\"] !== undefined) {\n        contents.activeContexts = new _aws_sdk_smithy_client__WEBPACK_IMPORTED_MODULE_2__[/* LazyJsonString */ \"c\"](Buffer.from(output.headers[\"x-amz-lex-active-contexts\"], \"base64\").toString(\"ascii\"));\n      }\n\n      data = output.body;\n      contents.audioStream = data;\n      return [2\n      /*return*/\n      , Promise.resolve(contents)];\n    });\n  });\n};\n\nvar deserializeAws_restJson1PutSessionCommandError = function deserializeAws_restJson1PutSessionCommandError(output, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n\n    var _l;\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_m) {\n      switch (_m.label) {\n        case 0:\n          _a = [Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, output)];\n          _l = {};\n          return [4\n          /*yield*/\n          , parseBody(output.body, context)];\n\n        case 1:\n          parsedOutput = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n          errorCode = \"UnknownError\";\n          errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n          _b = errorCode;\n\n          switch (_b) {\n            case \"BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"com.amazonaws.lexruntimeservice#BadGatewayException\":\n              return [3\n              /*break*/\n              , 2];\n\n            case \"BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"com.amazonaws.lexruntimeservice#BadRequestException\":\n              return [3\n              /*break*/\n              , 4];\n\n            case \"ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"com.amazonaws.lexruntimeservice#ConflictException\":\n              return [3\n              /*break*/\n              , 6];\n\n            case \"DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"com.amazonaws.lexruntimeservice#DependencyFailedException\":\n              return [3\n              /*break*/\n              , 8];\n\n            case \"InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"com.amazonaws.lexruntimeservice#InternalFailureException\":\n              return [3\n              /*break*/\n              , 10];\n\n            case \"LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"com.amazonaws.lexruntimeservice#LimitExceededException\":\n              return [3\n              /*break*/\n              , 12];\n\n            case \"NotAcceptableException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"com.amazonaws.lexruntimeservice#NotAcceptableException\":\n              return [3\n              /*break*/\n              , 14];\n\n            case \"NotFoundException\":\n              return [3\n              /*break*/\n              , 16];\n\n            case \"com.amazonaws.lexruntimeservice#NotFoundException\":\n              return [3\n              /*break*/\n              , 16];\n          }\n\n          return [3\n          /*break*/\n          , 18];\n\n        case 2:\n          _c = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n\n        case 3:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _c.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 4:\n          _d = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n\n        case 5:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _d.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 6:\n          _e = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n\n        case 7:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _e.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 8:\n          _f = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n\n        case 9:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _f.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 10:\n          _g = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n\n        case 11:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _g.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 12:\n          _h = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n\n        case 13:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _h.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 14:\n          _j = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n\n        case 15:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _j.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 16:\n          _k = [{}];\n          return [4\n          /*yield*/\n          , deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n\n        case 17:\n          response = tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, [tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"].apply(void 0, _k.concat([_m.sent()])), {\n            name: errorCode,\n            $metadata: deserializeMetadata(output)\n          }]);\n          return [3\n          /*break*/\n          , 19];\n\n        case 18:\n          parsedBody = parsedOutput.body;\n          errorCode = parsedBody.code || parsedBody.Code || errorCode;\n          response = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, parsedBody), {\n            name: \"\" + errorCode,\n            message: parsedBody.message || parsedBody.Message || errorCode,\n            $fault: \"client\",\n            $metadata: deserializeMetadata(output)\n          });\n          _m.label = 19;\n\n        case 19:\n          message = response.message || response.Message || errorCode;\n          response.message = message;\n          delete response.Message;\n          return [2\n          /*return*/\n          , Promise.reject(Object.assign(new Error(message), response))];\n      }\n    });\n  });\n};\n\nvar deserializeAws_restJson1BadGatewayExceptionResponse = function deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"BadGatewayException\",\n        $fault: \"server\",\n        $metadata: deserializeMetadata(parsedOutput),\n        Message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.Message !== undefined && data.Message !== null) {\n        contents.Message = data.Message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1BadRequestExceptionResponse = function deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"BadRequestException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1ConflictExceptionResponse = function deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"ConflictException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1DependencyFailedExceptionResponse = function deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"DependencyFailedException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        Message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.Message !== undefined && data.Message !== null) {\n        contents.Message = data.Message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1InternalFailureExceptionResponse = function deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"InternalFailureException\",\n        $fault: \"server\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1LimitExceededExceptionResponse = function deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"LimitExceededException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined,\n        retryAfterSeconds: undefined\n      };\n\n      if (parsedOutput.headers[\"retry-after\"] !== undefined) {\n        contents.retryAfterSeconds = parsedOutput.headers[\"retry-after\"];\n      }\n\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1LoopDetectedExceptionResponse = function deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"LoopDetectedException\",\n        $fault: \"server\",\n        $metadata: deserializeMetadata(parsedOutput),\n        Message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.Message !== undefined && data.Message !== null) {\n        contents.Message = data.Message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1NotAcceptableExceptionResponse = function deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"NotAcceptableException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1NotFoundExceptionResponse = function deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"NotFoundException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1RequestTimeoutExceptionResponse = function deserializeAws_restJson1RequestTimeoutExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"RequestTimeoutException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse = function deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse(parsedOutput, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(void 0, void 0, void 0, function () {\n    var contents, data;\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"d\"])(this, function (_a) {\n      contents = {\n        name: \"UnsupportedMediaTypeException\",\n        $fault: \"client\",\n        $metadata: deserializeMetadata(parsedOutput),\n        message: undefined\n      };\n      data = parsedOutput.body;\n\n      if (data.message !== undefined && data.message !== null) {\n        contents.message = data.message;\n      }\n\n      return [2\n      /*return*/\n      , contents];\n    });\n  });\n};\n\nvar serializeAws_restJson1ActiveContext = function serializeAws_restJson1ActiveContext(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.name !== undefined && input.name !== null && {\n    name: input.name\n  }), input.parameters !== undefined && input.parameters !== null && {\n    parameters: serializeAws_restJson1ActiveContextParametersMap(input.parameters, context)\n  }), input.timeToLive !== undefined && input.timeToLive !== null && {\n    timeToLive: serializeAws_restJson1ActiveContextTimeToLive(input.timeToLive, context)\n  });\n};\n\nvar serializeAws_restJson1ActiveContextParametersMap = function serializeAws_restJson1ActiveContextParametersMap(input, context) {\n  return Object.entries(input).reduce(function (acc, _a) {\n    var _b;\n\n    var _c = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __read */ \"e\"])(_a, 2),\n        key = _c[0],\n        value = _c[1];\n\n    if (value === null) {\n      return acc;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, acc), (_b = {}, _b[key] = value, _b));\n  }, {});\n};\n\nvar serializeAws_restJson1ActiveContextsList = function serializeAws_restJson1ActiveContextsList(input, context) {\n  return input.filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return serializeAws_restJson1ActiveContext(entry, context);\n  });\n};\n\nvar serializeAws_restJson1ActiveContextTimeToLive = function serializeAws_restJson1ActiveContextTimeToLive(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.timeToLiveInSeconds !== undefined && input.timeToLiveInSeconds !== null && {\n    timeToLiveInSeconds: input.timeToLiveInSeconds\n  }), input.turnsToLive !== undefined && input.turnsToLive !== null && {\n    turnsToLive: input.turnsToLive\n  });\n};\n\nvar serializeAws_restJson1DialogAction = function serializeAws_restJson1DialogAction(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.fulfillmentState !== undefined && input.fulfillmentState !== null && {\n    fulfillmentState: input.fulfillmentState\n  }), input.intentName !== undefined && input.intentName !== null && {\n    intentName: input.intentName\n  }), input.message !== undefined && input.message !== null && {\n    message: input.message\n  }), input.messageFormat !== undefined && input.messageFormat !== null && {\n    messageFormat: input.messageFormat\n  }), input.slotToElicit !== undefined && input.slotToElicit !== null && {\n    slotToElicit: input.slotToElicit\n  }), input.slots !== undefined && input.slots !== null && {\n    slots: serializeAws_restJson1StringMap(input.slots, context)\n  }), input.type !== undefined && input.type !== null && {\n    type: input.type\n  });\n};\n\nvar serializeAws_restJson1IntentSummary = function serializeAws_restJson1IntentSummary(input, context) {\n  return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, input.checkpointLabel !== undefined && input.checkpointLabel !== null && {\n    checkpointLabel: input.checkpointLabel\n  }), input.confirmationStatus !== undefined && input.confirmationStatus !== null && {\n    confirmationStatus: input.confirmationStatus\n  }), input.dialogActionType !== undefined && input.dialogActionType !== null && {\n    dialogActionType: input.dialogActionType\n  }), input.fulfillmentState !== undefined && input.fulfillmentState !== null && {\n    fulfillmentState: input.fulfillmentState\n  }), input.intentName !== undefined && input.intentName !== null && {\n    intentName: input.intentName\n  }), input.slotToElicit !== undefined && input.slotToElicit !== null && {\n    slotToElicit: input.slotToElicit\n  }), input.slots !== undefined && input.slots !== null && {\n    slots: serializeAws_restJson1StringMap(input.slots, context)\n  });\n};\n\nvar serializeAws_restJson1IntentSummaryList = function serializeAws_restJson1IntentSummaryList(input, context) {\n  return input.filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return serializeAws_restJson1IntentSummary(entry, context);\n  });\n};\n\nvar serializeAws_restJson1StringMap = function serializeAws_restJson1StringMap(input, context) {\n  return Object.entries(input).reduce(function (acc, _a) {\n    var _b;\n\n    var _c = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __read */ \"e\"])(_a, 2),\n        key = _c[0],\n        value = _c[1];\n\n    if (value === null) {\n      return acc;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, acc), (_b = {}, _b[key] = value, _b));\n  }, {});\n};\n\nvar deserializeAws_restJson1ActiveContext = function deserializeAws_restJson1ActiveContext(output, context) {\n  return {\n    name: output.name !== undefined && output.name !== null ? output.name : undefined,\n    parameters: output.parameters !== undefined && output.parameters !== null ? deserializeAws_restJson1ActiveContextParametersMap(output.parameters, context) : undefined,\n    timeToLive: output.timeToLive !== undefined && output.timeToLive !== null ? deserializeAws_restJson1ActiveContextTimeToLive(output.timeToLive, context) : undefined\n  };\n};\n\nvar deserializeAws_restJson1ActiveContextParametersMap = function deserializeAws_restJson1ActiveContextParametersMap(output, context) {\n  return Object.entries(output).reduce(function (acc, _a) {\n    var _b;\n\n    var _c = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __read */ \"e\"])(_a, 2),\n        key = _c[0],\n        value = _c[1];\n\n    if (value === null) {\n      return acc;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, acc), (_b = {}, _b[key] = value, _b));\n  }, {});\n};\n\nvar deserializeAws_restJson1ActiveContextsList = function deserializeAws_restJson1ActiveContextsList(output, context) {\n  return (output || []).filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return deserializeAws_restJson1ActiveContext(entry, context);\n  });\n};\n\nvar deserializeAws_restJson1ActiveContextTimeToLive = function deserializeAws_restJson1ActiveContextTimeToLive(output, context) {\n  return {\n    timeToLiveInSeconds: output.timeToLiveInSeconds !== undefined && output.timeToLiveInSeconds !== null ? output.timeToLiveInSeconds : undefined,\n    turnsToLive: output.turnsToLive !== undefined && output.turnsToLive !== null ? output.turnsToLive : undefined\n  };\n};\n\nvar deserializeAws_restJson1Button = function deserializeAws_restJson1Button(output, context) {\n  return {\n    text: output.text !== undefined && output.text !== null ? output.text : undefined,\n    value: output.value !== undefined && output.value !== null ? output.value : undefined\n  };\n};\n\nvar deserializeAws_restJson1DialogAction = function deserializeAws_restJson1DialogAction(output, context) {\n  return {\n    fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n    intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n    message: output.message !== undefined && output.message !== null ? output.message : undefined,\n    messageFormat: output.messageFormat !== undefined && output.messageFormat !== null ? output.messageFormat : undefined,\n    slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n    slots: output.slots !== undefined && output.slots !== null ? deserializeAws_restJson1StringMap(output.slots, context) : undefined,\n    type: output.type !== undefined && output.type !== null ? output.type : undefined\n  };\n};\n\nvar deserializeAws_restJson1GenericAttachment = function deserializeAws_restJson1GenericAttachment(output, context) {\n  return {\n    attachmentLinkUrl: output.attachmentLinkUrl !== undefined && output.attachmentLinkUrl !== null ? output.attachmentLinkUrl : undefined,\n    buttons: output.buttons !== undefined && output.buttons !== null ? deserializeAws_restJson1listOfButtons(output.buttons, context) : undefined,\n    imageUrl: output.imageUrl !== undefined && output.imageUrl !== null ? output.imageUrl : undefined,\n    subTitle: output.subTitle !== undefined && output.subTitle !== null ? output.subTitle : undefined,\n    title: output.title !== undefined && output.title !== null ? output.title : undefined\n  };\n};\n\nvar deserializeAws_restJson1genericAttachmentList = function deserializeAws_restJson1genericAttachmentList(output, context) {\n  return (output || []).filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return deserializeAws_restJson1GenericAttachment(entry, context);\n  });\n};\n\nvar deserializeAws_restJson1IntentConfidence = function deserializeAws_restJson1IntentConfidence(output, context) {\n  return {\n    score: output.score !== undefined && output.score !== null ? output.score : undefined\n  };\n};\n\nvar deserializeAws_restJson1IntentList = function deserializeAws_restJson1IntentList(output, context) {\n  return (output || []).filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return deserializeAws_restJson1PredictedIntent(entry, context);\n  });\n};\n\nvar deserializeAws_restJson1IntentSummary = function deserializeAws_restJson1IntentSummary(output, context) {\n  return {\n    checkpointLabel: output.checkpointLabel !== undefined && output.checkpointLabel !== null ? output.checkpointLabel : undefined,\n    confirmationStatus: output.confirmationStatus !== undefined && output.confirmationStatus !== null ? output.confirmationStatus : undefined,\n    dialogActionType: output.dialogActionType !== undefined && output.dialogActionType !== null ? output.dialogActionType : undefined,\n    fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n    intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n    slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n    slots: output.slots !== undefined && output.slots !== null ? deserializeAws_restJson1StringMap(output.slots, context) : undefined\n  };\n};\n\nvar deserializeAws_restJson1IntentSummaryList = function deserializeAws_restJson1IntentSummaryList(output, context) {\n  return (output || []).filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return deserializeAws_restJson1IntentSummary(entry, context);\n  });\n};\n\nvar deserializeAws_restJson1listOfButtons = function deserializeAws_restJson1listOfButtons(output, context) {\n  return (output || []).filter(function (e) {\n    return e != null;\n  }).map(function (entry) {\n    if (entry === null) {\n      return null;\n    }\n\n    return deserializeAws_restJson1Button(entry, context);\n  });\n};\n\nvar deserializeAws_restJson1PredictedIntent = function deserializeAws_restJson1PredictedIntent(output, context) {\n  return {\n    intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n    nluIntentConfidence: output.nluIntentConfidence !== undefined && output.nluIntentConfidence !== null ? deserializeAws_restJson1IntentConfidence(output.nluIntentConfidence, context) : undefined,\n    slots: output.slots !== undefined && output.slots !== null ? deserializeAws_restJson1StringMap(output.slots, context) : undefined\n  };\n};\n\nvar deserializeAws_restJson1ResponseCard = function deserializeAws_restJson1ResponseCard(output, context) {\n  return {\n    contentType: output.contentType !== undefined && output.contentType !== null ? output.contentType : undefined,\n    genericAttachments: output.genericAttachments !== undefined && output.genericAttachments !== null ? deserializeAws_restJson1genericAttachmentList(output.genericAttachments, context) : undefined,\n    version: output.version !== undefined && output.version !== null ? output.version : undefined\n  };\n};\n\nvar deserializeAws_restJson1SentimentResponse = function deserializeAws_restJson1SentimentResponse(output, context) {\n  return {\n    sentimentLabel: output.sentimentLabel !== undefined && output.sentimentLabel !== null ? output.sentimentLabel : undefined,\n    sentimentScore: output.sentimentScore !== undefined && output.sentimentScore !== null ? output.sentimentScore : undefined\n  };\n};\n\nvar deserializeAws_restJson1StringMap = function deserializeAws_restJson1StringMap(output, context) {\n  return Object.entries(output).reduce(function (acc, _a) {\n    var _b;\n\n    var _c = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __read */ \"e\"])(_a, 2),\n        key = _c[0],\n        value = _c[1];\n\n    if (value === null) {\n      return acc;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __assign */ \"a\"])({}, acc), (_b = {}, _b[key] = value, _b));\n  }, {});\n};\n\nvar deserializeMetadata = function deserializeMetadata(output) {\n  var _a;\n\n  return {\n    httpStatusCode: output.statusCode,\n    requestId: (_a = output.headers[\"x-amzn-requestid\"]) !== null && _a !== void 0 ? _a : output.headers[\"x-amzn-request-id\"],\n    extendedRequestId: output.headers[\"x-amz-id-2\"],\n    cfId: output.headers[\"x-amz-cf-id\"]\n  };\n}; // Collect low-level response body stream to Uint8Array.\n\n\nvar collectBody = function collectBody(streamBody, context) {\n  if (streamBody === void 0) {\n    streamBody = new Uint8Array();\n  }\n\n  if (streamBody instanceof Uint8Array) {\n    return Promise.resolve(streamBody);\n  }\n\n  return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n}; // Encode Uint8Array data into string with utf-8.\n\n\nvar collectBodyString = function collectBodyString(streamBody, context) {\n  return collectBody(streamBody, context).then(function (body) {\n    return context.utf8Encoder(body);\n  });\n};\n\nvar isSerializableHeaderValue = function isSerializableHeaderValue(value) {\n  return value !== undefined && value !== null && value !== \"\" && (!Object.getOwnPropertyNames(value).includes(\"length\") || value.length != 0) && (!Object.getOwnPropertyNames(value).includes(\"size\") || value.size != 0);\n};\n\nvar parseBody = function parseBody(streamBody, context) {\n  return collectBodyString(streamBody, context).then(function (encoded) {\n    if (encoded.length) {\n      return JSON.parse(encoded);\n    }\n\n    return {};\n  });\n};\n/**\n * Load an error code for the aws.rest-json-1.1 protocol.\n */\n\n\nvar loadRestJsonErrorCode = function loadRestJsonErrorCode(output, data) {\n  var findKey = function findKey(object, key) {\n    return Object.keys(object).find(function (k) {\n      return k.toLowerCase() === key.toLowerCase();\n    });\n  };\n\n  var sanitizeErrorCode = function sanitizeErrorCode(rawValue) {\n    var cleanValue = rawValue;\n\n    if (cleanValue.indexOf(\":\") >= 0) {\n      cleanValue = cleanValue.split(\":\")[0];\n    }\n\n    if (cleanValue.indexOf(\"#\") >= 0) {\n      cleanValue = cleanValue.split(\"#\")[1];\n    }\n\n    return cleanValue;\n  };\n\n  var headerKey = findKey(output.headers, \"x-amzn-errortype\");\n\n  if (headerKey !== undefined) {\n    return sanitizeErrorCode(output.headers[headerKey]);\n  }\n\n  if (data.code !== undefined) {\n    return sanitizeErrorCode(data.code);\n  }\n\n  if (data[\"__type\"] !== undefined) {\n    return sanitizeErrorCode(data[\"__type\"]);\n  }\n\n  return \"\";\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(7).Buffer))\n\n/***/ }),\n\n/***/ 657:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"@aws-sdk/client-lex-runtime-service\\\",\\\"description\\\":\\\"AWS SDK for JavaScript Lex Runtime Service Client for Node.js, Browser and React Native\\\",\\\"version\\\":\\\"3.6.1\\\",\\\"scripts\\\":{\\\"clean\\\":\\\"yarn remove-definitions && yarn remove-dist && yarn remove-documentation\\\",\\\"build-documentation\\\":\\\"yarn remove-documentation && typedoc ./\\\",\\\"prepublishOnly\\\":\\\"yarn build\\\",\\\"pretest\\\":\\\"yarn build:cjs\\\",\\\"remove-definitions\\\":\\\"rimraf ./types\\\",\\\"remove-dist\\\":\\\"rimraf ./dist\\\",\\\"remove-documentation\\\":\\\"rimraf ./docs\\\",\\\"test:unit\\\":\\\"mocha **/cjs/**/*.spec.js\\\",\\\"test\\\":\\\"yarn test:unit\\\",\\\"build:cjs\\\":\\\"tsc -p tsconfig.json\\\",\\\"build:es\\\":\\\"tsc -p tsconfig.es.json\\\",\\\"build\\\":\\\"yarn build:cjs && yarn build:es\\\",\\\"postbuild\\\":\\\"downlevel-dts types types/ts3.4\\\"},\\\"main\\\":\\\"./dist/cjs/index.js\\\",\\\"types\\\":\\\"./types/index.d.ts\\\",\\\"module\\\":\\\"./dist/es/index.js\\\",\\\"browser\\\":{\\\"./runtimeConfig\\\":\\\"./runtimeConfig.browser\\\"},\\\"react-native\\\":{\\\"./runtimeConfig\\\":\\\"./runtimeConfig.native\\\"},\\\"sideEffects\\\":false,\\\"dependencies\\\":{\\\"@aws-crypto/sha256-browser\\\":\\\"^1.0.0\\\",\\\"@aws-crypto/sha256-js\\\":\\\"^1.0.0\\\",\\\"@aws-sdk/config-resolver\\\":\\\"3.6.1\\\",\\\"@aws-sdk/credential-provider-node\\\":\\\"3.6.1\\\",\\\"@aws-sdk/fetch-http-handler\\\":\\\"3.6.1\\\",\\\"@aws-sdk/hash-node\\\":\\\"3.6.1\\\",\\\"@aws-sdk/invalid-dependency\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-content-length\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-host-header\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-logger\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-retry\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-serde\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-signing\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-stack\\\":\\\"3.6.1\\\",\\\"@aws-sdk/middleware-user-agent\\\":\\\"3.6.1\\\",\\\"@aws-sdk/node-config-provider\\\":\\\"3.6.1\\\",\\\"@aws-sdk/node-http-handler\\\":\\\"3.6.1\\\",\\\"@aws-sdk/protocol-http\\\":\\\"3.6.1\\\",\\\"@aws-sdk/smithy-client\\\":\\\"3.6.1\\\",\\\"@aws-sdk/types\\\":\\\"3.6.1\\\",\\\"@aws-sdk/url-parser\\\":\\\"3.6.1\\\",\\\"@aws-sdk/url-parser-native\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-base64-browser\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-base64-node\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-body-length-browser\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-body-length-node\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-user-agent-browser\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-user-agent-node\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-utf8-browser\\\":\\\"3.6.1\\\",\\\"@aws-sdk/util-utf8-node\\\":\\\"3.6.1\\\",\\\"tslib\\\":\\\"^2.0.0\\\"},\\\"devDependencies\\\":{\\\"@aws-sdk/client-documentation-generator\\\":\\\"3.6.1\\\",\\\"@types/chai\\\":\\\"^4.2.11\\\",\\\"@types/mocha\\\":\\\"^8.0.4\\\",\\\"@types/node\\\":\\\"^12.7.5\\\",\\\"downlevel-dts\\\":\\\"0.7.0\\\",\\\"jest\\\":\\\"^26.1.0\\\",\\\"rimraf\\\":\\\"^3.0.0\\\",\\\"typedoc\\\":\\\"^0.19.2\\\",\\\"typescript\\\":\\\"~4.1.2\\\"},\\\"engines\\\":{\\\"node\\\":\\\">=10.0.0\\\"},\\\"typesVersions\\\":{\\\"<4.0\\\":{\\\"types/*\\\":[\\\"types/ts3.4/*\\\"]}},\\\"author\\\":{\\\"name\\\":\\\"AWS SDK for JavaScript Team\\\",\\\"url\\\":\\\"https://aws.amazon.com/javascript/\\\"},\\\"license\\\":\\\"Apache-2.0\\\",\\\"homepage\\\":\\\"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-lex-runtime-service\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/aws/aws-sdk-js-v3.git\\\",\\\"directory\\\":\\\"clients/client-lex-runtime-service\\\"}}\");\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/kedouard/Documents/SA/Labs/sbd-team-s3-bucket/amplify-s3final/node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-chatbot.entry.js","../../src/Providers/InteractionsProvider.ts","../../endpoints.ts","../../runtimeConfig.shared.ts","../../runtimeConfig.browser.ts","../../LexRuntimeServiceClient.ts","../../../models/models_0.ts","../../../commands/PostTextCommand.ts","../../../commands/PostContentCommand.ts","../../../src/Providers/AWSLexProviderHelper/convert.ts","../../src/Providers/AWSLexProvider.ts","../src/Interactions.ts","../../../protocols/Aws_restJson1.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","RECORDER_EXPORT_MIME_TYPE","DEFAULT_EXPORT_SAMPLE_RATE","FFT_SIZE","FFT_MAX_DECIBELS","FFT_MIN_DECIBELS","FFT_SMOOTHING_TIME_CONSTANT","mergeBuffers","bufferArray","recLength","Float32Array","offset","set","downsampleBuffer","buffer","recordSampleRate","exportSampleRate","sampleRateRatio","newLength","Math","round","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","floatTo16BitPCM","output","input","byteOffset","max","min","setInt16","writeString","view","string","setUint8","charCodeAt","encodeWAV","samples","audioSize","fmtSize","dataSize","totalByteSize","ArrayBuffer","DataView","setUint32","setUint16","exportBuffer","recBuffer","mergedBuffers","downsampledBuffer","encodedWav","audioBlob","Blob","type","logger","Logger","AudioRecorder","options","streamBuffer","streamBufferLength","recording","prototype","init","_this","_a","browserOrNode","isBrowser","window","AudioContext","webkitAudioContext","audioContext","navigator","mediaDevices","getUserMedia","audio","stream","audioSupported","setupAudioNodes","catch","err_1","sourceNode","processorNode","analyserNode","resume","error","createMediaStreamSource","createScriptProcessor","onaudioprocess","audioProcessingEvent","inputBuffer","getChannelData","analyse","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","connect","context","destination","startRecording","onSilence","visualizer","err_2","start","Date","now","stopRecording","clear","play","myBlob","res","rej","fileReader","FileReader","onload","playbackSource","disconnect","createBufferSource","successCallback","buf","onended","errorCallback","err","decodeAudioData","onerror","readAsArrayBuffer","stop","analyser","fftSize","bufferLength","dataArray","Uint8Array","amplitude","time","getByteTimeDomainData","curr_value_time","newtime","elapsedTime","exportWAV","blob","sampleRate","visualize","canvas","Error","getBoundingClientRect","width","height","canvasCtx","getContext","fillStyle","clearRect","draw","fillRect","lineWidth","color","getComputedStyle","document","documentElement","getPropertyValue","strokeStyle","beginPath","sliceWidth","x","moveTo","lineTo","stroke","requestAnimationFrame","amplifyChatbotCss","ChatState","MessageFrom","ChatErrorType","AmplifyChatbot","class_1","hostRef","registerInstance","clearOnComplete","conversationModeOn","botTitle","Translations","CHATBOT_TITLE","voiceEnabled","textEnabled","silenceTime","silenceThreshold","messages","text","chatState","Initial","messageJSX","messageList","map","message","h","class","from","content","SendingText","SendingVoice","client","Bot","User","chatCompleted","createEvent","submitHandler","_event","sendTextMessage","componentWillLoad","Interactions","onComplete","NO_INTERACTIONS_MODULE_FOUND","validateProps","componentDidRender","element","shadowRoot","querySelector","scrollTop","scrollHeight","setError","CHAT_DISABLED_ERROR","Unrecoverable","botName","NO_BOT_NAME_ERROR","welcomeMessage","appendToChat","audioRecorder","Recoverable","data","emit","reset","handleMicButton","Listening","handleSilence","sendVoiceMessage","handleTextChange","event","target","handleCancelButton","handleToastClose","errorType","undefined","response","err_3","send","audioInput","interactionsMessage","err_4","dialogState","messageType","inputTranscript","audioStream","listeningFooterJSX","visualization","cancelButton","handleButtonClick","variant","icon","footerJSX","inputPlaceholder","TEXT_INPUT_PLACEHOLDER","VOICE_INPUT_PLACEHOLDER","textInput","placeholder","I18n","get","description","handleInputChange","evt","disabled","micButton","sendButton","errorToast","handleClose","render","Host","name","Object","defineProperty","getElement","enumerable","configurable","style"],"mappings":"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","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, c as createEvent, H as Host, g as getElement } from './index-3fb5c139.js';\nimport { Logger, browserOrNode, I18n } from '@aws-amplify/core';\nimport '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { d as NO_INTERACTIONS_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { Interactions } from '@aws-amplify/interactions';\n// AudioRecorder settings\nvar RECORDER_EXPORT_MIME_TYPE = 'application/octet-stream';\nvar DEFAULT_EXPORT_SAMPLE_RATE = 16000;\nvar FFT_SIZE = 2048; // window size in samples for Fast Fourier Transform (FFT)\nvar FFT_MAX_DECIBELS = -10; // maximum power value in the scaling range for the FFT analysis data\nvar FFT_MIN_DECIBELS = -90; // minimum power value in the scaling range for the FFT analysis data\nvar FFT_SMOOTHING_TIME_CONSTANT = 0.85; // averaging constant with the last analysis frame\n/**\n * Merges multiple buffers into one.\n */\nvar mergeBuffers = function (bufferArray, recLength) {\n    var result = new Float32Array(recLength);\n    var offset = 0;\n    for (var i = 0; i < bufferArray.length; i++) {\n        result.set(bufferArray[i], offset);\n        offset += bufferArray[i].length;\n    }\n    return result;\n};\n/**\n * Downsamples audio to desired export sample rate.\n */\nvar downsampleBuffer = function (buffer, recordSampleRate, exportSampleRate) {\n    if (exportSampleRate === recordSampleRate) {\n        return buffer;\n    }\n    var sampleRateRatio = recordSampleRate / exportSampleRate;\n    var newLength = Math.round(buffer.length / sampleRateRatio);\n    var result = new Float32Array(newLength);\n    var offsetResult = 0;\n    var offsetBuffer = 0;\n    while (offsetResult < result.length) {\n        var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n        var accum = 0, count = 0;\n        for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n            accum += buffer[i];\n            count++;\n        }\n        result[offsetResult] = accum / count;\n        offsetResult++;\n        offsetBuffer = nextOffsetBuffer;\n    }\n    return result;\n};\n/**\n * converts raw audio values to 16 bit pcm.\n */\nvar floatTo16BitPCM = function (output, offset, input) {\n    var byteOffset = offset;\n    for (var i = 0; i < input.length; i++, byteOffset += 2) {\n        var s = Math.max(-1, Math.min(1, input[i]));\n        output.setInt16(byteOffset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n};\n/**\n * Write given strings in big-endian order.\n */\nvar writeString = function (view, offset, string) {\n    for (var i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n    }\n};\n/**\n * Encodes raw pcm audio into a wav file.\n */\nvar encodeWAV = function (samples, exportSampleRate) {\n    /**\n     * WAV file consists of three parts: RIFF header, WAVE subchunk, and data subchunk. We precompute the size of them.\n     */\n    var audioSize = samples.length * 2; // We use 16-bit samples, so we have (2 * sampleLength) bytes.\n    var fmtSize = 24; // Byte size of the fmt subchunk: 24 bytes that the audio information that we'll set below.\n    var dataSize = 8 + audioSize; // Byte size of the data subchunk: raw sound data plus 8 bytes for the subchunk descriptions.\n    var totalByteSize = 12 + fmtSize + dataSize; // Byte size of the whole file, including the chunk header / descriptor.\n    // create DataView object to write byte values into\n    var buffer = new ArrayBuffer(totalByteSize); // buffer to write the chunk values in.\n    var view = new DataView(buffer);\n    /**\n     * Start writing the .wav file. We write top to bottom, so byte offset (first numeric argument) increases strictly.\n     */\n    // RIFF header\n    writeString(view, 0, 'RIFF'); // At offset 0, write the letters \"RIFF\"\n    view.setUint32(4, fmtSize + dataSize, true); // At offset 4, write the size of fmt and data chunk size combined.\n    writeString(view, 8, 'WAVE'); // At offset 8, write the format type \"WAVE\"\n    // fmt subchunk\n    writeString(view, 12, 'fmt '); //chunkdId 'fmt '\n    view.setUint32(16, fmtSize - 8, true); // fmt subchunk size below this value. We set 8 bytes already, so subtract 8 bytes from fmtSize.\n    view.setUint16(20, 1, true); // Audio format code, which is 1 for PCM.\n    view.setUint16(22, 1, true); // Number of audio channels. We use mono, ie 1.\n    view.setUint32(24, exportSampleRate, true); // Sample rate of the audio file.\n    view.setUint32(28, exportSampleRate * 2, true); // Data rate, or # of data bytes per second. Since each sample is 2 bytes, this is 2 * sampleRate.\n    view.setUint16(32, 2, true); // block align, # of bytes per sample including all channels, ie. 2 bytes.\n    view.setUint16(34, 16, true); // bits per sample, ie. 16 bits\n    // data subchunk\n    writeString(view, 36, 'data'); // write the chunkId 'data'\n    view.setUint32(40, audioSize, true); // Audio byte size\n    floatTo16BitPCM(view, 44, samples); // raw pcm values then go here.\n    return view;\n};\n/**\n * Given arrays of raw pcm audio, downsamples the audio to desired sample rate and encodes it to a wav audio file.\n *\n * @param recBuffer {Float32Array[]} - 2d float array containing the recorded raw audio\n * @param recLength {number} - total length of recorded audio\n * @param recordSampleRate {number} - sample rate of the recorded audio\n * @param exportSampleRate {number} - desired sample rate of the exported file\n */\nvar exportBuffer = function (recBuffer, recLength, recordSampleRate, exportSampleRate) {\n    var mergedBuffers = mergeBuffers(recBuffer, recLength);\n    var downsampledBuffer = downsampleBuffer(mergedBuffers, recordSampleRate, exportSampleRate);\n    var encodedWav = encodeWAV(downsampledBuffer, exportSampleRate);\n    var audioBlob = new Blob([encodedWav], {\n        type: RECORDER_EXPORT_MIME_TYPE,\n    });\n    return audioBlob;\n};\nvar logger = new Logger('AudioRecorder');\nvar AudioRecorder = /** @class */ (function () {\n    function AudioRecorder(options) {\n        // input mic stream is stored in a buffer\n        this.streamBuffer = [];\n        this.streamBufferLength = 0;\n        this.recording = false;\n        this.options = options;\n    }\n    /**\n     * This must be called first to enable audio context and request microphone access.\n     * Once access granted, it connects all the necessary audio nodes to the context so that it can begin recording or playing.\n     */\n    AudioRecorder.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!browserOrNode().isBrowser) return [3 /*break*/, 2];\n                        window.AudioContext = window.AudioContext || window.webkitAudioContext;\n                        this.audioContext = new AudioContext();\n                        return [4 /*yield*/, navigator.mediaDevices\n                                .getUserMedia({ audio: true })\n                                .then(function (stream) {\n                                _this.audioSupported = true;\n                                _this.setupAudioNodes(stream);\n                            })\n                                .catch(function () {\n                                _this.audioSupported = false;\n                                return Promise.reject('Audio is not supported');\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        this.audioSupported = false;\n                        return [2 /*return*/, Promise.reject('Audio is not supported')];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Setup audio nodes after successful `init`.\n     */\n    AudioRecorder.prototype.setupAudioNodes = function (stream) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_1, sourceNode, processorNode, analyserNode;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.audioContext.resume()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _a.sent();\n                        logger.error(err_1);\n                        return [3 /*break*/, 3];\n                    case 3:\n                        sourceNode = this.audioContext.createMediaStreamSource(stream);\n                        processorNode = this.audioContext.createScriptProcessor(4096, 1, 1);\n                        processorNode.onaudioprocess = function (audioProcessingEvent) {\n                            if (!_this.recording)\n                                return;\n                            var stream = audioProcessingEvent.inputBuffer.getChannelData(0);\n                            _this.streamBuffer.push(new Float32Array(stream)); // set to a copy of the stream\n                            _this.streamBufferLength += stream.length;\n                            _this.analyse();\n                        };\n                        analyserNode = this.audioContext.createAnalyser();\n                        analyserNode.minDecibels = FFT_MIN_DECIBELS;\n                        analyserNode.maxDecibels = FFT_MAX_DECIBELS;\n                        analyserNode.smoothingTimeConstant = FFT_SMOOTHING_TIME_CONSTANT;\n                        sourceNode.connect(analyserNode);\n                        analyserNode.connect(processorNode);\n                        processorNode.connect(sourceNode.context.destination);\n                        this.analyserNode = analyserNode;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Start recording audio and listen for silence.\n     *\n     * @param onSilence {SilenceHandler} - called whenever silence is detected\n     * @param visualizer {Visualizer} - called with audio data on each audio process to be used for visualization.\n     */\n    AudioRecorder.prototype.startRecording = function (onSilence, visualizer) {\n        return __awaiter(this, void 0, void 0, function () {\n            var context, err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.recording || !this.audioSupported)\n                            return [2 /*return*/];\n                        this.onSilence = onSilence || function () { };\n                        this.visualizer = visualizer || function () { };\n                        context = this.audioContext;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, context.resume()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_2 = _a.sent();\n                        logger.error(err_2);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        this.start = Date.now();\n                        this.recording = true;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Pause recording\n     */\n    AudioRecorder.prototype.stopRecording = function () {\n        if (!this.audioSupported)\n            return;\n        this.recording = false;\n    };\n    /**\n     * Pause recording and clear audio buffer\n     */\n    AudioRecorder.prototype.clear = function () {\n        this.stopRecording();\n        this.streamBufferLength = 0;\n        this.streamBuffer = [];\n    };\n    /**\n     * Plays given audioStream with audioContext\n     *\n     * @param buffer {Uint8Array} - audioStream to be played\n     */\n    AudioRecorder.prototype.play = function (buffer) {\n        var _this = this;\n        if (!buffer || !this.audioSupported)\n            return;\n        var myBlob = new Blob([buffer]);\n        return new Promise(function (res, rej) {\n            var fileReader = new FileReader();\n            fileReader.onload = function () {\n                if (_this.playbackSource)\n                    _this.playbackSource.disconnect(); // disconnect previous playback source\n                _this.playbackSource = _this.audioContext.createBufferSource();\n                var successCallback = function (buf) {\n                    _this.playbackSource.buffer = buf;\n                    _this.playbackSource.connect(_this.audioContext.destination);\n                    _this.playbackSource.onended = function () {\n                        return res();\n                    };\n                    _this.playbackSource.start(0);\n                };\n                var errorCallback = function (err) {\n                    return rej(err);\n                };\n                _this.audioContext.decodeAudioData(fileReader.result, successCallback, errorCallback);\n            };\n            fileReader.onerror = function () { return rej(); };\n            fileReader.readAsArrayBuffer(myBlob);\n        });\n    };\n    /**\n     * Stops playing audio if there's a playback source connected.\n     */\n    AudioRecorder.prototype.stop = function () {\n        if (this.playbackSource) {\n            this.playbackSource.stop();\n        }\n    };\n    /**\n     * Called after each audioProcess. Check for silence and give fft time domain data to visualizer.\n     */\n    AudioRecorder.prototype.analyse = function () {\n        if (!this.audioSupported)\n            return;\n        var analyser = this.analyserNode;\n        analyser.fftSize = FFT_SIZE;\n        var bufferLength = analyser.fftSize;\n        var dataArray = new Uint8Array(bufferLength);\n        var amplitude = this.options.amplitude;\n        var time = this.options.time;\n        analyser.getByteTimeDomainData(dataArray);\n        this.visualizer(dataArray, bufferLength);\n        for (var i = 0; i < bufferLength; i++) {\n            // Normalize between -1 and 1.\n            var curr_value_time = dataArray[i] / 128 - 1.0;\n            if (curr_value_time > amplitude || curr_value_time < -1 * amplitude) {\n                this.start = Date.now();\n            }\n        }\n        var newtime = Date.now();\n        var elapsedTime = newtime - this.start;\n        if (elapsedTime > time) {\n            this.onSilence();\n        }\n    };\n    /**\n     * Encodes recorded buffer to a wav file and exports it to a blob.\n     *\n     * @param exportSampleRate {number} - desired sample rate of the exported buffer\n     */\n    AudioRecorder.prototype.exportWAV = function (exportSampleRate) {\n        if (exportSampleRate === void 0) { exportSampleRate = DEFAULT_EXPORT_SAMPLE_RATE; }\n        return __awaiter(this, void 0, void 0, function () {\n            var recordSampleRate, blob;\n            return __generator(this, function (_a) {\n                if (!this.audioSupported)\n                    return [2 /*return*/];\n                recordSampleRate = this.audioContext.sampleRate;\n                blob = exportBuffer(this.streamBuffer, this.streamBufferLength, recordSampleRate, exportSampleRate);\n                this.clear();\n                return [2 /*return*/, blob];\n            });\n        });\n    };\n    return AudioRecorder;\n}());\nvar visualize = function (dataArray, bufferLength, canvas) {\n    if (!canvas)\n        return;\n    if (!browserOrNode().isBrowser)\n        throw new Error('Visualization is not supported on non-browsers.');\n    var _a = canvas.getBoundingClientRect(), width = _a.width, height = _a.height;\n    // need to update the default canvas width and height\n    canvas.width = width;\n    canvas.height = height;\n    var canvasCtx = canvas.getContext('2d');\n    canvasCtx.fillStyle = 'white';\n    canvasCtx.clearRect(0, 0, width, height);\n    var draw = function () {\n        canvasCtx.fillRect(0, 0, width, height);\n        canvasCtx.lineWidth = 1;\n        var color = getComputedStyle(document.documentElement).getPropertyValue('--amplify-primary-color');\n        canvasCtx.strokeStyle = !color || color === '' ? '#ff9900' : color; // TODO: try separate css variable\n        canvasCtx.beginPath();\n        var sliceWidth = (width * 1.0) / bufferLength;\n        var x = 0;\n        for (var i = 0; i < bufferLength || i % 3 === 0; i++) {\n            var value = dataArray[i] / 128.0;\n            var y = (value * height) / 2;\n            if (i === 0) {\n                canvasCtx.moveTo(x, y);\n            }\n            else {\n                canvasCtx.lineTo(x, y);\n            }\n            x += sliceWidth;\n        }\n        canvasCtx.lineTo(canvas.width, canvas.height / 2);\n        canvasCtx.stroke();\n    };\n    // Register our draw function with requestAnimationFrame.\n    requestAnimationFrame(draw);\n};\nvar amplifyChatbotCss = \".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}\";\n// enum for possible bot states\nvar ChatState;\n(function (ChatState) {\n    ChatState[ChatState[\"Initial\"] = 0] = \"Initial\";\n    ChatState[ChatState[\"Listening\"] = 1] = \"Listening\";\n    ChatState[ChatState[\"SendingText\"] = 2] = \"SendingText\";\n    ChatState[ChatState[\"SendingVoice\"] = 3] = \"SendingVoice\";\n    ChatState[ChatState[\"Error\"] = 4] = \"Error\";\n})(ChatState || (ChatState = {}));\n// Message types\nvar MessageFrom;\n(function (MessageFrom) {\n    MessageFrom[\"Bot\"] = \"bot\";\n    MessageFrom[\"User\"] = \"user\";\n})(MessageFrom || (MessageFrom = {}));\n// Error types\nvar ChatErrorType;\n(function (ChatErrorType) {\n    ChatErrorType[ChatErrorType[\"Recoverable\"] = 0] = \"Recoverable\";\n    ChatErrorType[ChatErrorType[\"Unrecoverable\"] = 1] = \"Unrecoverable\";\n})(ChatErrorType || (ChatErrorType = {}));\nvar AmplifyChatbot = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Clear messages when conversation finishes */\n        this.clearOnComplete = false;\n        /** Continue listening to users after they send the message */\n        this.conversationModeOn = false;\n        /** Text placed in the top header */\n        this.botTitle = Translations.CHATBOT_TITLE;\n        /** Whether voice chat is enabled */\n        this.voiceEnabled = false;\n        /** Whether text chat is enabled */\n        this.textEnabled = true;\n        /** Amount of silence (in ms) to wait for */\n        this.silenceTime = 1500;\n        /** Noise threshold between -1 and 1. Anything below is considered a silence. */\n        this.silenceThreshold = 0.2;\n        /** Messages in current session */\n        this.messages = [];\n        /** Text input box value  */\n        this.text = '';\n        /** Current app state */\n        this.chatState = ChatState.Initial;\n        /**\n         * Rendering methods\n         */\n        this.messageJSX = function (messages) {\n            var messageList = messages.map(function (message) { return h(\"div\", { class: \"bubble \" + message.from }, message.content); });\n            if (_this.chatState === ChatState.SendingText || _this.chatState === ChatState.SendingVoice) {\n                // if waiting for voice message, show animation on user side because app is waiting for transcript. Else put it on bot side.\n                var client = _this.chatState === ChatState.SendingText ? MessageFrom.Bot : MessageFrom.User;\n                messageList.push(h(\"div\", { class: \"bubble \" + client }, h(\"div\", { class: \"dot-flashing \" + client }, h(\"span\", { class: \"dot left\" }), h(\"span\", { class: \"dot middle\" }), h(\"span\", { class: \"dot right\" }))));\n            }\n            return messageList;\n        };\n        this.chatCompleted = createEvent(this, \"chatCompleted\", 7);\n    }\n    // Occurs when user presses enter in input box\n    class_1.prototype.submitHandler = function (_event) {\n        this.sendTextMessage();\n    };\n    /**\n     * Lifecycle functions\n     */\n    class_1.prototype.componentWillLoad = function () {\n        if (!Interactions || typeof Interactions.onComplete !== 'function') {\n            throw new Error(NO_INTERACTIONS_MODULE_FOUND);\n        }\n        this.validateProps();\n    };\n    class_1.prototype.componentDidRender = function () {\n        // scroll to the bottom if necessary\n        var body = this.element.shadowRoot.querySelector('.body');\n        body.scrollTop = body.scrollHeight;\n    };\n    class_1.prototype.validateProps = function () {\n        var _this = this;\n        if (!this.voiceEnabled && !this.textEnabled) {\n            this.setError(Translations.CHAT_DISABLED_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        else if (!this.botName) {\n            this.setError(Translations.NO_BOT_NAME_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        // Initialize AudioRecorder if voice is enabled\n        if (this.voiceEnabled) {\n            this.audioRecorder = new AudioRecorder({\n                time: this.silenceTime,\n                amplitude: this.silenceThreshold,\n            });\n            this.audioRecorder.init().catch(function (err) {\n                _this.setError(err, ChatErrorType.Recoverable);\n            });\n        }\n        // Callback function to be called after chat is completed\n        var onComplete = function (err, data) {\n            _this.chatCompleted.emit({\n                data: data,\n                err: err,\n            });\n            if (_this.clearOnComplete) {\n                _this.reset();\n            }\n            else {\n                _this.chatState = ChatState.Initial;\n            }\n        };\n        try {\n            Interactions.onComplete(this.botName, onComplete);\n        }\n        catch (err) {\n            this.setError(err, ChatErrorType.Unrecoverable);\n        }\n    };\n    /**\n     * Handlers\n     */\n    class_1.prototype.handleMicButton = function () {\n        var _this = this;\n        if (this.chatState !== ChatState.Initial)\n            return;\n        this.audioRecorder.stop();\n        this.chatState = ChatState.Listening;\n        this.audioRecorder.startRecording(function () { return _this.handleSilence(); }, function (data, length) { return _this.visualizer(data, length); });\n    };\n    class_1.prototype.handleSilence = function () {\n        var _this = this;\n        this.chatState = ChatState.SendingVoice;\n        this.audioRecorder.stopRecording();\n        this.audioRecorder.exportWAV().then(function (blob) {\n            _this.sendVoiceMessage(blob);\n        });\n    };\n    class_1.prototype.handleTextChange = function (event) {\n        var target = event.target;\n        this.text = target.value;\n    };\n    class_1.prototype.handleCancelButton = function () {\n        this.audioRecorder.clear();\n        this.chatState = ChatState.Initial;\n    };\n    class_1.prototype.handleToastClose = function (errorType) {\n        this.error = undefined; // clear error\n        // if error is recoverable, reset the app state to initial\n        if (errorType === ChatErrorType.Recoverable) {\n            this.chatState = ChatState.Initial;\n        }\n    };\n    /**\n     * Visualization\n     */\n    class_1.prototype.visualizer = function (dataArray, bufferLength) {\n        var canvas = this.element.shadowRoot.querySelector('canvas');\n        visualize(dataArray, bufferLength, canvas);\n    };\n    /**\n     * Interactions helpers\n     */\n    class_1.prototype.sendTextMessage = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var text, response, err_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.text.length === 0 || this.chatState !== ChatState.Initial)\n                            return [2 /*return*/];\n                        text = this.text;\n                        this.text = '';\n                        this.appendToChat(text, MessageFrom.User);\n                        this.chatState = ChatState.SendingText;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, text)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_3 = _a.sent();\n                        this.setError(err_3, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        if (response.message) {\n                            this.appendToChat(response.message, MessageFrom.Bot);\n                        }\n                        this.chatState = ChatState.Initial;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.sendVoiceMessage = function (audioInput) {\n        return __awaiter(this, void 0, void 0, function () {\n            var interactionsMessage, response, err_4, dialogState;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        interactionsMessage = {\n                            content: audioInput,\n                            options: {\n                                messageType: 'voice',\n                            },\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, interactionsMessage)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_4 = _a.sent();\n                        this.setError(err_4, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        this.chatState = ChatState.Initial;\n                        dialogState = response.dialogState;\n                        if (response.inputTranscript)\n                            this.appendToChat(response.inputTranscript, MessageFrom.User);\n                        this.appendToChat(response.message, MessageFrom.Bot);\n                        return [4 /*yield*/, this.audioRecorder\n                                .play(response.audioStream)\n                                .then(function () {\n                                // if conversationMode is on, chat is incomplete, and mic button isn't pressed yet, resume listening.\n                                if (_this.conversationModeOn &&\n                                    dialogState !== 'Fulfilled' &&\n                                    dialogState !== 'Failed' &&\n                                    _this.chatState === ChatState.Initial) {\n                                    _this.handleMicButton();\n                                }\n                            })\n                                .catch(function (err) { return _this.setError(err, ChatErrorType.Recoverable); })];\n                    case 5:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.appendToChat = function (content, from) {\n        this.messages = __spreadArrays(this.messages, [\n            {\n                content: content,\n                from: from,\n            },\n        ]);\n    };\n    /**\n     * State control methods\n     */\n    class_1.prototype.setError = function (error, errorType) {\n        var message = typeof error === 'string' ? error : error.message;\n        this.chatState = ChatState.Error;\n        this.error = { message: message, errorType: errorType };\n    };\n    class_1.prototype.reset = function () {\n        this.chatState = ChatState.Initial;\n        this.text = '';\n        this.error = undefined;\n        this.messages = [];\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        this.audioRecorder && this.audioRecorder.clear();\n    };\n    class_1.prototype.listeningFooterJSX = function () {\n        var _this = this;\n        var visualization = h(\"canvas\", { height: \"50\" });\n        var cancelButton = (h(\"amplify-button\", { \"data-test\": \"chatbot-cancel-button\", handleButtonClick: function () { return _this.handleCancelButton(); }, class: \"icon-button\", variant: \"icon\", icon: \"ban\" }));\n        return [visualization, cancelButton];\n    };\n    class_1.prototype.footerJSX = function () {\n        var _this = this;\n        if (this.chatState === ChatState.Listening)\n            return this.listeningFooterJSX();\n        var inputPlaceholder = this.textEnabled\n            ? Translations.TEXT_INPUT_PLACEHOLDER\n            : Translations.VOICE_INPUT_PLACEHOLDER;\n        var textInput = (h(\"amplify-input\", { placeholder: I18n.get(inputPlaceholder), description: \"text\", handleInputChange: function (evt) { return _this.handleTextChange(evt); }, value: this.text, disabled: this.chatState === ChatState.Error || !this.textEnabled }));\n        var micButton = this.voiceEnabled && (h(\"amplify-button\", { \"data-test\": \"chatbot-mic-button\", handleButtonClick: function () { return _this.handleMicButton(); }, class: \"icon-button\", variant: \"icon\", icon: \"microphone\", disabled: this.chatState === ChatState.Error || this.chatState !== ChatState.Initial }));\n        var sendButton = this.textEnabled && (h(\"amplify-button\", { \"data-test\": \"chatbot-send-button\", class: \"icon-button\", variant: \"icon\", icon: \"send\", handleButtonClick: function () { return _this.sendTextMessage(); }, disabled: this.chatState === ChatState.Error || this.chatState !== ChatState.Initial }));\n        return [textInput, micButton, sendButton];\n    };\n    class_1.prototype.errorToast = function () {\n        var _this = this;\n        if (!this.error)\n            return;\n        var _a = this.error, message = _a.message, errorType = _a.errorType;\n        return h(\"amplify-toast\", { message: I18n.get(message), handleClose: function () { return _this.handleToastClose(errorType); } });\n    };\n    class_1.prototype.render = function () {\n        return (h(Host, null, h(\"div\", { class: \"amplify-chatbot\" }, h(\"slot\", { name: \"header\" }, h(\"div\", { class: \"header\", \"data-test\": \"chatbot-header\" }, I18n.get(this.botTitle))), h(\"div\", { class: \"body\", \"data-test\": \"chatbot-body\" }, this.messageJSX(this.messages)), h(\"div\", { class: \"footer\", \"data-test\": \"chatbot-footer\" }, this.footerJSX()), this.errorToast())));\n    };\n    Object.defineProperty(class_1.prototype, \"element\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nAmplifyChatbot.style = amplifyChatbotCss;\nexport { AmplifyChatbot as amplify_chatbot };\n","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AbstractInteractionsProvider');\nvar AbstractInteractionsProvider = /** @class */ (function () {\n    function AbstractInteractionsProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractInteractionsProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = __assign(__assign({}, this._config), config);\n        logger.debug(\"configure \" + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractInteractionsProvider.prototype.getCategory = function () {\n        return 'Interactions';\n    };\n    Object.defineProperty(AbstractInteractionsProvider.prototype, \"options\", {\n        get: function () {\n            return __assign({}, this._config);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractInteractionsProvider;\n}());\nexport { AbstractInteractionsProvider };\n//# sourceMappingURL=InteractionsProvider.js.map","import { __assign } from \"tslib\";\n// Partition default templates\nvar AWS_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"runtime.lex.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"runtime.lex.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"runtime.lex.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    \"af-south-1\",\n    \"ap-east-1\",\n    \"ap-northeast-1\",\n    \"ap-northeast-2\",\n    \"ap-south-1\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"ca-central-1\",\n    \"eu-central-1\",\n    \"eu-north-1\",\n    \"eu-south-1\",\n    \"eu-west-1\",\n    \"eu-west-2\",\n    \"eu-west-3\",\n    \"me-south-1\",\n    \"sa-east-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-west-1\",\n    \"us-west-2\",\n]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nexport var defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        case \"ap-northeast-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.ap-northeast-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"ap-southeast-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.ap-southeast-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"ap-southeast-2\":\n            regionInfo = {\n                hostname: \"runtime.lex.ap-southeast-2.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"eu-central-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.eu-central-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"eu-west-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.eu-west-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"eu-west-2\":\n            regionInfo = {\n                hostname: \"runtime.lex.eu-west-2.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"us-east-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.us-east-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"us-west-2\":\n            regionInfo = {\n                hostname: \"runtime.lex.us-west-2.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                    signingService: \"lex\",\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-cn\",\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso\",\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso-b\",\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-us-gov\",\n                };\n            }\n            // Finally, assume it's an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                    signingService: \"lex\",\n                };\n            }\n    }\n    return Promise.resolve(__assign({ signingService: \"lex\" }, regionInfo));\n};\n//# sourceMappingURL=endpoints.js.map","import { defaultRegionInfoProvider } from \"./endpoints\";\nimport { parseUrl } from \"@aws-sdk/url-parser\";\n/**\n * @internal\n */\nexport var ClientSharedValues = {\n    apiVersion: \"2016-11-28\",\n    disableHostPrefix: false,\n    logger: {},\n    regionInfoProvider: defaultRegionInfoProvider,\n    serviceId: \"Lex Runtime Service\",\n    urlParser: parseUrl,\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map","import { __assign } from \"tslib\";\nimport packageInfo from \"./package.json\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { FetchHttpHandler, streamCollector } from \"@aws-sdk/fetch-http-handler\";\nimport { invalidProvider } from \"@aws-sdk/invalid-dependency\";\nimport { DEFAULT_MAX_ATTEMPTS } from \"@aws-sdk/middleware-retry\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\n/**\n * @internal\n */\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), { runtime: \"browser\", base64Decoder: fromBase64, base64Encoder: toBase64, bodyLengthChecker: calculateBodyLength, credentialDefaultProvider: function (_) { return function () { return Promise.reject(new Error(\"Credential is missing\")); }; }, defaultUserAgentProvider: defaultUserAgent({\n        serviceId: ClientSharedValues.serviceId,\n        clientVersion: packageInfo.version,\n    }), maxAttempts: DEFAULT_MAX_ATTEMPTS, region: invalidProvider(\"Region is missing\"), requestHandler: new FetchHttpHandler(), sha256: Sha256, streamCollector: streamCollector, utf8Decoder: fromUtf8, utf8Encoder: toUtf8 });\n//# sourceMappingURL=runtimeConfig.browser.js.map","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig, } from \"@aws-sdk/config-resolver\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { getAwsAuthPlugin, resolveAwsAuthConfig, } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client, } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Amazon Lex provides both build and runtime endpoints. Each endpoint provides a set of\n *       operations (API). Your conversational bot uses the runtime API to understand user utterances\n *       (user input text or voice). For example, suppose a user says \"I want pizza\", your bot sends\n *       this input to Amazon Lex using the runtime API. Amazon Lex recognizes that the user request is\n *       for the OrderPizza intent (one of the intents defined in the bot). Then Amazon Lex engages in\n *       user conversation on behalf of the bot to elicit required information (slot values, such as\n *       pizza size and crust type), and then performs fulfillment activity (that you configured when\n *       you created the bot). You use the build-time API to create and manage your Amazon Lex bot. For\n *       a list of build-time operations, see the build-time API, . </p>\n */\nvar LexRuntimeServiceClient = /** @class */ (function (_super) {\n    __extends(LexRuntimeServiceClient, _super);\n    function LexRuntimeServiceClient(configuration) {\n        var _this = this;\n        var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n        var _config_1 = resolveRegionConfig(_config_0);\n        var _config_2 = resolveEndpointsConfig(_config_1);\n        var _config_3 = resolveAwsAuthConfig(_config_2);\n        var _config_4 = resolveRetryConfig(_config_3);\n        var _config_5 = resolveHostHeaderConfig(_config_4);\n        var _config_6 = resolveUserAgentConfig(_config_5);\n        _this = _super.call(this, _config_6) || this;\n        _this.config = _config_6;\n        _this.middlewareStack.use(getAwsAuthPlugin(_this.config));\n        _this.middlewareStack.use(getRetryPlugin(_this.config));\n        _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n        _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n        _this.middlewareStack.use(getLoggerPlugin(_this.config));\n        _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n        return _this;\n    }\n    LexRuntimeServiceClient.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return LexRuntimeServiceClient;\n}(__Client));\nexport { LexRuntimeServiceClient };\n//# sourceMappingURL=LexRuntimeServiceClient.js.map","import { __assign } from \"tslib\";\nimport { SENSITIVE_STRING, } from \"@aws-sdk/smithy-client\";\nexport var ActiveContextTimeToLive;\n(function (ActiveContextTimeToLive) {\n    ActiveContextTimeToLive.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ActiveContextTimeToLive || (ActiveContextTimeToLive = {}));\nexport var ActiveContext;\n(function (ActiveContext) {\n    ActiveContext.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.parameters && { parameters: SENSITIVE_STRING }))); };\n})(ActiveContext || (ActiveContext = {}));\nexport var BadRequestException;\n(function (BadRequestException) {\n    BadRequestException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BadRequestException || (BadRequestException = {}));\nexport var ConflictException;\n(function (ConflictException) {\n    ConflictException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ConflictException || (ConflictException = {}));\nexport var DeleteSessionRequest;\n(function (DeleteSessionRequest) {\n    DeleteSessionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteSessionRequest || (DeleteSessionRequest = {}));\nexport var DeleteSessionResponse;\n(function (DeleteSessionResponse) {\n    DeleteSessionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteSessionResponse || (DeleteSessionResponse = {}));\nexport var InternalFailureException;\n(function (InternalFailureException) {\n    InternalFailureException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InternalFailureException || (InternalFailureException = {}));\nexport var LimitExceededException;\n(function (LimitExceededException) {\n    LimitExceededException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LimitExceededException || (LimitExceededException = {}));\nexport var NotFoundException;\n(function (NotFoundException) {\n    NotFoundException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NotFoundException || (NotFoundException = {}));\nexport var GetSessionRequest;\n(function (GetSessionRequest) {\n    GetSessionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetSessionRequest || (GetSessionRequest = {}));\nexport var FulfillmentState;\n(function (FulfillmentState) {\n    FulfillmentState[\"FAILED\"] = \"Failed\";\n    FulfillmentState[\"FULFILLED\"] = \"Fulfilled\";\n    FulfillmentState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(FulfillmentState || (FulfillmentState = {}));\nexport var MessageFormatType;\n(function (MessageFormatType) {\n    MessageFormatType[\"COMPOSITE\"] = \"Composite\";\n    MessageFormatType[\"CUSTOM_PAYLOAD\"] = \"CustomPayload\";\n    MessageFormatType[\"PLAIN_TEXT\"] = \"PlainText\";\n    MessageFormatType[\"SSML\"] = \"SSML\";\n})(MessageFormatType || (MessageFormatType = {}));\nexport var DialogActionType;\n(function (DialogActionType) {\n    DialogActionType[\"CLOSE\"] = \"Close\";\n    DialogActionType[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n    DialogActionType[\"DELEGATE\"] = \"Delegate\";\n    DialogActionType[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n    DialogActionType[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n})(DialogActionType || (DialogActionType = {}));\nexport var DialogAction;\n(function (DialogAction) {\n    DialogAction.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.slots && { slots: SENSITIVE_STRING })), (obj.message && { message: SENSITIVE_STRING }))); };\n})(DialogAction || (DialogAction = {}));\nexport var ConfirmationStatus;\n(function (ConfirmationStatus) {\n    ConfirmationStatus[\"CONFIRMED\"] = \"Confirmed\";\n    ConfirmationStatus[\"DENIED\"] = \"Denied\";\n    ConfirmationStatus[\"NONE\"] = \"None\";\n})(ConfirmationStatus || (ConfirmationStatus = {}));\nexport var IntentSummary;\n(function (IntentSummary) {\n    IntentSummary.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.slots && { slots: SENSITIVE_STRING }))); };\n})(IntentSummary || (IntentSummary = {}));\nexport var GetSessionResponse;\n(function (GetSessionResponse) {\n    GetSessionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(GetSessionResponse || (GetSessionResponse = {}));\nexport var BadGatewayException;\n(function (BadGatewayException) {\n    BadGatewayException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BadGatewayException || (BadGatewayException = {}));\nexport var DependencyFailedException;\n(function (DependencyFailedException) {\n    DependencyFailedException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DependencyFailedException || (DependencyFailedException = {}));\nexport var LoopDetectedException;\n(function (LoopDetectedException) {\n    LoopDetectedException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LoopDetectedException || (LoopDetectedException = {}));\nexport var NotAcceptableException;\n(function (NotAcceptableException) {\n    NotAcceptableException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NotAcceptableException || (NotAcceptableException = {}));\nexport var PostContentRequest;\n(function (PostContentRequest) {\n    PostContentRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.requestAttributes && { requestAttributes: SENSITIVE_STRING })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PostContentRequest || (PostContentRequest = {}));\nexport var DialogState;\n(function (DialogState) {\n    DialogState[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n    DialogState[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n    DialogState[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n    DialogState[\"FAILED\"] = \"Failed\";\n    DialogState[\"FULFILLED\"] = \"Fulfilled\";\n    DialogState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(DialogState || (DialogState = {}));\nexport var PostContentResponse;\n(function (PostContentResponse) {\n    PostContentResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PostContentResponse || (PostContentResponse = {}));\nexport var RequestTimeoutException;\n(function (RequestTimeoutException) {\n    RequestTimeoutException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RequestTimeoutException || (RequestTimeoutException = {}));\nexport var UnsupportedMediaTypeException;\n(function (UnsupportedMediaTypeException) {\n    UnsupportedMediaTypeException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(UnsupportedMediaTypeException || (UnsupportedMediaTypeException = {}));\nexport var PostTextRequest;\n(function (PostTextRequest) {\n    PostTextRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.requestAttributes && { requestAttributes: SENSITIVE_STRING })), (obj.inputText && { inputText: SENSITIVE_STRING })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PostTextRequest || (PostTextRequest = {}));\nexport var IntentConfidence;\n(function (IntentConfidence) {\n    IntentConfidence.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(IntentConfidence || (IntentConfidence = {}));\nexport var PredictedIntent;\n(function (PredictedIntent) {\n    PredictedIntent.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.slots && { slots: SENSITIVE_STRING }))); };\n})(PredictedIntent || (PredictedIntent = {}));\nexport var ContentType;\n(function (ContentType) {\n    ContentType[\"GENERIC\"] = \"application/vnd.amazonaws.card.generic\";\n})(ContentType || (ContentType = {}));\nexport var Button;\n(function (Button) {\n    Button.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Button || (Button = {}));\nexport var GenericAttachment;\n(function (GenericAttachment) {\n    GenericAttachment.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GenericAttachment || (GenericAttachment = {}));\nexport var ResponseCard;\n(function (ResponseCard) {\n    ResponseCard.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ResponseCard || (ResponseCard = {}));\nexport var SentimentResponse;\n(function (SentimentResponse) {\n    SentimentResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(SentimentResponse || (SentimentResponse = {}));\nexport var PostTextResponse;\n(function (PostTextResponse) {\n    PostTextResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign(__assign({}, obj), (obj.alternativeIntents && {\n        alternativeIntents: obj.alternativeIntents.map(function (item) { return PredictedIntent.filterSensitiveLog(item); }),\n    })), (obj.slots && { slots: SENSITIVE_STRING })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.message && { message: SENSITIVE_STRING })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PostTextResponse || (PostTextResponse = {}));\nexport var PutSessionRequest;\n(function (PutSessionRequest) {\n    PutSessionRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PutSessionRequest || (PutSessionRequest = {}));\nexport var PutSessionResponse;\n(function (PutSessionResponse) {\n    PutSessionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING })), (obj.activeContexts && { activeContexts: SENSITIVE_STRING }))); };\n})(PutSessionResponse || (PutSessionResponse = {}));\n//# sourceMappingURL=models_0.js.map","import { __extends } from \"tslib\";\nimport { PostTextRequest, PostTextResponse } from \"../models/models_0\";\nimport { deserializeAws_restJson1PostTextCommand, serializeAws_restJson1PostTextCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Sends user input to Amazon Lex. Client applications can use this API to send requests to\n *       Amazon Lex at runtime. Amazon Lex then interprets the user input using the machine learning model it\n *       built for the bot. </p>\n *          <p> In response, Amazon Lex returns the next <code>message</code> to convey to the user an\n *       optional <code>responseCard</code> to display. Consider the following example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input \"I would like a pizza\", Amazon Lex might return a response with a\n *           message eliciting slot data (for example, PizzaSize): \"What size pizza would you like?\"\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to obtain user confirmation \"Proceed with the pizza order?\".\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user replies to a confirmation prompt with a \"yes\", Amazon Lex might return\n *           a conclusion statement: \"Thank you, your cheese pizza has been ordered.\". </p>\n *             </li>\n *          </ul>\n *\n *          <p> Not all Amazon Lex messages require a user response. For example, a conclusion statement\n *       does not require a response. Some messages require only a \"yes\" or \"no\" user response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message\n *       in the response that you might use to enhance client behavior, for example, to display the\n *       appropriate client user interface. These are the <code>slotToElicit</code>,\n *         <code>dialogState</code>, <code>intentName</code>, and <code>slots</code> fields in the\n *       response. Consider the following examples: </p>\n *\n *          <ul>\n *             <li>\n *                <p>If the message is to elicit slot data, Amazon Lex returns the following context\n *           information:</p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>dialogState</code> set to ElicitSlot </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>intentName</code> set to the intent name in the current context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slotToElicit</code> set to the slot name for which the <code>message</code> is\n *               eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slots</code> set to a map of slots, configured for the intent, with currently\n *               known values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>dialogState</code> is set to\n *           ConfirmIntent and <code>SlotToElicit</code> is set to null. </p>\n *             </li>\n *             <li>\n *                <p>If the message is a clarification prompt (configured for the intent) that indicates\n *           that user intent is not understood, the <code>dialogState</code> is set to ElicitIntent\n *           and <code>slotToElicit</code> is set to null. </p>\n *             </li>\n *          </ul>\n *\n *          <p> In addition, Amazon Lex also returns your application-specific\n *         <code>sessionAttributes</code>. For more information, see <a href=\"https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html\">Managing Conversation Context</a>. </p>\n */\nvar PostTextCommand = /** @class */ (function (_super) {\n    __extends(PostTextCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostTextCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    PostTextCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"LexRuntimeServiceClient\";\n        var commandName = \"PostTextCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: PostTextRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostTextResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostTextCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostTextCommand(input, context);\n    };\n    PostTextCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostTextCommand(output, context);\n    };\n    return PostTextCommand;\n}($Command));\nexport { PostTextCommand };\n//# sourceMappingURL=PostTextCommand.js.map","import { __extends } from \"tslib\";\nimport { PostContentRequest, PostContentResponse } from \"../models/models_0\";\nimport { deserializeAws_restJson1PostContentCommand, serializeAws_restJson1PostContentCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p> Sends user input (text or speech) to Amazon Lex. Clients use this API to send text and audio\n *       requests to Amazon Lex at runtime. Amazon Lex interprets the user input using the machine learning model\n *       that it built for the bot. </p>\n *          <p>The <code>PostContent</code> operation supports audio input at 8kHz and 16kHz. You can use\n *       8kHz audio to achieve higher speech recognition accuracy in telephone audio applications. </p>\n *          <p> In response, Amazon Lex returns the next message to convey to the user. Consider the following\n *       example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input \"I would like a pizza,\" Amazon Lex might return a response with a message\n *           eliciting slot data (for example, <code>PizzaSize</code>): \"What size pizza would you\n *           like?\". </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to get user confirmation: \"Order the pizza?\". </p>\n *             </li>\n *             <li>\n *                <p> After the user replies \"Yes\" to the confirmation prompt, Amazon Lex might return a\n *           conclusion statement: \"Thank you, your cheese pizza has been ordered.\". </p>\n *             </li>\n *          </ul>\n *          <p> Not all Amazon Lex messages require a response from the user. For example, conclusion\n *       statements do not require a response. Some messages require only a yes or no response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message in\n *       the response that you can use to enhance client behavior, such as displaying the appropriate\n *       client user interface. Consider the following examples: </p>\n *          <ul>\n *             <li>\n *                <p> If the message is to elicit slot data, Amazon Lex returns the following context\n *           information: </p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-dialog-state</code> header set to <code>ElicitSlot</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-intent-name</code> header set to the intent name in the current\n *               context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slot-to-elicit</code> header set to the slot name for which the\n *                 <code>message</code> is eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slots</code> header set to a map of slots configured for the intent\n *               with their current values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>x-amz-lex-dialog-state</code>\n *           header is set to <code>Confirmation</code> and the <code>x-amz-lex-slot-to-elicit</code>\n *           header is omitted. </p>\n *             </li>\n *             <li>\n *                <p> If the message is a clarification prompt configured for the intent, indicating that\n *           the user intent is not understood, the <code>x-amz-dialog-state</code> header is set to\n *             <code>ElicitIntent</code> and the <code>x-amz-slot-to-elicit</code> header is omitted.\n *         </p>\n *             </li>\n *          </ul>\n *          <p> In addition, Amazon Lex also returns your application-specific <code>sessionAttributes</code>.\n *       For more information, see <a href=\"https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html\">Managing Conversation Context</a>. </p>\n */\nvar PostContentCommand = /** @class */ (function (_super) {\n    __extends(PostContentCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostContentCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    PostContentCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"LexRuntimeServiceClient\";\n        var commandName = \"PostContentCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: PostContentRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostContentResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostContentCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostContentCommand(input, context);\n    };\n    PostContentCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostContentCommand(output, context);\n    };\n    return PostContentCommand;\n}($Command));\nexport { PostContentCommand };\n//# sourceMappingURL=PostContentCommand.js.map","export var convert = function (stream) {\n    if (stream instanceof Blob || stream instanceof ReadableStream) {\n        return new Response(stream)\n            .arrayBuffer()\n            .then(function (buffer) { return new Uint8Array(buffer); });\n    }\n    else {\n        throw new Error('Readable is not supported.');\n    }\n};\n//# sourceMappingURL=convert.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { AbstractInteractionsProvider } from './InteractionsProvider';\nimport { LexRuntimeServiceClient, PostTextCommand, PostContentCommand, } from '@aws-sdk/client-lex-runtime-service';\nimport { ConsoleLogger as Logger, Credentials, getAmplifyUserAgent, } from '@aws-amplify/core';\nimport { convert } from './AWSLexProviderHelper/convert';\nvar logger = new Logger('AWSLexProvider');\nvar AWSLexProvider = /** @class */ (function (_super) {\n    __extends(AWSLexProvider, _super);\n    function AWSLexProvider(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, options) || this;\n        _this._botsCompleteCallback = {};\n        return _this;\n    }\n    AWSLexProvider.prototype.getProviderName = function () {\n        return 'AWSLexProvider';\n    };\n    AWSLexProvider.prototype.reportBotStatus = function (data, botname) {\n        var _this = this;\n        // Check if state is fulfilled to resolve onFullfilment promise\n        logger.debug('postContent state', data.dialogState);\n        if (data.dialogState === 'ReadyForFulfillment' ||\n            data.dialogState === 'Fulfilled') {\n            if (typeof this._botsCompleteCallback[botname] === 'function') {\n                setTimeout(function () {\n                    return _this._botsCompleteCallback[botname](null, { slots: data.slots });\n                }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === 'function') {\n                setTimeout(function () { return _this._config[botname].onComplete(null, { slots: data.slots }); }, 0);\n            }\n        }\n        if (data.dialogState === 'Failed') {\n            if (typeof this._botsCompleteCallback[botname] === 'function') {\n                setTimeout(function () { return _this._botsCompleteCallback[botname]('Bot conversation failed'); }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === 'function') {\n                setTimeout(function () { return _this._config[botname].onComplete('Bot conversation failed'); }, 0);\n            }\n        }\n    };\n    AWSLexProvider.prototype.sendMessage = function (botname, message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, params, postTextCommand, data, err_1, content, messageType, postContentCommand, data, audioArray, err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config[botname]) {\n                            return [2 /*return*/, Promise.reject('Bot ' + botname + ' does not exist')];\n                        }\n                        return [4 /*yield*/, Credentials.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        this.lexRuntimeServiceClient = new LexRuntimeServiceClient({\n                            region: this._config[botname].region,\n                            credentials: credentials,\n                            customUserAgent: getAmplifyUserAgent(),\n                        });\n                        if (!(typeof message === 'string')) return [3 /*break*/, 6];\n                        params = {\n                            botAlias: this._config[botname].alias,\n                            botName: botname,\n                            inputText: message,\n                            userId: credentials.identityId,\n                        };\n                        logger.debug('postText to lex', message);\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        postTextCommand = new PostTextCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postTextCommand)];\n                    case 3:\n                        data = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, data];\n                    case 4:\n                        err_1 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_1)];\n                    case 5: return [3 /*break*/, 11];\n                    case 6:\n                        content = message.content, messageType = message.options.messageType;\n                        if (messageType === 'voice') {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: 'audio/x-l16; sample-rate=16000',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: 'audio/mpeg',\n                            };\n                        }\n                        else {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: 'text/plain; charset=utf-8',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: 'audio/mpeg',\n                            };\n                        }\n                        logger.debug('postContent to lex', message);\n                        _a.label = 7;\n                    case 7:\n                        _a.trys.push([7, 10, , 11]);\n                        postContentCommand = new PostContentCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postContentCommand)];\n                    case 8:\n                        data = _a.sent();\n                        return [4 /*yield*/, convert(data.audioStream)];\n                    case 9:\n                        audioArray = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, __assign(__assign({}, data), { audioStream: audioArray })];\n                    case 10:\n                        err_2 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_2)];\n                    case 11: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSLexProvider.prototype.onComplete = function (botname, callback) {\n        if (!this._config[botname]) {\n            throw new ErrorEvent('Bot ' + botname + ' does not exist');\n        }\n        this._botsCompleteCallback[botname] = callback;\n    };\n    return AWSLexProvider;\n}(AbstractInteractionsProvider));\nexport { AWSLexProvider };\n//# sourceMappingURL=AWSLexProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { AWSLexProvider } from './Providers';\nvar logger = new Logger('Interactions');\nvar InteractionsClass = /** @class */ (function () {\n    /**\n     * Initialize PubSub with AWS configurations\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     */\n    function InteractionsClass(options) {\n        this._options = options;\n        logger.debug('Interactions Options', this._options);\n        this._pluggables = {};\n    }\n    InteractionsClass.prototype.getModuleName = function () {\n        return 'Interactions';\n    };\n    /**\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     * @return {Object} - The current configuration\n     */\n    InteractionsClass.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.Interactions || options : {};\n        logger.debug('configure Interactions', { opt: opt });\n        this._options = __assign(__assign({ bots: {} }, opt), opt.Interactions);\n        var aws_bots_config = this._options.aws_bots_config;\n        var bots_config = this._options.bots;\n        if (!Object.keys(bots_config).length && aws_bots_config) {\n            // Convert aws_bots_config to bots object\n            if (Array.isArray(aws_bots_config)) {\n                aws_bots_config.forEach(function (bot) {\n                    _this._options.bots[bot.name] = bot;\n                });\n            }\n        }\n        // Check if AWSLex provider is already on pluggables\n        if (!this._pluggables.AWSLexProvider &&\n            bots_config &&\n            Object.keys(bots_config)\n                .map(function (key) { return bots_config[key]; })\n                .find(function (bot) { return !bot.providerName || bot.providerName === 'AWSLexProvider'; })) {\n            this._pluggables.AWSLexProvider = new AWSLexProvider();\n        }\n        Object.keys(this._pluggables).map(function (key) {\n            _this._pluggables[key].configure(_this._options.bots);\n        });\n        return this._options;\n    };\n    InteractionsClass.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Interactions') {\n            if (!this._pluggables[pluggable.getProviderName()]) {\n                pluggable.configure(this._options.bots);\n                this._pluggables[pluggable.getProviderName()] = pluggable;\n                return;\n            }\n            else {\n                throw new Error('Bot ' + pluggable.getProviderName() + ' already plugged');\n            }\n        }\n    };\n    InteractionsClass.prototype.send = function (botname, message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var botProvider;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._options.bots || !this._options.bots[botname]) {\n                            throw new Error('Bot ' + botname + ' does not exist');\n                        }\n                        botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n                        if (!this._pluggables[botProvider]) {\n                            throw new Error('Bot ' +\n                                botProvider +\n                                ' does not have valid pluggin did you try addPluggable first?');\n                        }\n                        return [4 /*yield*/, this._pluggables[botProvider].sendMessage(botname, message)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    InteractionsClass.prototype.onComplete = function (botname, callback) {\n        if (!this._options.bots || !this._options.bots[botname]) {\n            throw new Error('Bot ' + botname + ' does not exist');\n        }\n        var botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n        if (!this._pluggables[botProvider]) {\n            throw new Error('Bot ' +\n                botProvider +\n                ' does not have valid pluggin did you try addPluggable first?');\n        }\n        this._pluggables[botProvider].onComplete(botname, callback);\n    };\n    return InteractionsClass;\n}());\nexport { InteractionsClass };\nexport var Interactions = new InteractionsClass(null);\nAmplify.register(Interactions);\n//# sourceMappingURL=Interactions.js.map","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { HttpRequest as __HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { LazyJsonString as __LazyJsonString, extendedEncodeURIComponent as __extendedEncodeURIComponent, } from \"@aws-sdk/smithy-client\";\nexport var serializeAws_restJson1DeleteSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                query = __assign({}, (input.checkpointLabelFilter !== undefined && { checkpointLabelFilter: input.checkpointLabelFilter }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PostContentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/octet-stream\", \"x-amz-content-sha256\": \"UNSIGNED-PAYLOAD\" }, (isSerializableHeaderValue(input.sessionAttributes) && {\n                    \"x-amz-lex-session-attributes\": Buffer.from(__LazyJsonString.fromObject(input.sessionAttributes)).toString(\"base64\"),\n                })), (isSerializableHeaderValue(input.requestAttributes) && {\n                    \"x-amz-lex-request-attributes\": Buffer.from(__LazyJsonString.fromObject(input.requestAttributes)).toString(\"base64\"),\n                })), (isSerializableHeaderValue(input.contentType) && { \"content-type\": input.contentType })), (isSerializableHeaderValue(input.accept) && { accept: input.accept })), (isSerializableHeaderValue(input.activeContexts) && {\n                    \"x-amz-lex-active-contexts\": Buffer.from(__LazyJsonString.fromObject(input.activeContexts)).toString(\"base64\"),\n                }));\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/content\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                if (input.inputStream !== undefined) {\n                    body = input.inputStream;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PostTextCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/text\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign(__assign({}, (input.activeContexts !== undefined &&\n                    input.activeContexts !== null && {\n                    activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context),\n                })), (input.inputText !== undefined && input.inputText !== null && { inputText: input.inputText })), (input.requestAttributes !== undefined &&\n                    input.requestAttributes !== null && {\n                    requestAttributes: serializeAws_restJson1StringMap(input.requestAttributes, context),\n                })), (input.sessionAttributes !== undefined &&\n                    input.sessionAttributes !== null && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PutSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/json\" }, (isSerializableHeaderValue(input.accept) && { accept: input.accept }));\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign(__assign({}, (input.activeContexts !== undefined &&\n                    input.activeContexts !== null && {\n                    activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context),\n                })), (input.dialogAction !== undefined &&\n                    input.dialogAction !== null && { dialogAction: serializeAws_restJson1DialogAction(input.dialogAction, context) })), (input.recentIntentSummaryView !== undefined &&\n                    input.recentIntentSummaryView !== null && {\n                    recentIntentSummaryView: serializeAws_restJson1IntentSummaryList(input.recentIntentSummaryView, context),\n                })), (input.sessionAttributes !== undefined &&\n                    input.sessionAttributes !== null && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    botAlias: undefined,\n                    botName: undefined,\n                    sessionId: undefined,\n                    userId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.botAlias !== undefined && data.botAlias !== null) {\n                    contents.botAlias = data.botAlias;\n                }\n                if (data.botName !== undefined && data.botName !== null) {\n                    contents.botName = data.botName;\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.userId !== undefined && data.userId !== null) {\n                    contents.userId = data.userId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadRequestException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalFailureException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 6];\n                    case \"LimitExceededException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 8];\n                    case \"NotFoundException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    activeContexts: undefined,\n                    dialogAction: undefined,\n                    recentIntentSummaryView: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.activeContexts !== undefined && data.activeContexts !== null) {\n                    contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n                }\n                if (data.dialogAction !== undefined && data.dialogAction !== null) {\n                    contents.dialogAction = deserializeAws_restJson1DialogAction(data.dialogAction, context);\n                }\n                if (data.recentIntentSummaryView !== undefined && data.recentIntentSummaryView !== null) {\n                    contents.recentIntentSummaryView = deserializeAws_restJson1IntentSummaryList(data.recentIntentSummaryView, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadRequestException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 2];\n                    case \"InternalFailureException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 4];\n                    case \"LimitExceededException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 6];\n                    case \"NotFoundException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PostContentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restJson1PostContentCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            alternativeIntents: undefined,\n            audioStream: undefined,\n            botVersion: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            inputTranscript: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            nluIntentConfidence: undefined,\n            sentimentResponse: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers[\"content-type\"] !== undefined) {\n            contents.contentType = output.headers[\"content-type\"];\n        }\n        if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n            contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n        }\n        if (output.headers[\"x-amz-lex-nlu-intent-confidence\"] !== undefined) {\n            contents.nluIntentConfidence = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-nlu-intent-confidence\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-alternative-intents\"] !== undefined) {\n            contents.alternativeIntents = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-alternative-intents\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n            contents.slots = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-slots\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n            contents.sessionAttributes = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-session-attributes\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-sentiment\"] !== undefined) {\n            contents.sentimentResponse = output.headers[\"x-amz-lex-sentiment\"];\n        }\n        if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n            contents.message = output.headers[\"x-amz-lex-message\"];\n        }\n        if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n            contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n        }\n        if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n            contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n        }\n        if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n            contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n        }\n        if (output.headers[\"x-amz-lex-input-transcript\"] !== undefined) {\n            contents.inputTranscript = output.headers[\"x-amz-lex-input-transcript\"];\n        }\n        if (output.headers[\"x-amz-lex-bot-version\"] !== undefined) {\n            contents.botVersion = output.headers[\"x-amz-lex-bot-version\"];\n        }\n        if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n            contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n        }\n        if (output.headers[\"x-amz-lex-active-contexts\"] !== undefined) {\n            contents.activeContexts = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-active-contexts\"], \"base64\").toString(\"ascii\"));\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PostContentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, parsedBody, message;\n    var _p;\n    return __generator(this, function (_q) {\n        switch (_q.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _p = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_p.body = _q.sent(), _p)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"NotAcceptableException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotAcceptableException\": return [3 /*break*/, 16];\n                    case \"NotFoundException\": return [3 /*break*/, 18];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 18];\n                    case \"RequestTimeoutException\": return [3 /*break*/, 20];\n                    case \"com.amazonaws.lexruntimeservice#RequestTimeoutException\": return [3 /*break*/, 20];\n                    case \"UnsupportedMediaTypeException\": return [3 /*break*/, 22];\n                    case \"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException\": return [3 /*break*/, 22];\n                }\n                return [3 /*break*/, 24];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 18:\n                _l = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 19:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _l.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 20:\n                _m = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1RequestTimeoutExceptionResponse(parsedOutput, context)];\n            case 21:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _m.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 22:\n                _o = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse(parsedOutput, context)];\n            case 23:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _o.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 24:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _q.label = 25;\n            case 25:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PostTextCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1PostTextCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    activeContexts: undefined,\n                    alternativeIntents: undefined,\n                    botVersion: undefined,\n                    dialogState: undefined,\n                    intentName: undefined,\n                    message: undefined,\n                    messageFormat: undefined,\n                    nluIntentConfidence: undefined,\n                    responseCard: undefined,\n                    sentimentResponse: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                    slotToElicit: undefined,\n                    slots: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.activeContexts !== undefined && data.activeContexts !== null) {\n                    contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n                }\n                if (data.alternativeIntents !== undefined && data.alternativeIntents !== null) {\n                    contents.alternativeIntents = deserializeAws_restJson1IntentList(data.alternativeIntents, context);\n                }\n                if (data.botVersion !== undefined && data.botVersion !== null) {\n                    contents.botVersion = data.botVersion;\n                }\n                if (data.dialogState !== undefined && data.dialogState !== null) {\n                    contents.dialogState = data.dialogState;\n                }\n                if (data.intentName !== undefined && data.intentName !== null) {\n                    contents.intentName = data.intentName;\n                }\n                if (data.message !== undefined && data.message !== null) {\n                    contents.message = data.message;\n                }\n                if (data.messageFormat !== undefined && data.messageFormat !== null) {\n                    contents.messageFormat = data.messageFormat;\n                }\n                if (data.nluIntentConfidence !== undefined && data.nluIntentConfidence !== null) {\n                    contents.nluIntentConfidence = deserializeAws_restJson1IntentConfidence(data.nluIntentConfidence, context);\n                }\n                if (data.responseCard !== undefined && data.responseCard !== null) {\n                    contents.responseCard = deserializeAws_restJson1ResponseCard(data.responseCard, context);\n                }\n                if (data.sentimentResponse !== undefined && data.sentimentResponse !== null) {\n                    contents.sentimentResponse = deserializeAws_restJson1SentimentResponse(data.sentimentResponse, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.slotToElicit !== undefined && data.slotToElicit !== null) {\n                    contents.slotToElicit = data.slotToElicit;\n                }\n                if (data.slots !== undefined && data.slots !== null) {\n                    contents.slots = deserializeAws_restJson1StringMap(data.slots, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PostTextCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return __generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"NotFoundException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PutSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restJson1PutSessionCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            audioStream: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers[\"content-type\"] !== undefined) {\n            contents.contentType = output.headers[\"content-type\"];\n        }\n        if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n            contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n        }\n        if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n            contents.slots = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-slots\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n            contents.sessionAttributes = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-session-attributes\"], \"base64\").toString(\"ascii\"));\n        }\n        if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n            contents.message = output.headers[\"x-amz-lex-message\"];\n        }\n        if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n            contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n        }\n        if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n            contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n        }\n        if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n            contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n        }\n        if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n            contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n        }\n        if (output.headers[\"x-amz-lex-active-contexts\"] !== undefined) {\n            contents.activeContexts = new __LazyJsonString(Buffer.from(output.headers[\"x-amz-lex-active-contexts\"], \"base64\").toString(\"ascii\"));\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PutSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return __generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"NotAcceptableException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#NotAcceptableException\": return [3 /*break*/, 14];\n                    case \"NotFoundException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BadGatewayExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BadGatewayException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1BadRequestExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BadRequestException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ConflictExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ConflictException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1DependencyFailedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"DependencyFailedException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1InternalFailureExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"InternalFailureException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LimitExceededExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"LimitExceededException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n            retryAfterSeconds: undefined,\n        };\n        if (parsedOutput.headers[\"retry-after\"] !== undefined) {\n            contents.retryAfterSeconds = parsedOutput.headers[\"retry-after\"];\n        }\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LoopDetectedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"LoopDetectedException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotAcceptableExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NotAcceptableException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotFoundExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NotFoundException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1RequestTimeoutExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"RequestTimeoutException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"UnsupportedMediaTypeException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_restJson1ActiveContext = function (input, context) {\n    return __assign(__assign(__assign({}, (input.name !== undefined && input.name !== null && { name: input.name })), (input.parameters !== undefined &&\n        input.parameters !== null && {\n        parameters: serializeAws_restJson1ActiveContextParametersMap(input.parameters, context),\n    })), (input.timeToLive !== undefined &&\n        input.timeToLive !== null && {\n        timeToLive: serializeAws_restJson1ActiveContextTimeToLive(input.timeToLive, context),\n    }));\n};\nvar serializeAws_restJson1ActiveContextParametersMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar serializeAws_restJson1ActiveContextsList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1ActiveContext(entry, context);\n    });\n};\nvar serializeAws_restJson1ActiveContextTimeToLive = function (input, context) {\n    return __assign(__assign({}, (input.timeToLiveInSeconds !== undefined &&\n        input.timeToLiveInSeconds !== null && { timeToLiveInSeconds: input.timeToLiveInSeconds })), (input.turnsToLive !== undefined && input.turnsToLive !== null && { turnsToLive: input.turnsToLive }));\n};\nvar serializeAws_restJson1DialogAction = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.fulfillmentState !== undefined &&\n        input.fulfillmentState !== null && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && input.intentName !== null && { intentName: input.intentName })), (input.message !== undefined && input.message !== null && { message: input.message })), (input.messageFormat !== undefined && input.messageFormat !== null && { messageFormat: input.messageFormat })), (input.slotToElicit !== undefined && input.slotToElicit !== null && { slotToElicit: input.slotToElicit })), (input.slots !== undefined &&\n        input.slots !== null && { slots: serializeAws_restJson1StringMap(input.slots, context) })), (input.type !== undefined && input.type !== null && { type: input.type }));\n};\nvar serializeAws_restJson1IntentSummary = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.checkpointLabel !== undefined &&\n        input.checkpointLabel !== null && { checkpointLabel: input.checkpointLabel })), (input.confirmationStatus !== undefined &&\n        input.confirmationStatus !== null && { confirmationStatus: input.confirmationStatus })), (input.dialogActionType !== undefined &&\n        input.dialogActionType !== null && { dialogActionType: input.dialogActionType })), (input.fulfillmentState !== undefined &&\n        input.fulfillmentState !== null && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && input.intentName !== null && { intentName: input.intentName })), (input.slotToElicit !== undefined && input.slotToElicit !== null && { slotToElicit: input.slotToElicit })), (input.slots !== undefined &&\n        input.slots !== null && { slots: serializeAws_restJson1StringMap(input.slots, context) }));\n};\nvar serializeAws_restJson1IntentSummaryList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1IntentSummary(entry, context);\n    });\n};\nvar serializeAws_restJson1StringMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeAws_restJson1ActiveContext = function (output, context) {\n    return {\n        name: output.name !== undefined && output.name !== null ? output.name : undefined,\n        parameters: output.parameters !== undefined && output.parameters !== null\n            ? deserializeAws_restJson1ActiveContextParametersMap(output.parameters, context)\n            : undefined,\n        timeToLive: output.timeToLive !== undefined && output.timeToLive !== null\n            ? deserializeAws_restJson1ActiveContextTimeToLive(output.timeToLive, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1ActiveContextParametersMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeAws_restJson1ActiveContextsList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ActiveContext(entry, context);\n    });\n};\nvar deserializeAws_restJson1ActiveContextTimeToLive = function (output, context) {\n    return {\n        timeToLiveInSeconds: output.timeToLiveInSeconds !== undefined && output.timeToLiveInSeconds !== null\n            ? output.timeToLiveInSeconds\n            : undefined,\n        turnsToLive: output.turnsToLive !== undefined && output.turnsToLive !== null ? output.turnsToLive : undefined,\n    };\n};\nvar deserializeAws_restJson1Button = function (output, context) {\n    return {\n        text: output.text !== undefined && output.text !== null ? output.text : undefined,\n        value: output.value !== undefined && output.value !== null ? output.value : undefined,\n    };\n};\nvar deserializeAws_restJson1DialogAction = function (output, context) {\n    return {\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        message: output.message !== undefined && output.message !== null ? output.message : undefined,\n        messageFormat: output.messageFormat !== undefined && output.messageFormat !== null ? output.messageFormat : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n        type: output.type !== undefined && output.type !== null ? output.type : undefined,\n    };\n};\nvar deserializeAws_restJson1GenericAttachment = function (output, context) {\n    return {\n        attachmentLinkUrl: output.attachmentLinkUrl !== undefined && output.attachmentLinkUrl !== null\n            ? output.attachmentLinkUrl\n            : undefined,\n        buttons: output.buttons !== undefined && output.buttons !== null\n            ? deserializeAws_restJson1listOfButtons(output.buttons, context)\n            : undefined,\n        imageUrl: output.imageUrl !== undefined && output.imageUrl !== null ? output.imageUrl : undefined,\n        subTitle: output.subTitle !== undefined && output.subTitle !== null ? output.subTitle : undefined,\n        title: output.title !== undefined && output.title !== null ? output.title : undefined,\n    };\n};\nvar deserializeAws_restJson1genericAttachmentList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1GenericAttachment(entry, context);\n    });\n};\nvar deserializeAws_restJson1IntentConfidence = function (output, context) {\n    return {\n        score: output.score !== undefined && output.score !== null ? output.score : undefined,\n    };\n};\nvar deserializeAws_restJson1IntentList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1PredictedIntent(entry, context);\n    });\n};\nvar deserializeAws_restJson1IntentSummary = function (output, context) {\n    return {\n        checkpointLabel: output.checkpointLabel !== undefined && output.checkpointLabel !== null ? output.checkpointLabel : undefined,\n        confirmationStatus: output.confirmationStatus !== undefined && output.confirmationStatus !== null\n            ? output.confirmationStatus\n            : undefined,\n        dialogActionType: output.dialogActionType !== undefined && output.dialogActionType !== null ? output.dialogActionType : undefined,\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1IntentSummaryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1IntentSummary(entry, context);\n    });\n};\nvar deserializeAws_restJson1listOfButtons = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Button(entry, context);\n    });\n};\nvar deserializeAws_restJson1PredictedIntent = function (output, context) {\n    return {\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        nluIntentConfidence: output.nluIntentConfidence !== undefined && output.nluIntentConfidence !== null\n            ? deserializeAws_restJson1IntentConfidence(output.nluIntentConfidence, context)\n            : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1ResponseCard = function (output, context) {\n    return {\n        contentType: output.contentType !== undefined && output.contentType !== null ? output.contentType : undefined,\n        genericAttachments: output.genericAttachments !== undefined && output.genericAttachments !== null\n            ? deserializeAws_restJson1genericAttachmentList(output.genericAttachments, context)\n            : undefined,\n        version: output.version !== undefined && output.version !== null ? output.version : undefined,\n    };\n};\nvar deserializeAws_restJson1SentimentResponse = function (output, context) {\n    return {\n        sentimentLabel: output.sentimentLabel !== undefined && output.sentimentLabel !== null ? output.sentimentLabel : undefined,\n        sentimentScore: output.sentimentScore !== undefined && output.sentimentScore !== null ? output.sentimentScore : undefined,\n    };\n};\nvar deserializeAws_restJson1StringMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeMetadata = function (output) {\n    var _a;\n    return ({\n        httpStatusCode: output.statusCode,\n        requestId: (_a = output.headers[\"x-amzn-requestid\"]) !== null && _a !== void 0 ? _a : output.headers[\"x-amzn-request-id\"],\n        extendedRequestId: output.headers[\"x-amz-id-2\"],\n        cfId: output.headers[\"x-amz-cf-id\"],\n    });\n};\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\nvar isSerializableHeaderValue = function (value) {\n    return value !== undefined &&\n        value !== null &&\n        value !== \"\" &&\n        (!Object.getOwnPropertyNames(value).includes(\"length\") || value.length != 0) &&\n        (!Object.getOwnPropertyNames(value).includes(\"size\") || value.size != 0);\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            return JSON.parse(encoded);\n        }\n        return {};\n    });\n};\n/**\n * Load an error code for the aws.rest-json-1.1 protocol.\n */\nvar loadRestJsonErrorCode = function (output, data) {\n    var findKey = function (object, key) { return Object.keys(object).find(function (k) { return k.toLowerCase() === key.toLowerCase(); }); };\n    var sanitizeErrorCode = function (rawValue) {\n        var cleanValue = rawValue;\n        if (cleanValue.indexOf(\":\") >= 0) {\n            cleanValue = cleanValue.split(\":\")[0];\n        }\n        if (cleanValue.indexOf(\"#\") >= 0) {\n            cleanValue = cleanValue.split(\"#\")[1];\n        }\n        return cleanValue;\n    };\n    var headerKey = findKey(output.headers, \"x-amzn-errortype\");\n    if (headerKey !== undefined) {\n        return sanitizeErrorCode(output.headers[headerKey]);\n    }\n    if (data.code !== undefined) {\n        return sanitizeErrorCode(data.code);\n    }\n    if (data[\"__type\"] !== undefined) {\n        return sanitizeErrorCode(data[\"__type\"]);\n    }\n    return \"\";\n};\n//# sourceMappingURL=Aws_restJson1.js.map"]}}